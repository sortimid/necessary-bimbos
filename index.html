<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Necessary Bimbos</title>
<style title="Twine CSS">@-webkit-keyframes appear{0%{opacity:0}to{opacity:1}}@keyframes appear{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}@keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}@-webkit-keyframes rumble{50%{-webkit-transform:translateY(-0.2em);transform:translateY(-0.2em)}}@keyframes rumble{50%{-webkit-transform:translateY(-0.2em);transform:translateY(-0.2em)}}@-webkit-keyframes shudder{50%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}@keyframes shudder{50%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}@-webkit-keyframes box-flash{0%{background-color:white;color:white}}@keyframes box-flash{0%{background-color:white;color:white}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}20%{-webkit-transform:scale(1.2, 1.2);transform:scale(1.2, 1.2)}40%{-webkit-transform:scale(0.9, 0.9);transform:scale(0.9, 0.9)}60%{-webkit-transform:scale(1.05, 1.05);transform:scale(1.05, 1.05)}80%{-webkit-transform:scale(0.925, 0.925);transform:scale(0.925, 0.925)}to{-webkit-transform:scale(1, 1);transform:scale(1, 1)}}@keyframes pulse{0%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}20%{-webkit-transform:scale(1.2, 1.2);transform:scale(1.2, 1.2)}40%{-webkit-transform:scale(0.9, 0.9);transform:scale(0.9, 0.9)}60%{-webkit-transform:scale(1.05, 1.05);transform:scale(1.05, 1.05)}80%{-webkit-transform:scale(0.925, 0.925);transform:scale(0.925, 0.925)}to{-webkit-transform:scale(1, 1);transform:scale(1, 1)}}@-webkit-keyframes shudder-in{0%, to{-webkit-transform:translateX(0em);transform:translateX(0em)}5%, 25%, 45%{-webkit-transform:translateX(-1em);transform:translateX(-1em)}15%, 35%, 55%{-webkit-transform:translateX(1em);transform:translateX(1em)}65%{-webkit-transform:translateX(-0.6em);transform:translateX(-0.6em)}75%{-webkit-transform:translateX(0.6em);transform:translateX(0.6em)}85%{-webkit-transform:translateX(-0.2em);transform:translateX(-0.2em)}95%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}@keyframes shudder-in{0%, to{-webkit-transform:translateX(0em);transform:translateX(0em)}5%, 25%, 45%{-webkit-transform:translateX(-1em);transform:translateX(-1em)}15%, 35%, 55%{-webkit-transform:translateX(1em);transform:translateX(1em)}65%{-webkit-transform:translateX(-0.6em);transform:translateX(-0.6em)}75%{-webkit-transform:translateX(0.6em);transform:translateX(0.6em)}85%{-webkit-transform:translateX(-0.2em);transform:translateX(-0.2em)}95%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}.debug-mode tw-expression[type=hookref]{background-color:rgba(115,123,140,0.15)}.debug-mode tw-expression[type=hookref]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"?" attr(name)}.debug-mode tw-expression[type=variable]{background-color:rgba(140,128,115,0.15)}.debug-mode tw-expression[type=variable]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"$" attr(name)}.debug-mode tw-expression[type=tempVariable]{background-color:rgba(140,128,115,0.15)}.debug-mode tw-expression[type=tempVariable]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"_" attr(name)}.debug-mode tw-expression[type=macro]:nth-of-type(4n+0){background-color:rgba(136,153,102,0.15)}.debug-mode tw-expression[type=macro]:nth-of-type(2n+1){background-color:rgba(102,153,102,0.15)}.debug-mode tw-expression[type=macro]:nth-of-type(4n+2){background-color:rgba(102,153,136,0.15)}.debug-mode tw-expression[type=macro][name="display"]{background-color:rgba(0,170,255,0.1) !important}.debug-mode tw-expression[type=macro][name="if"],.debug-mode tw-expression[type=macro][name="if"]+tw-hook:not([name]),.debug-mode tw-expression[type=macro][name="unless"],.debug-mode tw-expression[type=macro][name="unless"]+tw-hook:not([name]),.debug-mode tw-expression[type=macro][name="elseif"],.debug-mode tw-expression[type=macro][name="elseif"]+tw-hook:not([name]),.debug-mode tw-expression[type=macro][name="else"],.debug-mode tw-expression[type=macro][name="else"]+tw-hook:not([name]){background-color:rgba(0,255,0,0.1) !important}.debug-mode tw-expression[type=macro].false{background-color:rgba(255,0,0,0.2) !important}.debug-mode tw-expression[type=macro].false+tw-hook:not([name]){display:none}.debug-mode tw-expression[type=macro][name="a"],.debug-mode tw-expression[type=macro][name="array"],.debug-mode tw-expression[type=macro][name="datamap"],.debug-mode tw-expression[type=macro][name="dataset"],.debug-mode tw-expression[type=macro][name="colour"],.debug-mode tw-expression[type=macro][name="color"],.debug-mode tw-expression[type=macro][name="num"],.debug-mode tw-expression[type=macro][name="number"],.debug-mode tw-expression[type=macro][name="text"],.debug-mode tw-expression[type=macro][name="print"]{background-color:rgba(255,255,0,0.2) !important}.debug-mode tw-expression[type=macro][name="put"],.debug-mode tw-expression[type=macro][name="set"]{background-color:rgba(255,128,0,0.2) !important}.debug-mode tw-expression[type=macro][name="script"]{background-color:rgba(255,191,0,0.2) !important}.debug-mode tw-expression[type=macro][name="style"]{background-color:rgba(185,198,198,0.2) !important}.debug-mode tw-expression[type=macro][name^="link"],.debug-mode tw-expression[type=macro][name^="click"],.debug-mode tw-expression[type=macro][name^="mouseover"],.debug-mode tw-expression[type=macro][name^="mouseout"]{background-color:rgba(128,223,32,0.2) !important}.debug-mode tw-expression[type=macro][name^="replace"],.debug-mode tw-expression[type=macro][name^="prepend"],.debug-mode tw-expression[type=macro][name^="append"],.debug-mode tw-expression[type=macro][name^="remove"]{background-color:rgba(223,96,32,0.2) !important}.debug-mode tw-expression[type=macro][name="live"]{background-color:rgba(32,96,223,0.2) !important}.debug-mode tw-expression[type=macro]::before{content:"(" attr(name) ":)";padding:0 0.5rem;font-size:1rem;vertical-align:middle;line-height:normal;background-color:inherit;border:1px solid rgba(255,255,255,0.5)}.debug-mode tw-hook{background-color:rgba(0,85,255,0.1) !important}.debug-mode tw-hook::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"["}.debug-mode tw-hook::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"]"}.debug-mode tw-hook[name]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"]<" attr(name) "|"}.debug-mode tw-pseudo-hook{background-color:rgba(255,170,0,0.1) !important}.debug-mode tw-collapsed::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"{"}.debug-mode tw-collapsed::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"}"}.debug-mode tw-verbatim::before,.debug-mode tw-verbatim::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"`"}.debug-mode tw-align[style*="text-align: center"]{background:linear-gradient(to right, rgba(255,204,189,0) 0%, rgba(255,204,189,0.25) 50%, rgba(255,204,189,0) 100%)}.debug-mode tw-align[style*="text-align: left"]{background:linear-gradient(to right, rgba(255,204,189,0.25) 0%, rgba(255,204,189,0) 100%)}.debug-mode tw-align[style*="text-align: right"]{background:linear-gradient(to right, rgba(255,204,189,0) 0%, rgba(255,204,189,0.25) 100%)}.debug-mode tw-column{background-color:rgba(189,228,255,0.2)}.debug-mode tw-enchantment{animation:enchantment 0.5s infinite;-webkit-animation:enchantment 0.5s infinite;border:1px solid}.debug-mode tw-link::after,.debug-mode tw-broken-link::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(passage-name)}.debug-mode tw-include{background-color:rgba(204,128,51,0.1)}.debug-mode tw-include::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(type) ' "' attr(title) '"'}@keyframes enchantment{0%,to{border-color:#ffb366}50%{border-color:#6fc}}@-webkit-keyframes enchantment{0%,to{border-color:#ffb366}50%{border-color:#6fc}}tw-debugger{position:fixed;box-sizing:border-box;bottom:0;right:0;z-index:999999;min-width:10em;min-height:1em;padding:1em;font-size:1.25em;font-family:sans-serif;border-left:solid #000 2px;border-top:solid #000 2px;border-top-left-radius:.5em;background:#fff;opacity:1}tw-debugger select{margin-right:1em;width:12em}tw-debugger button{border-radius:3px;border:solid #999 1px;margin:auto 4px;background-color:#fff;font-size:inherit}tw-debugger button.enabled{background-color:#eee;box-shadow:inset #ddd 3px 5px 0.5em}tw-debugger .variables{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:absolute;bottom:100%;left:-2px;right:0;padding:1em;max-height:40vh;overflow-y:scroll;overflow-x:hidden;z-index:999998;background:#fff;border:inherit;border-top-left-radius:.5em;border-bottom-left-radius:.5em;font-size:0.8em}tw-debugger .variables:empty,tw-debugger .variables[hidden]{display:none}tw-debugger .variables .variable-row{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;flex-shrink:0}tw-debugger .variables .variable-row:nth-child(2n){background:#EEE}tw-debugger .variables .variable-name{display:inline-block;width:50%}tw-debugger .variables .variable-name::before{content:"$"}tw-debugger .variables .variable-name.temporary::before{content:"_"}tw-debugger .variables .variable-name .temporary-variable-scope{opacity:0.8;font-size:0.75em}tw-debugger .variables .variable-name .temporary-variable-scope::before{content:" in "}tw-debugger .variables .variable-value{display:inline-block;width:50%}tw-link,.link,tw-icon,.enchantment-clickblock{cursor:pointer}tw-link,.enchantment-link{color:#4169E1;font-weight:bold;text-decoration:none;transition:color 0.2s ease-in-out}tw-enchantment[style^="color"] tw-link:not(:hover),tw-enchantment[style*=" color"] tw-link:not(:hover),tw-enchantment[style^="color"] .enchantment-link:not(:hover),tw-enchantment[style*=" color"] .enchantment-link:not(:hover){color:inherit}tw-link:hover,.enchantment-link:hover{color:#00bfff}tw-link:active,.enchantment-link:active{color:#DD4B39}.visited{color:#6941e1}tw-enchantment[style^="color"] .visited:not(:hover),tw-enchantment[style*=" color"] .visited:not(:hover){color:inherit}.visited:hover{color:#E3E}tw-broken-link{color:#993333;border-bottom:2px solid #993333;cursor:not-allowed}tw-enchantment[style^="color"] tw-broken-link:not(:hover),tw-enchantment[style*=" color"] tw-broken-link:not(:hover){color:inherit}.enchantment-mouseover{border-bottom:1px dashed #666}.enchantment-mouseout{border:rgba(64,149,191,0.25) 1px solid}.enchantment-mouseout:hover{background-color:rgba(64,149,191,0.25);border:transparent 1px solid;border-radius:0.2em}.enchantment-clickblock{box-shadow:inset 0 0 0 0.5vmax;display:block;color:rgba(65,105,225,0.5);transition:color 0.2s ease-in-out}.enchantment-clickblock:hover{color:rgba(0,191,255,0.5)}.enchantment-clickblock:active{color:rgba(222,78,59,0.5)}html{margin:0;height:100%;overflow-x:hidden}*,:before,:after{position:relative;box-sizing:inherit}body{margin:0;height:100%}tw-storydata{display:none}tw-story{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font:100% Georgia, serif;box-sizing:border-box;width:100%;min-height:100%;font-size:1.5em;line-height:1.5em;padding:5% 20%;margin:0;background-color:#000;color:#fff}tw-passage{display:block}br+br{display:block;height:0;margin:0.8ex 0}tw-sidebar{left:-5em;width:3em;position:absolute;text-align:center;display:block}tw-icon{display:block;margin:0.5em 0;opacity:0.1;font-size:2.75em}tw-icon:hover{opacity:0.3}tw-hook:empty,tw-expression:empty{display:none}tw-error{display:inline-block;border-radius:0.2em;padding:0.2em;font-size:1rem;cursor:help}tw-error.error{background-color:rgba(223,58,190,0.4);color:#fff}tw-error.warning{background-color:rgba(223,140,58,0.4);color:#fff;display:none}.debug-mode tw-error.warning{display:inline}tw-error-explanation{display:block;font-size:0.8rem;line-height:1rem}tw-error-explanation-button{cursor:pointer;line-height:0em;border-radius:1px;border:1px solid black;font-size:0.8rem;margin:0 0.4rem;opacity:0.5}tw-error-explanation-button .folddown-arrowhead{display:inline-block}tw-notifier{border-radius:0.2em;padding:0.2em;font-size:1rem;background-color:rgba(223,182,58,0.4);display:none}.debug-mode tw-notifier{display:inline}tw-notifier::before{content:attr(message)}tw-colour{border:1px solid black;display:inline-block;width:1em;height:1em}h1{font-size:3em}h2{font-size:2.25em}h3{font-size:1.75em}h1,h2,h3,h4,h5,h6{line-height:1em;margin:0.3em 0 0.6em 0}pre{font-size:1rem}small{font-size:70%}big{font-size:120%}mark{color:rgba(0,0,0,0.6);background-color:#ff9}ins{color:rgba(0,0,0,0.6);background-color:rgba(255,242,204,0.5);border-radius:0.5em;box-shadow:0em 0em 0.2em #ffe699;text-decoration:none}center{text-align:center;margin:0 auto;width:60%}blink{text-decoration:none;animation:fade-in-out 1s steps(1, end) infinite alternate;-webkit-animation:fade-in-out 1s steps(1, end) infinite alternate}tw-align{display:block}tw-columns{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;-moz-justify-content:space-between;justify-content:space-between}tw-outline{color:white;text-shadow:-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000}tw-shadow{text-shadow:0.08em 0.08em 0.08em #000}tw-emboss{text-shadow:0.08em 0.08em 0em #000;color:white}tw-condense{letter-spacing:-0.08em}tw-expand{letter-spacing:0.1em}tw-blur{color:transparent;text-shadow:0em 0em 0.08em #000}tw-blurrier{color:transparent;text-shadow:0em 0em 0.2em #000}tw-blurrier::selection{background-color:transparent;color:transparent}tw-blurrier::-moz-selection{background-color:transparent;color:transparent}tw-smear{color:transparent;text-shadow:0em 0em 0.02em rgba(0,0,0,0.75),-0.2em 0em 0.5em rgba(0,0,0,0.5),0.2em 0em 0.5em rgba(0,0,0,0.5)}tw-mirror{display:inline-block;transform:scaleX(-1);-webkit-transform:scaleX(-1)}tw-upside-down{display:inline-block;transform:scaleY(-1);-webkit-transform:scaleY(-1)}tw-fade-in-out{text-decoration:none;animation:fade-in-out 2s ease-in-out infinite alternate;-webkit-animation:fade-in-out 2s ease-in-out infinite alternate}tw-rumble{-webkit-animation:rumble linear 0.1s 0s infinite;animation:rumble linear 0.1s 0s infinite;display:inline-block}tw-shudder{-webkit-animation:shudder linear 0.1s 0s infinite;animation:shudder linear 0.1s 0s infinite;display:inline-block}tw-shudder-in{animation:shudder-in 1s ease-out;-webkit-animation:shudder-in 1s ease-out}.transition-in{-webkit-animation:appear 0ms step-start;animation:appear 0ms step-start}.transition-out{-webkit-animation:appear 0ms step-end;animation:appear 0ms step-end}[data-t8n^=fade-in].transition-in{-webkit-animation:appear .8s;animation:appear .8s}[data-t8n^=fade-in].transition-out{display:none}[data-t8n^=dissolve].transition-in{-webkit-animation:appear .8s;animation:appear .8s}[data-t8n^=dissolve].transition-out{-webkit-animation:appear .8s reverse;animation:appear .8s reverse}[data-t8n^=shudder-in].transition-in,.transition-in[data-t8n^=shudder]{display:inline-block;-webkit-animation:shudder-in .8s;animation:shudder-in .8s}[data-t8n^=shudder-out].transition-out,.transition-out[data-t8n^=shudder]{display:inline-block;-webkit-animation:shudder-out .8s;animation:shudder-out .8s}[data-t8n^=boxflash].transition-in{-webkit-animation:box-flash .8s;animation:box-flash .8s}[data-t8n^=pulse].transition-in{-webkit-animation:pulse .8s;animation:pulse .8s;display:inline-block}[data-t8n^=pulse].transition-out{-webkit-animation:pulse .8s reverse;animation:pulse .8s reverse;display:inline-block}[data-t8n$=fast]{animation-duration:.4s;-webkit-animation-duration:.4s}[data-t8n$=slow]{animation-duration:1.6s;-webkit-animation-duration:1.6s}
</style>
</head>

<body>

<tw-story></tw-story>

<tw-storydata name="Necessary Bimbos" startnode="72" creator="Twine" creator-version="2.3.3" ifid="023F4857-AC88-434E-9E1C-D82470DBB330" zoom="0.6" format="Harlowe" format-version="2.1.0" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">body {
    background-color: #fff;
}

tw-story {
	font-size: 1em;
	line-height: auto;
  	color: #252432;
    background-color: #fff;  
}

tw-passage {
	text-justify: inter-word;
	text-align: justify;
}

tw-sidebar {
  	display: none;
}

.hidden {
	display: none;
}

.chat br {
	margin: 0;
}

img.wide {
  	width: 100%;
}

img.narrow {
  	width: 30%;
  	min-width: 300px;
}

img.fifty {
  	width: 50%
}

img.right {
  	margin-left: 1.5em;
    margin-bottom: 1em;
	float: right;
  	text-align: center;
}

img.left {
  	margin-right: 1.5em;
    margin-bottom: 1em;
	float: left;
  	text-align: center;
}

@media screen and (max-width: 1000px) {
  img.right, img.left {
	  width: 100% !important;
	  float:none !important;
	  margin: 0;
  }
  tw-passage {
	  width: 360px;
	  margin: auto;
  }
}

























</style><script role="script" id="twine-user-script" type="text/twine-javascript">var _state = State;
function saveVars (list) {
	if (!window.localStorage) {
		return;
	}
	var ret = {};
	list.forEach( function (name) {
		if (name[0] === '$') {
			name = name.substr(1);
		}
		ret[name] = _state.variables[name] || 0;
	});
	if (!Object.keys(ret).length) {
		return;
	}
	window.localStorage.setItem('necessary-bimbos-save', JSON.stringify(ret));
}
function loadVars () {
	if (!window.localStorage) {
		return;
	}
	var ret = window.localStorage.getItem('necessary-bimbos-save');
	if (ret) {
		ret = JSON.parse(ret);
		Object.assign(_state.variables, ret);
	}
}
window.setup = window.setup || {};
setup.saveVars = saveVars;
setup.loadVars = loadVars;

var preload = [
	"images/1.jpg",
	"images/4.jpg",
	"images/5.jpg",
	"images/6.jpg",
	"images/7.jpg",
	"images/10.jpg",
	"images/11A.jpg",
	"images/11B.jpg",
	"images/12.jpg",
	"images/14A.jpg",
	"images/14B.jpg",
	"images/15A.jpg",
	"images/15B.jpg",
	"images/16.jpg",
	"images/19.jpg",
	"images/20.jpg",
	"images/22.jpg",
	"images/23.jpg",
	"images/24.png",
	"images/25.jpg",
	"images/26.jpg",
	"images/27.jpg",
	"images/28A.jpg",
	"images/28B.jpg",
	"images/29.jpg",
	"images/30.jpg",
	"images/31.jpg",
	"images/32.jpg",
	"images/33.jpg",
	"images/35.jpg",
	"images/36.jpg",
	"images/37.jpg",
	"images/38.jpg",
	"images/39.jpg",
	"images/40.jpg",
	"images/41.jpg",
	"images/42.jpg",
	"images/43.jpg",
	"images/44.jpg",
	"images/45.jpg",
	"images/46.jpg",
	"images/48.jpg",
	"images/49D.jpg",
	"images/49DA.jpg",
	"images/49T.jpg",
	"images/49TA.jpg",
	"images/50.jpg",
	"images/51.jpg",
	"images/53.jpg",
	"images/54.jpg",
	"images/55.jpg",
	"images/58.jpg",
	"images/59.jpg",
	"images/60.jpg",
	"images/61.jpg",
	"images/64.jpg",
	"images/65.jpg",
	"images/67A.jpg",
	"images/67B.jpg",
	"images/68A.jpg",
	"images/68B.jpg",
	"images/69.jpg",
	"images/70.jpg",
	"images/71.jpg",
	"images/73.jpg",
	"images/74.jpg"
];

window._ImageCache = preload.map(function (url) {
	var image = document.createElement('img');
	image.src = url;
	return image;
});





























</script><tw-passagedata pid="1" name="0 Intro" tags="" position="400,163" size="100,100">&lt;img class=&quot;wide&quot; src=&quot;images/1.jpg&quot; /&gt;

It wasn’t a sex dream for a few reasons. First, Lewis had had sex dreams before, and they involved sex. Humping a girl. There wasn’t any sex in this. Yes, he cast a fond eye over dozens of girls, all of them horny and willing and trying to catch his eye, but he wasn’t fucking any of them. Second… it wasn’t clear it was a dream at all. 


Lewis pinched the skin right above his waist. Not only did he not wake up, it wasn’t really his skin. His usual waist was a roll of goo layered over some lanky bones, pure skinny-fat. This body was taut, flexible. And had a dick that reached down nearly to his knees. 


So it was probably a dream, even so. Lewis only had a mammoth cock in dreams. 


But then, why did he know the names of all the many girls giving him hopeful grins? Becky, always naked, her clit piercing her only decoration. Sylvia, who affected a sort of fantasy elf look, giving him an appraising look. There was a tension in the room. He was about to select someone. Someone would have their body and personal history and mentality idly rearranged, and they were all eager for it. Lewis realized he had made them that way. 


There. He pointed to a blonde, on the curvy side. Some gas station acquisition. She’d gotten into his car. The driver’s seat, no less. He’d only fucked her once, and that was on the ride, her gasping with the pleasure of her world being rearranged. No longer some ordinary college junior with an admirable ass. Now she was the cocksucker general for her entire school. Of course.


Her name was Amanda, until he picked a different one. Most girls started out Amanda. 


She stepped forwards, selected. Amanda was still in the leggings and t-shirt he’d caught her in. Maybe he’d keep her that way -- perpetually wondering why she wasn’t on her way to class. The other girls, mildly disappointed, headed back to whatever amusements they could find. 


“Oh, ohhhhh,” Amanda said, catching sight of his dick. “Ohhh, this is a dream.”


Lewis grinned. “It is, isn’t it?” 


“I’m not this, I’m not some cocksucker whore,” Amanda said. She sank to her knees. Her shirt still had his last load soaked into it. “I’m going to college, I fell asleep. I’m about to wake up. Hopefully before you unload.”


“Right after,” Lewis promised. She wrapped her mouth around his dick. He had to adjust her mouth to fit. But then it was perfect. She thrilled him. His dream girl, that was a new one. 


Dream girl Amanda really knew how to blow a man. 


He idly played with her hair color while she worked, cycled her through a hundred shades. His control was good enough, these days, to discern between natural hair color and dyed. Lewis gave her an auburn streak to her natural blonde, then set it back and gave her an alt dye job, greens and purples. 


She didn’t hesitate when he started to cum. No doubt it just reinforced to her -- this was a dream. She wasn’t some plaything. She wasn’t feeling her tits expand with each dutiful lick. She was going to wake up, hopefully before he came in her mouth.


Lewis came in her mouth. 


And frowned. Something -- no -- there was a noise. Something he didn’t expect or control. And that was impossible because

[[WAKE UP!-&gt;2 Wake Up]]</tw-passagedata><tw-passagedata pid="2" name="2 Wake Up" tags="" position="404,320" size="100,100">Lewis looked around. The girl underneath him noticed his rhythm fade, and made a confused, unhappy noise. “Lewis, pushhhhhhhh. Come onnnnnnnn.”


She was -- what was he fucking? She was painted and rouged and still mostly dressed in a really outlandish outfit. All pink and ruffles, a pale shade of pink that blended into equally pale skin. He was fucking some sort of princess. And her tits were ridiculous. Why put on all that makeup when you had massive boobs like that? No one cared what your face looked like. 


Her pussy clenched around him. “Lewis, fuck me, fuuuuuck me,” she chanted. Her voice matched the outfit, there was that. And she smelled amazing. A hint of powder, mixed with a healthy dose of citrus and something, he couldn’t say what, that reminded anyone nearby that she wanted to fuck. Was that ambergris? 


His cock twitched. It was buried up to the hilt. “Will it ruin your wardrobe if I put a baby in you?” Lewis said, genuinely curious. All those straps and lacey things looked made to order.  Another girl waited for him just outside the room, in a flag bikini. 


She put two white heels behind his back and pulled---

[[WAKE UP.-&gt;3 Wake Up]]</tw-passagedata><tw-passagedata pid="3" name="3 Wake Up" tags="" position="404,470" size="100,100">“Hey, pay attention,” the man said. 


Lara blinked. She was -- what just happened? Her hands were tensed on the wall, the man behind her stopped mid-stroke. Her tits were still heaving back and forth from a vigorous fuck session. They’d be a pendulum for awhile. 


The man slapped her ass. “Girl, are you in there?”


The smack nearly sent her over the edge. Lara backed onto his dick, the very last inch filling her just to the very---

[[Wake up.-&gt;4 Wake Up]]</tw-passagedata><tw-passagedata pid="4" name="4 Wake Up" tags="" position="404,620" size="100,100">“Lewis, just wake up. If you’re in a coma I’m going to have to deal with that, and I really don’t want to.”


Lewis woke up. 

&lt;img class=&quot;wide&quot; src=&quot;images/4.jpg&quot; /&gt;His head pounded, straight away. Not a drum-like set of blows but a regular cascade of electricity, like someone was connecting wires internally. He hissed in pain, which was enough to satisfy Amanda. 


“I had to actually carry you into bed, Lewis. What did you drink last night? Clear or brown? Or both, I’m guessing both. My back hurts now.”


Amanda. Right, that was his girlfriend. The pain had to be dealt with before he could do more than remember her name. Lewis squeezed it into a ball, or tried to. It didn’t go anywhere. It didn’t feel like hangover pain, or anything he’d ever felt before. It felt like his brain was shaking inside of his skull. It was scary. 


“Stop!” he said, half-panicked. 


The pain… faded. Now it was just a headache. 


He cautiously opened his eyes. 


Amanda had stopped paying attention to him. He was still dressed from last night, which meant he was still dressed for work yesterday, since they’d gone straight. Heavy blue pants, dress socks, rumpled white shirt. Hell, he even had his belt still on. Had Amanda taken his shoes off?


Wasn’t an Amanda nuzzling his big dick? 


[[Look around.-&gt;5 Open Eyes]]</tw-passagedata><tw-passagedata pid="5" name="5 Open Eyes" tags="" position="404,770" size="100,100">&lt;img class=&quot;right narrow&quot; src=&quot;images/5.jpg&quot; /&gt;He was in her bed, her apartment. His clothes. Her disapproval, that was there as well. 


Amanda had arrived off of Tinder, and was still something ephemeral, a girlfriend he wasn’t sure he had. They had just enough in common. Lewis suspected that they were running on the fumes of a very good first date, concert tickets he just happened to have, and probably his best sexual effort of his entire life. It hadn’t been like that ever again. 


“Lewis, did you pee in the bed? Or anything similar? You were completely gone last night. Utterly,” Amanda had a body it was easy to settle for. Curvy enough he could talk himself into, long, straight brown hair and an intent look that was probably ambition. In a crowd she was just another girl, average girl. By herself… 


Of course, it was rare for anyone to look good scowling. 


“No pee,” Lewis reported. “Although.” He lurched to the bathroom. Odd, he didn’t feel hungover. There wasn’t that queasy, grease-slathered head feeling. This was just pain. Peeing didn’t help. “Do you have any Advil in here?”


“Those are expensive,” Amanda said. God, she was mad at him. What had happened last night? “Take Tylenol. Unless you’re still drunk. Then it’s bad for your liver.”


He took three, drank some water, looked in the mirror. Lewis had been on too many online dates to have illusions about his looks. Pale skin that looked about to bruise. Prone to bags under his eyes. He looked like a drummer in a neighborhood punk band, except he couldn’t play an instrument. Splashing water in his face helped a little.


“I’m headed to the mall,” Amanda said. “I’m off today. You should get to work.”


Lewis nodded, unhappy. True words. His eyes lingered on the dresser. Amanda was about to pull on a pair of -- pants. Grey, boring, pants. He hated those pants. She was a natural for pencil skirts -- they played to her figure. Pants made her look like a parking attendant. 


He winced. The headache again. The pain spiked and--

[[She should be wearing a skirt.-&gt;6 Skirt]]</tw-passagedata><tw-passagedata pid="6" name="6 Skirt" tags="" position="409,921" size="100,100">&lt;img class=&quot;left narrow&quot; src=&quot;images/6.jpg&quot; /&gt;The pain eased. 


Amanda pulled the skirt over her hips. It had a small mermaid flare at the very bottom, and hugged her ass. 


“You look great,” Lewis volunteered. 


“I know,” Amanda said, checking the mirror. “I wonder how many good ass days I have left. Each one is a blessing.”


“It’s a GREAT ass day,” Lewis said. Something -- no. The pants hadn’t shifted and changed, right? That was a visual glitch. Migraine. “You have decades of solid butt days. You’ll be seventy-nine and getting a hip replacement and the surgeons will say, damn.”


Amanda stopped and looked at him. “I’m impressed you can say all that after nearly crapping in my bed. Do you remember last night at all? You were nearly at the hospital. I listened to you breath for a half-hour, just to make sure.”


Lewis searched his head, which didn’t help with the pain. Nothing, no. 

[[“Nothing bad happened.”-&gt;7 Nothing Bad Happened]]
[[“I should get to work.”-&gt;8 Admit You Don&#39;t Remember]]</tw-passagedata><tw-passagedata pid="7" name="7 Nothing Bad Happened" tags="" position="329,1070" size="100,100">“Nothing bad happened,” Lewis said, slowly.

“Are you sure?” Amanda asked. Lewis felt a strange rush, like he sat at the top of a roller-coaster, looking down on a rickety wooden track. That he was up where the air was thin. “I think I just... “ now it was coming together in his head. They had been at a party. He had exactly two drinks, and they were short pours. But then -- “I think I just had a migraine.” 


He felt a wrench, like his body was tugged. His headache stopped entirely. Lewis blinked. For the first time since waking up he felt like he could really focus his eyes. 


“You should’ve warned me about your headaches,” Amanda said. She was -- in bed? And half-naked? The cold, business-like Amanda was gone, the one putting on her shoes. Now she was warm and next to him, lazy in the pajama pants he liked, the ones where he urged her to pick things up. 

&lt;img class=&quot;right fifty&quot; src=&quot;images/7.jpg&quot; /&gt;

“Yeah -- my headaches,” Lewis said, temporizing. What had happened? “Thanks for helping me get back. I’m doing better. It’s rare. You know. The headaches that I have.”


“You should take the day off,” Amanda said. “I used to have those headaches. It was a puberty thing for me. I envied the girls who just had zits. I was like, oh cool, my head is out to kill me.” She pulled up the covers so they were both underneath. 


“You going to work?” she said, smiling.

[[“Nah.”-&gt;9 Don&#39;t Go to Work]]
[[“Yeah, I should get going.”-&gt;8 Admit You Don&#39;t Remember]] </tw-passagedata><tw-passagedata pid="8" name="8 Admit You Don&#39;t Remember" tags="" position="476,1068" size="100,100">“I should go,” Lewis said, slowly. He stood up out of bed. It was a mistake. Fluids that were very carefully balanced rushed all over the place. And whatever was wrong with his head didn’t like it. Blood rushed around. It was a lot to take in. 


“Yeah,” Amanda said. 


“Work,” Lewis said. 


“Oh, yeah, you gotta go to work,” Amanda said. “Work is super important.” She stood up too. They eyed each other, warily. Lewis was old enough to know that this was when relationships died, but not old enough to know how to stop it. If anyone ever really got that old. “And I have to stop at home, get some actual work clothes.”


“You’re wearing work clothes,” Amanda pointed out. But then she shrugged. “Enjoy work. Make that money. Have work lunch. Thanks again for not crapping in my bed.”


“I… have a headache,” Lewis said. “Work and a headache, together.” And… something was off, he didn’t say. Something that made him want to sit, on a bus, and not have to handle his dissolving relationship at the same time. 


“A rough combination.”


They looked at each other. Amanda relented. “Text me later once your head feels better, okay? Get off to work. Or home first. Whatever it is.”


“Yeah,” Lewis said. “Great.”

[[Off to work.-&gt;33 Off to Work]]</tw-passagedata><tw-passagedata pid="9" name="9 Don&#39;t Go to Work" tags="" position="329,1220" size="100,100">“The doctor did say that fierce, animal sex could help,” Lewis said. 


“Weird diagnosis,” Amanda said. What the hell was going on? Not just her suddenly appearing in the bed, half-dressed. Had they ever been lazy and horny in bed together? Amanda was capable of being hot, but she liked an entire night of foreplay. Dinner at a minimum. “Who is the doctor?”


“Uhhhh I’m all out of jokes,” Lewis said. She was stroking him under the covers. This intensity was a new side to her. “I bet there are guys who can do jokes while their getting their dicks stroked but not me.”


“Mmm,” Amanda agreed. She pulled his cock out. “There he is. This is for therapy, okay? Don’t enjoy it. It’s medicinal.”


“Medicine,” Lewis said. He laid back. Headache. The strangeness was the headache. Everything was fine. 


“Let me get a condom, you,” Amanda said. She walked into the bathroom, putting a sway into her hips. Lewis regretted her leaving. It gave him too much time to think. Strange dreams, inexplicably horny girlfriends. 


“Bad news,” she reappeared. “Condom supply is 0.”


“Oh god,” Lewis said. She looked extremely dismayed. “Oh no.”


“This will have to be a handjob,” Amanda said. She limbered up her hand, grim. “We’re both disappointed.” 


Lewis held his tongue. Amanda had made very clear at the outset of their relationship that she had some bright line no’s and giving head was one of them. Something about her jaw hurting, and personal history, and bottom line, she didn’t want to put a dick in her mouth and have it spit sour goo at her. 


But… he had that dream…

[[Amanda loves blowjobs.-&gt;10 Amanda Loves Blowjobs]]
[[“I should get to work.”-&gt;8 Admit You Don&#39;t Remember]] </tw-passagedata><tw-passagedata pid="10" name="33 Off to Work" tags="" position="1221,1196" size="100,100">(set: $wentToWork to 1)The bus was real pain. The headache was barely tolerable, but every single crack in the road worked its way through the aluminum chassis and into his head. Lewis spent most of it with his eyes squeezed shut. His phone buzzed, decisively, with texts from Amanda. He opened his lids just enough to see that they were lengthy and typed with capital letters. 


He made the decision to ignore them. Work. Get to work. Get off at the right stop, walk inside the store, get to the employee area, check in with the manager. It was all performed clumsily, like he was controlling himself with a poor-quality controller, the type to be pawned off on a younger brother, or even a cousin. Lewis was bright enough to check the clock instead of his Amanda-bombed phone for the time. Fifteen minutes late. 


&lt;img class=&quot;right narrow&quot; src=&quot;images/33.jpg&quot; /&gt;“Fifteen minutes late,” Carrie said. 


“Hi Carrie,” he said, turning. 


She was quite possibly blonde. It was very hard to tell. There were enough hints and shades and odd shadows that his coworkers all had agreed on the bottle. Lewis had never committed -- Carrie just didn’t seem like the type of person to go dye-job blonde. She strove for the perfect managerial bookstore blend of corporate efficiency and librarian wonkery. It usually came across as an English teacher who knew a little accounting, and tended to sway from day to day. Lewis just had to hope she was feeling more English-y. Or that she was short on help. 


“Fifteen minutes is a grey area,” Carrie said. She wore a grey dress herself, a long and shroud-like one. It clashed with the staff lanyard she always wore that read “MANAGER”. “You can let it go, you can write up the employee.”


“So I’m hearing you can let it go,” Lewis said, encouraging. For whatever reason, it helped to concentrate on her. There was a first aid kit behind her that Lewis knew contained Advil. It was a good goal. 


“True, but then fifteen minutes late becomes normal, and you’re looking at thirty. An hour. It’s delicate. You see my dilemma. Right? Lewis?” 


Lewis wanted her to skip ahead to the part where she was writing him up. Using his name like that was surefire. But -- it would take so long. And if this was all the precursor to firing him, a long dramatic monologue of his previous sins, it would take forever, and he wouldn’t get any Advil. 


He let his need creep into it. 

[[Couldn&#39;t she just let it go?-&gt;34 Be Carrie. Let It Go.]]
[[Couldn&#39;t she just get it over with?-&gt;35 Punish]]</tw-passagedata><tw-passagedata pid="11" name="10 Amanda Loves Blowjobs" tags="" position="329,1371" size="100,100">&lt;img class=&quot;left fifty&quot; src=&quot;images/10.jpg&quot; /&gt;This was a big one. 


There was no disguising it this time, no pretending he was migraine-confused and sleep-hazy. Amanda was different. They were different. 


The minx had put red lipstick on and wet them with two quick licks. Lewis doubted that she didn’t have condoms. She probably had an entire box. But his girlfriend seemed to truly like oral and loved to find opportunities for oral. She’d blown him on the first date. Had told him at the outset -- “If you pass, you get a blowjob. That’s the rule,” and then when he’d been a passable male she’d practically dragged him inside to suck. 


The other Amanda still lurked inside of his memories. She’d joked about how much she hated blowjobs, hated the pressure to deliver them. He recalled her saying “I have a pussy and its supposed to do this.” 


That Amanda wasn’t wrapping her lips around his cock. 


Lewis expected himself to immediately jizz out into her mouth. It was warm, wet, and best of all, so clearly comfortable having his penis in there. But he had to be different too, right? He was a Lewis that had been getting sucked off on a fairly regular basis for awhile now. Her tinder photo had been Amanda looking at the camera with her mouth invitingly open. 


He wasn’t that different. Lewis felt the first rush. “I’m about to cum,” he rasped. And Amanda wasn’t that different -- she pulled off, calmly jacking him as he emptied. Jizz ran over her hand. 


“So you’ll come to the mall with me?” she said. 

[[“Sure!”-&gt;11 Go to the Mall]]</tw-passagedata><tw-passagedata pid="12" name="11 Go to the Mall" tags="" position="329,1518" size="100,100">&lt;img class=&quot;left narrow&quot; src=&quot;images/11A.jpg&quot; /&gt;What the fuck was going on? Lewis wasn’t stupid, and he wasn’t prone to flights of delusion. He’d changed things. He’d changed his girlfriend. 


Even sitting next to him in a car, there were subtle differences to his previous girlfriend. Old Amanda didn’t own a bright yellow skirt and lace-knit black top, and she’d never wear lipstick just to go to the mall. She didn’t immediately turn on Lana Del Rey. Usually she had Lewis drive. He’d changed her to like blowjobs, and that wasn’t just flicking some switch marked ‘blowjobs’ in her head. A girl who liked delivering blowjobs liked wine-red lipstick and liked it all the time. 


“I just need some stupid stuff,” Amanda said. “We’ll do a stupid mall stuff trip, it’ll be good. Pretend like we’re teenagers again. Playing hooky from school to go show our legs off at the mall.”


“I was never a mall guy,” Lewis said. 


Amanda laughed. “Those guys were awful. They were all in community college and kept trying to get us into their cars. Their Geos, maybe a Civic if you were lucky.”


“You ever go with them?” Lewis said. 


“Maaaaayyyybe,” Amanda said, and laughed. 


How much power did he have? Something small, he needed to do something small. Just to see what this was, what sort of control he had. Lewis concentrated on her lipstick -- it was hard not to. It was obviously a promise of future blowjobs. He willed it pink, pure pink, and blinked. 


&lt;img class=&quot;right narrow&quot; src=&quot;images/11B.jpg&quot; /&gt;It took almost no effort at all. He even felt better. And just like that, Amanda’s lipstick was bright pink. 


Nothing else had ch-- but no. Now the speakers played teeny-bop sugar pop, and Amanda wore a tight shirt with a smiling yellow sun on it, with a pair of khaki shorts. Of course -- that was the kind of girl who wore pink lipstick to the mall. She reached up to twirl her hair. That was new too. 


He couldn’t use this anymore. It was unethical, immoral, dangerous. 


“My hand is still sticky,” she said, in a voice that was up an octave. She winked at him and licked it. 


Lewis let out a breath. 

[[Stop using these powers.-&gt;12 Stop Using Powers]]
[[Maybe a bit more.-&gt;13 Maybe a Bit More]]</tw-passagedata><tw-passagedata pid="13" name="12 Stop Using Powers" tags="" position="234,1649" size="100,100">Enough. He couldn’t do this anymore. It was insane and immoral, and his headache instantly cranked up a notch. 


Amanda didn’t seem to notice. This new Amanda was all breezy cheerful feminine, leading him by the hand into the mall, her natural element. Her hips wiggled with an extra bounce. Had he given her a bigger butt at some point? Had he changed so much to actually increase the size of her hips? Or was this just what happened when a girl now liked a little attention? 


Lewis tried not to think on it. It didn’t help when she led him right into a lingerie store, smiling and cheerful. 


“I need summer undies,” she explained. Amanda made an immediate beeline for the cheap and happy section of the store, where big bins of panties in ultra-bright colors were getting sorted through by similarly sexy women. 


“What makes them summer?” Lewis managed. All he could see was ideas. The slender Asian girl focusing entirely on pink panties, she would look so good with even slightly bigger boobs. There was a goth friend lurking, bored, who could have her attitude changed. It was hard to keep from grounding his power out. Couldn’t he use it for something positive? Just invent money for everyone? Clear up complexions? 

&lt;img class=&quot;wide&quot; src=&quot;images/12.jpg&quot; /&gt;

His headache was pretty clear that wasn’t going to work. 


“If you don’t mind them getting shown off a little bit, that’s summer,” Amanda explained. She held up a lime-green pair. They were made out of some sheer stuff that glowed under the store lighting. “Perfect.”


“Perfect,” Lewis echoed, weakly.

[[Change the Asian girl.-&gt;14 Change the Asian Girl]]
[[Change the Goth girl.-&gt;15 Change the Goth Girl]]
[[Do nothing.-&gt;16 Do Nothing]]</tw-passagedata><tw-passagedata pid="14" name="13 Maybe a Bit More" tags="" position="502,1515" size="100,100">Lewis changed a dozen small things just on the way inside the mall. He turned a rock bright magenta, he erased a parking ticket, he fixed a busted bumper on a broken down VW. It didn’t hurt. It wasn’t even a strain. Hell, it felt good, like a pleasant, warm glow. And he did it all while examining his girlfriend’s pleasing, swaying rear. 


He adjusted her ass, and noticed Amanda changing her own stride to match, without any clear effort. Plumpening her butt and giving her big fuck-me hips led to a rolling, lazy gait. And when he narrowed it to a tomboyish but pert ass she walked in steady, confident steps. 


“Holy balls,” Lewis mouthed to himself. He’d awoken a god. As far as he could tell, any limits were self-imposed. Was this some sort of ascension? Or would he run into a limit on the universe and blow his own head off? What would happen if he told the sun to turn down?


When he put it that way, it was hard to deny himself at least using these sudden powers to fuck the hell out of Amanda. 


“Do you feel alright?” he said, just to make sure. 


“Uhhhh, yeah?” Amanda said. On a sudden whim he put a wad of chewing gum in her mouth. It seemed right. “You mean did I get sick while we were walking to the mall? No?” 


“Just… checking,” Lewis said. Was he changing himself, too? He’d popped a load on Amanda just a half-hour before, and now he felt charged, ready to go. A prickle rose up on the back of his neck. 


Did changing Amanda mean he was changing himself into the kind of guy who would change Amanda?


The headache started back. 


“Oooh, this side has Victoria’s. Lets get in there,” Amanda said. She drew him inside. Lewis trailed after. 


There were so many people in the mall. And so many of them were girls.

[[Go inside Victoria&#39;s Secret and fuck Amanda&#39;s mouth.-&gt;25 Go inside Victoria&#39;s Secret and fuck Amanda&#39;s mouth]]</tw-passagedata><tw-passagedata pid="15" name="14 Change the Asian Girl" tags="" position="214,1810" size="100,100">&lt;img class=&quot;left narrow&quot; src=&quot;images/14A.jpg&quot; /&gt;Chloe didn’t even like Victoria’s Secret. Not that she went to bulk underpants depot but all their stuff was uncomfortable, unnecessary. Stuck in the past, when sexy undies meant enough lace and wire to outfit a burlesque troupe. But she had a gift card from a friend with $20 on it. 


And more to the point, everything they sold was for girls with curves. She moved on to the bins in search of value. This was almost definitely going to turn into pink polka dot underpants. At least they could do that. 


Although…


Chloe felt a mild sense of euphoria, not enough to think about. Just enough that she looked around, confused. There was some guy by the changing rooms, a dark-haired goth girl, and not that many other customers. 


She did an about-face and regarded the bras. 


Her chest had arrived in college, freshman year, when everyone else was boobed up and moving on with their lives. And she’d been fine with that, more or less. Growing up five feet negligible and asian meant low expectations for tits. It was okay. Sex wasn’t a priority, and she could always wear yoga pants and be trim, it’d do. She wore a bra because that’s what good girls did.


One formed around her chest, an off-white utilitarian pair. Chloe contemplated a black lacey number with semi-cups. 


Of course, then the tit fairy had sparkled boob dust all over her. At first it had been a pleasant freshman year surprise, getting from andro to mildly female. A lot of her dormmates had similar experiences, although mostly from weight gain. But then they’d kept growing, so fast they got sore. It had been a real expense for her, buying new bras at a fast clip on a student budget. At one point she’d looked up from examining her first C-cup and realized with a thrilled shock that she was surrounded by curvy white girls, on an equal titty basis with the rest.


Her shirt’s midriff fuzzed away, her boobs sinking deeper into enhanced cups. Another hook appeared in the back, and the elastic started to strain. Chloe pushed into the rows of bras. 


And then the boys had started to notice. Their attention became like living under a second sun. She could feel necks straining, especially in her bio classes. The male dormmates looked exhausted, keeping their eyes on the level. This was a progressive, elite institution, so they didn’t SAY anything, but Chloe could feel it. Their admiration, their young male boners. 


She liked it. She REALLY liked it. At one point she finally googled ‘big boobs’ and basked in the cleavage, at the bounty. And when she’d googled ‘big boobs azn’ it’d gotten really wet. Yes, it was bad to be objectified. It was. 


But they felt SO good. 


That was the thing. She wasn’t just developing big boobs, they felt fantastic. To the point where she made, and then cancelled, a doctor’s appointment. What was there to say, “doc, my tits feel fantastic. Do an exam. Take your time.” Googling the situation was no help. Some women just had very sensitive nipples. Wear bra inserts and try not to fall hard for the first man to tweak them, because you will. 


&lt;img class=&quot;right narrow&quot; src=&quot;images/14B.jpg&quot; /&gt;Chloe instead fell for every man who touched them. 


Tits were so PUBLIC, that was the problem. Between her legs was decently covered. Her butt was out back. Her boobs were right below her face, and getting closer. Every time she talked to a boy, they were the closest part to him, and getting nearer. When a boy took her out, and put his inexperienced mitts on her boobs, Chloe had whimpered. Actually moaned. It was humiliating. 


She burst through the bras and headed to the small, but sexy, swimwear section. She wore a pair of jean shorts, casually short -- it didn’t really matter what bottom she wore. Running was an experience.  Her shirt gauzed away entirely, leaving just a wet-look sports bra overflowing with soft, perfect boobs. Even with all the modern Lycra she jiggled up and down.


Chloe had made a decision. 


It had gotten too rough to try and contain them, to tell herself the girls could only come out and play at certain times. That she was a biochem student who just happened to have great tits. She was going to buy a swimsuit. She was going to probably show some nipple. And the photographer session was booked for noon the next day.

[[Leave the store.-&gt;26 Leave the Store]]</tw-passagedata><tw-passagedata pid="16" name="15 Change the Goth Girl" tags="" position="352,1811" size="100,100">&lt;img class=&quot;left narrow&quot; src=&quot;images/15A.jpg&quot; /&gt;Abby didn’t really want to be there. She had a gift card. 


This was femininity at its most mindless and degraded. Not just sexualized but boring. Rhinestones and glitter and cheap feminist slogans attached to poor quality underpants. Even the stuff in black and grey had a small glitter signature, or had that plastic-y feel that was just the brand hallmark. 


She’d marched in with the vague idea to make it an ironic experience, but it was too sad even for that. Who cared about being ironic at a mall underpants store. 


She winced. There was… something. Like her heart had beat twice…


Abby took a second look at the clothes. 


She’d struggled with her own sexuality all of adolescence, but it was easy enough to just ignore. There were other things to do. And that was one of the many wonderful things about going at least semi-goth. You could indulge in clothes shopping and makeup and whatever all you wanted, and the end result was never a cultivated effort to get men to fuck you. It was more, terrifying demoness of the night. 


Her pants slowly sealed up tight, leather with big grey steel studs by the waist, her belt shrinking to a more girly experience. 


The problem with the plan was her ass. 


Up top Abby was fairly skinny, pasty, even chalky if she went for it. But she’d blossomed with curves and now, just starting college, packed a big wagon. Generous hips that were nearly motherly, a butt that dominated everything. And just as thiccness started to dominate the male psyche. To her horror, Abby had a juicy peach of an ass. 


She couldn’t even joke about it. No matter how irony-hardened and demonstrably woke the boy was, any reference to her over-sized butt had them stammering and blushing. But still -- a girl could cope. Long shirts. Flouncy skirts. She’d gotten her degree. 


And been broke as hell. 


&lt;img class=&quot;right narrow&quot; src=&quot;images/15B.jpg&quot; /&gt;Ahh-- there it was. A discarded tray of underpants in a corner, with a handwritten sale sign on them. They were glittery and cheap and covered in stupid bumper slogans and were on deep discount. They were perfect. Abby bent over to pick them up. Her brand new teeny-tiny skirt rose with her, showcasing her rear. Abby didn’t even notice, these days. 


A friend had told her -- yes, she was broke. But she still had an asset. It was just behind her. Scared as hell, facing down a rent payment, Abby had removed all identifying objects from her room and turned on a cam and pointed her butt at it. The first comment had read “this is the most incredible white girl butt I have seen, and i’ve been searching.”


She’d never gotten a comment like that before. And it was accompanied by $50. And a flush of warm heat in her body that felt -- good. 


After that, well, a girl had to eat. And she ate better pretty good when a steady clientele cheered her on, bent over, rubbing herself with abandon while the tip jar tinkled. Something about that camera lens, the now-hundreds of paying customers behind it… it wasn’t hard to cum on film. It was kinda hard not to. And there was a VERY steady demand for game-worn underpants. Such as these. The cheaper and dumber the better, she’d found. 


Abby straightened. She pushed down her skirt, not that it mattered. She had to hustle and get back for her regular show. She was already juicy thinking about it.

[[Leave the store.-&gt;26 Leave the Store]] </tw-passagedata><tw-passagedata pid="17" name="16 Do Nothing" tags="" position="507,1794" size="100,100">&lt;img class=&quot;right narrow&quot; src=&quot;images/16.jpg&quot; /&gt;“No,” he said, out loud. 


“No what?” Amanda said. She started heaping pairs of underpants on him. “You can hold these, right? Let me know if they get too heavy.”


“I can hold some underpants,” Lewis said. He had to find a way to get past this. There had to be a solution. He looked around the store, desperate. Everything was sexy, that was the problem. Everything could be engineered to fuck and suck him. Everything could service him. 


Except -- there. The mirror. Lewis looked in the mirror. There was just himself, looking back. He stared at it, motionless, except the growing stack of underpants he held in his arms. There was nothing horny in his own image. Just a slim dude with a blank expression. The pain in his head eased off. There, he just had to be-- empty. Don’t try and invent scenarios. 


“There,” Amanda said, putting a decisive black lacy pair on the pile. “That should last the next month. Come on, Lewis. Get that credit card out.”

[[Smile and nod.-&gt;17 Smile and Nod]]</tw-passagedata><tw-passagedata pid="18" name="17 Smile and Nod" tags="" position="507,1944" size="100,100">Lewis smiled and nodded. He followed Amanda to the register, and let her dig into his pants to retrieve his credit card. The plan was working. The girl behind the counter would’ve benefited enormously from a pair of dick-sucking lips -- she already had a tawdry, makeup-heavy look that just lacked for blowjob appeal. But he wasn’t thinking about that. 


He wasn’t thinking of anything. 


“You brought your boyfriend?” the girl said. “Usually boys hate it in here.”


Amanda laughed. “We met on Tinder, who the hell knows what we are?” she said. “I just ask for stuff and he says yes, and I guess that’s what we are? Right, Lew?” 


“Of course,” Lewis responded. It was easiest to just say yes to things. Responding was a headache, he’d already learned that. 


“Sometimes it’s ‘of course’ or ‘sure’ instead of ‘yes’ but you get the idea,” Amanda said. She slapped Lewis on the rear. “Tinder is so funny like that. I always thought I wanted some football stud or at least sports-ish-y, you know? I wanted big shoulders. Sports balls. Sweat. But Lew is so much FUN!” 


Fun, he could work with that. Until he figured out what was going on. 

[[No thinking.-&gt;19 No Thinking]]</tw-passagedata><tw-passagedata pid="19" name="19 No Thinking" tags="" position="513,2073" size="100,100">Luckily it turned out to be really easy to let Amanda do all the talking. Actually, she seemed to prefer it. 


“Oh my gosh I’m so glad you’re here,” she gushed, mildly ahead of him, setting a punishing pace. Amanda wore white heels with near-stiletto points, and they didn’t seem to slow her at all. Lewis had a hard time keeping up -- he felt overall slow, weak. It was hard to carry just a batch of lightweight undies in a cheap bag. “We can spend the whole day here. Mall day. Mall day! I haven’t had a mall day in a million years! I’m gonna walk out of here totally different clothes from what I walked in with. Just toss these away. You too, Lew.”


“Uh-huh,” Lewis managed. 


“Timestamp selfie,” Amanda said. She hung around his neck and did a quick kiss at the camera. Lewis automatically did the same, feeling awkward. The picture was of him looking -- kissy-lips. Amanda uploaded it to a succession of social media sites. 


&lt;img class=&quot;right fifty&quot; src=&quot;images/19.jpg&quot; /&gt;“We’re shopping for you, too,” Amanda declared. “I know that you think those jeans are fine but they’re actually ugly as fuck. I’m going to do you a favor.”


Lewis looked down. Jeans? He’d still be in business casual from the previous -- but he was, in fact, wearing jeans. A light wash denim he didn’t recall owning, and converses that were a matching cyan blue. It was almost enough to bring the headache back. “Don’t think,” he reminded himself. 


“DO NOT move,” Amanda hissed, taking his hand. “Bitches are closing in!” 


A pack of other girls approached from the far end of the mall. They looked -- sort of like Amanda, but with a different color scheme. These were sexy girls in black and leather prints, dark hair in topknots, their lipstick in various shades of brown-red. The boys on their arms were trying far too hard to be cool. 


“I know those boys. They smell like their dad’s cars,” Amanda said, pensive. She waved, coolly. “Hi Veronica! Heya Krissy! I bet they don’t even nod at me.” 


Amanda earned the most chilly of nods from both. 


“Watch this,” Amanda hissed. “Bobby! Thanks for not coming in my mouth!” 


Bobby, one of the boys in a shiny long-sleeved shirt, startled and looked back. Too long -- long enough to tell his girl it had to be true. 


Amanda laughed. After a moment Lew jumped in too. And it didn’t hurt at all. In fact, it felt great.

[[Enjoy it.-&gt;20 No Thinking]]</tw-passagedata><tw-passagedata pid="20" name="20 No Thinking" tags="" position="518,2200" size="100,100">There was an art to talking without really thinking, and Lou was quickly getting the hang of it. 


“You’d really suck him off?” Lou said, amazed. “And he’d go for it? Oh my GOD Amanda!” 


“Scout’s honor. Umm. Well you know. Although I guess that’d be my merit badge, sucking dick,” Amanda said. They walked arm in arm, now. The mall was theirs -- the other girls had fled, bickering with their boyfriends. The remaining shoppers looked at them with envy or awe. The teen girls knew success when they saw it, a finished product, confident and finalized in her raw sexual heat. The older men fucked as hard as possible with their eyes. 


Lou giggled. “Terrible!” He said. “But I like the shorts.”


&lt;img class=&quot;right narrow&quot; src=&quot;images/20.jpg&quot; /&gt;They were very short. Lou wasn’t used to anything that went above the knee, and these swooped far above that. They were khaki, and the bottom cuffs reached high thigh at best. It was a good thing Lou’s leg hair was sparse at best. 


“They are VERY cute,” Amanda agreed. She’d gotten Lou a pair of white tennis shoes. The converses had stayed in the changing room, along with the jeans. Amanda had gotten a deep discount just by licking her lips. The teen boy behind the counter had swallowed so hard it made a noise. “So much more fun with the two of us!”


Amanda seemed to need a foil to bounce an endless amount of observations off of. Boys that were hot, boys that weren’t, clothes, boys, malls, heels, boys. Lou found it both easy and enjoyable to just giggle and nod. To keep the headache away, Lou thought. Right. 


“Have you really blown someone in the mall?” Lou said, genuinely curious. Something tugged at that, something demanded attention. But Lou had to know. 


“Oh my GOD, Lou,” Amanda said. “If they shone a blacklight in the mall it’d be Amanda-made skeet on every floor. Uhhh lets see. I’ve gotten my face fucked in eight places including a Macy’s Home Store because my toaster broke.”


“And you got a new toaster?” 


“I got an entire convection oven. And some plates. Actually we should go see if Ralph is there. I need some silverware.”


There was a mirrored column near where they stood, right at the center of the mall. Amanda shone in it, of course, in all her glory, Queen of Blowjobs in the middle of her court. And next to her, a petite brunette with deep-set eyes holding a lot of packages, in a very short pair of shorts, with a purse across her chest. Right, because… Amanda had explained all this… there was no room for a wallet or anything but an ass in these. 


She was cute. 


Something banged for Lou’s attention. Screamed for it. 


“I am going to suck down a milkshake, my dear, and I think you should join me,” Amanda said, grandly. 

[[“MILKSHAKES!”-&gt;22 Milkshakes!]]</tw-passagedata><tw-passagedata pid="21" name="22 Milkshakes!" tags="" position="518,2324" size="100,100">“I love milkshakes!” Lou beamed. 


They sat down together in the very middle of the mall. Sunlight streamed through a bank of windows inset on the roof. Amanda handled ordering, with Lou’s card. Lou just basked in the warmth. The program was working better then could be expected -- everything was snug, comfortable happy light. No headache pain. Nothing at all, really. 


“There, bubblegum,” Amanda said. “I got cookies and cream.” 


Lou’s eyes snapped open. The milkshake was comically huge, topped with a melting spiral of whipped cream and a bright red cherry precarious on top. “Oh my god,” she said, laughing. “I’m gonna gain a bajillion hundred pounds. Is that a number?” 


“Numbers,” Amanda said, dismissively. She slid the credit card back over. “This is getting pretty warm. You sure your Dad won’t mind?” 


“He says it helps to track me,” Lou said. She took the first sip. Ice cold cream. Lou generally liked things flooding her mouth, and this was near the top. “He’ll be like, oh Lou you were in Vegas last weekend and I’ll say, was I? Oh man this is too good, I’m gonna have to hit the gym.”


“Why bother? I bet it all turns into tits,” Amanda said. Little bits of cookie streamed up her straw. Lou laughed, uncertain. 


Tits?


&lt;img class=&quot;right fifty&quot; src=&quot;images/22.jpg&quot; /&gt;Her shirt poked out as she worked to suck cream down an over-sized straw. The expansion was very smooth and very certain and very full, a mix of air and cream making for the perfect breasts. Lou came out of her momentary confusion. Right, her titties… those titties. She’d spent basically her entire junior year of high school growing enormous boobs. By the end of the year the entire school was into it, marveling at how huge she’d gotten. The attention had made her very, very warm. 


After some hesitation she’d just run with it. There were lots of worse things than being the girl with enormous boobs. And they felt so good. Frankly it brought a lot of people together. People just wanted a touch, and Lou was happy to let them. 


The tank top no longer made sense, and it turned as pink as the milkshake, dissolving into the khaki shorts at the bottom. 


“I think they’re still getting bigger,” Lou said, proudly. She looked over at Amanda, who was fondly admiring them. “Do you think? I bet I’m the biggest girl in town.”


“Ahh, probably,” Amanda said. She got that look in her eyes. Suddenly there was a foot in Lou’s lap. A sock was working its way between her legs. This was adventurous, even for Amanda. 


“Amanddddda, c’mon,” Lou said. She wrinkled her nose. Wasn’t there… something… but no, the only thing between her legs was her pussy. She had to protest now -- Lou wasn’t good at anything once the sensation washed over her. Everyone had learned -- put your hands on Lou’s jugs and then just tell her what to do. 


“Sorry!” Amanda mock apologized. “But c’mon Lou, you’re too...” 
[[“...silly to stop me!”-&gt;23 Silly]]
[[“...horny to stop me!”-&gt;24 Hot]]</tw-passagedata><tw-passagedata pid="22" name="23 Silly" tags="" position="469,2450" size="100,100">“...silly to stop me!”

“Ohhhh, Amanda,” Lou protested. It was true, of course. She’d heard all the jokes, and understood some of them. That her brain was just extra room for her clit, that she could only add if someone gave her a running start. But they weren’t very funny from her girlfriend. 


Amanda ground her toe deep in between Lou’s legs. Lou fought not to cum right then and there, long blonde hair rippling around her. No wonder Amanda had ditched her undies at the last stop. This had been the plan all along. She’d been checkmat-- yahtzeed or whatever. Something like that. 

&lt;img class=&quot;wide&quot; src=&quot;images/23.jpg&quot; /&gt;

Amanda relented, as Lou had known she would. They’d been together for nearly a year. Lou had been an object of caution in the local lesbian community. Sure, there was femme. But this was another level. Amanda, with her master’s degree and comfy grey sweaters and sensible hair, hadn’t known quite what to do on the first, skeptical date. But they’d gone home together, and Lou had never left. It was a bit unequal by nature, but what relationship wasn’t?


“I’ve been thinking about it,” Amanda said, finishing off her coffee. “Of course you’re gay. You’re the most female girl that’s ever lived, as far as I can tell. Pure girl. As much tits and ass as god has to give. So of course you’d be god’s gift to women. It wouldn’t make sense if you were god’s gift to men.”


Lou, as usual, smiled and nodded. She had a vague inkling of how the rest of this mall trip would go. Amanda would walk her up and down the mall, basking in the attention, and then go home and fuck her so hard Lou would walk into walls for the rest of the night. 


Amanda picked up her textbook. “Lets go, goober,” she said, one hand on Lou’s dress. It was a challenge to keep it from showing off all of her ass. Lou made her proud, walking perfectly in her pink platforms. “Wink at the boys in Brooks Brothers, alright? They’re almost cute when they’re confused. Almost.” She slung her backpack on. She deliberately slummed it next to Lou, just to heighten the contrast. 


Lou would miss the sun. Tanning was, ultimately, the thing she was best at. But everything in the future was something to look forward to. That was the trick to walking in heels. Walk forwards with purpose. 


She picked up her clutch and adjusted her hair.

Ending 4 of 12: Lou is Silly(set: $ending4 to 1)(display: &quot;Ending Footer&quot;)</tw-passagedata><tw-passagedata pid="23" name="24 Hot" tags="" position="599,2453" size="100,100">“...horny to stop me!”

“It’s hard to be this horny,” she mock-complained, to Amanda, who smirked. She was just a bit loud, so that the boy two tables over would hear. The one sharing a small milkshake with a brunette in a turtleneck, on a day this hot. He flushed. 


“Poor baby,” Amanda sympathized, grinding her toe in. Lou eagerly spread her legs. She’d had a lot of headaches, coming out of a tumultous puberty. Nature had socked her with high levels of hormones, enough estrogen to power an entire sorority, and an ass that naturally caused car accidents. Advil and Tylenol hadn’t helped. Drinking had caused too many bad situations, for a girl as hot as her. 


The solution had been orgasms. Nature’s headache-reliever. Regular, sustained, wonderful, multiple orgasms. Lou’s entire life had clicked together at that point. She had a hot body, a sex drive that probably needed scientific study, and a headache issue. Cumming was the solution to everything. 


“Mandy…” she whispered, around the toe in her pussy. “C’mon.”


“You want me to stop?” Amanda said. Her best friend was as blonde as she was, and if she had slightly smaller boobs, she had slightly more personality. 


“I want you to grab the counter guy,” Lou said. She didn’t have to fake the look to him. She’d learned to think of boys and girls as types, and this one was a type. Early twenties, unattached, or not really attached, energetic, gym-going. Perhaps his life wasn’t going anywhere, considering he sold milkshakes at a mall. But that wasn’t her concern. 


“Mm, okay,” Amanda said. She sauntered up to the counter and bent over. Lou stifled a giggle. Of course Mandy was naked under there. The boy two tables over choked on his milkshake. Lou admired her work -- they usually kept each other nice and trim. They were more partners in crime then partners, but a day without Mandy’s fingers in her was not really a full day. 


Counter boy didn’t have to be convinced. Usually Mandy just glanced in Lou’s direction, then over to the employee’s only hall, and didn’t say a word. 


The boy was named Paul, and he escorted them both, nice strong hands around their waists. With their heels on Lou was a bit taller than him, but that wasn’t his fault. She was in a pink wrap dress, with a bow around the side. It was a bit classy for her, but had been too cute to pass up. The challenge for the trip to the mall was to get cum on the bow. 


“Stop,” Lou said. They were still in a service hallway. Paul looked nervous. “There’s a utility closet literally right there,” he said, pointing to it. “It’s got… ummmm.”


Lou could feel a headache coming on. It’d been at least two hours since she’d cum. Mandy was game. She knew what was up. “Say we attacked you. And we are attacking you.” They both got onto their knees. Paul wasn’t fighting. That was another game, seeing how far they could push boys. See what they’d be willing to lose for a chance to fuck two very randy girls. There didn’t seem to be a limit. Girlfriends, jobs, whatever. 


Paul’s dick was very nice. They tended to be. That was Lou’s specialty. She had an unerring talent for picking out boys with huge cocks. They’d gone to the library not long ago, and she’d walked around, pointed to a heavyset computer help-desk guy, and said “that man has the biggest dick I’ve ever seen.” And he had. 

&lt;img class=&quot;wide&quot; src=&quot;images/24.png&quot; /&gt;

The headache backed away once Lou had a dick in her mouth and three fingers up inside of her. Mandy waited, gracious as ever. She shuddered with an orgasm and let the cock slip out of her mouth, where Mandy picked it up. Shoot, she’d needed a load in her hair. But at least her head felt nice. 


“Someone’s coming,” Paul said, eyes bulging. 


Lou adjusted herself on her knees, smiling. That was a nice part about this life. There was always another chance walking up. 


Ending 5 of 12: Lou is Horny(set: $ending5 to 1)(display: &quot;Ending Footer&quot;)</tw-passagedata><tw-passagedata pid="24" name="25 Go inside Victoria&#39;s Secret and fuck Amanda&#39;s mouth" tags="" position="495,1654" size="100,100">At this point, it seemed like the moral thing to do to drain his balls into Amanda’s mouth. 


She hadn’t taken much convincing.(if: $wentToWork is 1)[ She had completely forgotten about their fight.] Lewis wished this was more like a command, that he could just telepathically make it happen. Instead, he seemed to -- convince the world that Amanda was always the kind of person who got mouth-fucked in public changing rooms. And that no one was going to either notice or care. 


&lt;img class=&quot;right fifty&quot; src=&quot;images/25.jpg&quot; /&gt;The collateral damage was the interesting part. First and foremost, the kind of girl who rushed to blow her boyfriend was pretty slutty. And the kind of girl who very much wanted to swallow was even more so. 


Amanda had gained a set of tattoos. They’d swirled in very pretty while he’d watched, enchanted. Ink on both forearms, classy in a way, a semi-Victorian set of chains and hearts. But he’d known, even without looking, that a similar black heart had appeared right over Amanda’s pussy. She’d added another layer of makeup, and a subtle mist of perfume. Her shirt was a scoop-neck, just so all her clothes were kinda slutty. 


He could remember, now, fucking that sweet pair of lips dozens of times. Amanda loved sex. But what she wanted was cum. Something about it entranced her, something about coaxing it out of men and onto her tongue inflamed her. She’d explained it. “There’s this moment when a guy is about to cum,” she’d told him. “And it’s like… when you think about evolution and stuff, that’s what he’s FOR, you know? For that lil squirt. The rest is just carrying the jizz around. He HAS to cum. It’s what his body is for. And that very important cum goes into me.”


Then she’d blown him. 


The difference in her technique, that had been another happy surprise. This Amanda was a real professional. There was a world of difference between a girl who had a mouth and a girl who used it. She’d teased the underside of his dick with her tongue, as softly as possible, and he’d nearly cum right away. Plus how tenderly she’d softly wrapped her lips around the base of his cock as he’d shot into her mouth. 


“That was nice,” Amanda said, half-drunk on it. She seemed mildly intoxicated by it. Lewis left her to try on clothes. He strode out of the changing room. The entire store was before him. The mall. The entire world.

&lt;img class=&quot;wide&quot; src=&quot;images/12.jpg&quot; /&gt;

All he could see was ideas. The slender Asian girl focusing entirely on pink panties, she would look so good with even slightly bigger boobs. There was a goth friend lurking, bored, who could have her attitude changed.


[[Change the Asian girl.-&gt;14 Change the Asian Girl]]
[[Change the Goth girl.-&gt;15 Change the Goth Girl]]</tw-passagedata><tw-passagedata pid="25" name="26 Leave the Store" tags="" position="214,1960" size="100,100">&lt;img class=&quot;right fifty&quot; src=&quot;images/26.jpg&quot; /&gt;“Ready to go?” Mandy said. She patted his butt affectionately. 


Lewis got a look at himself in the mirror. It was clear that keeping what was really real was going to be a challenge. He hadn’t looked like this on the way in.. right? He had looked like a emo Shaggy from Scooby-Doo. That had been his look. Now he had a square jawline with a considered two-day stubble. He felt stronger, taller, harder. He had memories now of working out. Were they real? Imagined?


Maybe it didn’t matter. 


He left the girls in the store behind. They were eyeing each other, seeing opportunities. Easy enough to put his phone number in their heads. They’d find a reason to call it -- the world would give them a reason. 


Lewis walked into the mall proper and stretched, long and slow. His cock hung between his legs. He was starting to enjoy being a god. He didn’t feel bad about anything. How could he? The sort of man who felt bad about casually bimbofying girls was the sort of man who would not have done so. The logic of it chased itself around. In the meantime, he could just fuck with abandon. 


“You’re getting your nails done, right?” he reminded Mandy. She nodded, enthusiastic. There was a plastic surgery shop at the other end of the mall, near Nordstrom’s. It mostly did aging moms up with botox, and the doctor barely charged for the pleasure of fattening Mandy’s lips. Lewis wondered, idly, if he had always existed, or if he was new. 


It didn’t matter. 


He looked around the mall. 

[[This isn&#39;t ok. STOP. YOU NEED TO STOP!-&gt;29 No. Stop. You Need to Stop.]]
[[Make everyone hornier.-&gt;27 Make Everyone Sexier]]
[[Get some girls for yourself.-&gt;28 More Girls. More.]]</tw-passagedata><tw-passagedata pid="26" name="27 Make Everyone Sexier" tags="" position="139,2110" size="100,100">Could he do anything? Lewis felt pretty confident about it. 


He looked out over the mall. They’d put a milkshake shop right in the middle -- milkshakes and coffee. Accordingly the clientele was bifurcated. Half serious students with big cups of coffee, half giggling girls sipping on over-sized cookies and cream shakes. There were already two hot girls right in the middle of it all, their cleavage on display for people on the second floor, drinking shakes. 


That was the funny part, that there were so many girls who didn’t need world-altering powers to put on a mini and preen for random strangers. The world had plenty of bimbos and sluts as-is. Every day, uncounted numbers of girls swallowed. Many, many women arched their backs to let a man finger them in public. It was natural to be horny. 


But everyone COULD be a little hornier… 


It was easy when he put his mind to it. And just like that, the world was a little bit different. All the many different outfits all around, the shorts and khakis and jeans, went away. They were all too rough and hard to wear for women who’d been through H0N2.


&lt;img class=&quot;right fifty&quot; src=&quot;images/27.jpg&quot; /&gt;The studious girl at the milkshake place was halfway overcome. Kate had been through the ringer recently, her first case. People referred to it as second puberty, and it wasn’t that far off. Having a good vibrator during the initial outbreak was a must. New nerve endings actually formed in the clitoral hood, neurons forming in the brain at a staggering rate. Hormonal production was tripled. It mostly manifested in women as being very, very horny. 


She squeezed her legs shut, looking around. There were still a very few girls in skirts, although even a subtle breath of wind was enormously stimulating. Rubber and Lycra and nylon were about it. Otherwise you might as well walk around with a dildo up inside you. The girl rubbed a hand between her legs, frustrated. Everyone else was clearly well-fucked. And there she was, still trying to get her degree, while all her friends were busy chasing men and spreading their legs. God damn virus. 


It wasn’t quite socially acceptable to cum in public. Not yet. But if she gritted her teeth, and crossed her legs, and closed her eyes, and kept the noise to a minimum -- no one was going to say anything about a girl cumming. That’s what girls had to do, all the time. 


The nylons were formulated to keep wetness inside. Of course, that meant she was sloshing around in her own horniness. The girl sighed, defeated. This was no good. She needed to get to a restroom and properly finger-fuck herself back into a state of study. It was a good thing she had the ten inch vibrator in her backpack.

[[This isn&#39;t ok. STOP. YOU NEED TO STOP!-&gt;29 No. Stop. You Need to Stop.]]
[[Push the world harder.-&gt;30 Push The World Harder]]</tw-passagedata><tw-passagedata pid="27" name="28 More Girls. More." tags="" position="289,2108" size="100,100">&lt;img class=&quot;left fifty&quot; src=&quot;images/28A.jpg&quot; /&gt;Jennifer had a lot of questions that weren’t getting answered. 


Working a mall kiosk job, she felt, shouldn’t mean a bunch of nagging and concerning issues. It should mean scrolling idly through phone apps while a flood of people ignored her. The kiosk itself was a throwback -- selling cheap burner phones with prepaid plans. They didn’t even have screens. And yes, there was a steady stream of customers clearly looking for an affordable way to manage an affair. 


But that wasn’t the question that was bothering her. 


It was the girls. That was the issue.


There was no reason at all they should be looking at her tacky plastic phones, much less putting them to their ears. Many of them had perfectly good iPhones tucked into little back pockets. But on her first day a red-haired girl in pert white shorts had picked one up, held it to her ear, and listened. 


For a very long time. 


And then she’d smiled. It was about as happy as Jennifer had seen anyone at a mall. The redhead had walked away, refreshed, pleased.


Jennifer had put the phone up to her own ear. It was not connected to anything -- the power was on to show off the single feature -- an address book. But there was something… a sound…


The next day, she’d found herself picking her shortest shorts to wear to work. They meant her legs would be examined by every male walking through the plaza area. Khaki pants were the obvious choice. These were bright blue and had tight short cuffs. She checked herself in the mirror. 


Work went a lot faster, somehow. 


And the girls kept coming by. Jennifer watched a brunette in a slinky grey shirt lean hard against the cart, like her legs weren’t quite working. Something about the phones was -- exciting? No, relaxing. They were being relaxed. She could practically see the tension drain out of them, the new calm swagger in their step. Many went straight to the beauty retailer a few doors down, and emerged later with packages. 


Jennifer went too, after her next attempt to figure out the allure. It wasn’t a single phone, either. Any of them seemed to work. She listened hard while applying a brand new shade of lipstick. It was daring for her. Bright red. Blowjob red, she said to herself. She giggled.


Work started to get a lot more fun.


Why sit in a chair and scroll through Instagram? There was an entire world floating around her -- and a lot of it was boys. It was really fun, Jennifer realized, to catch them staring. She was making it hard not to. Short shorts were one thing, a low-cut top was another. She picked up a bunch of knit tank tops and a few generous bras at the lingerie place. Her paycheck was mostly going towards job fun. But that was fine. She wasn’t worried about it. 


Catching the eyes of boys was always electric. It was cute when they were flustered at getting caught at staring at a kiosk girl’s tits. But it was amazing when they met her look and looked back, unashamed. Or winked. One cute boy even smiled, devilish, and it sent a flush of heat through her. 


Still, the questions remained. Starting with: the girls never bought anything. And they were growing in number, and bringing friends. The redhead was accompanied by her Mom once, a worried-looking fellow redhead in jeans. She’d said something sharp that Jennifer couldn’t hear, before picking up the phone. She spent a long ten minutes on it. 


And then gone on an impressive, mother-daughter shopping spree. Jennifer saw the mom leaving in a brand new short skirt. Another girl brought a pack of friends, and they all stood around on different phones, mouths open. That crew left the mall in brightly-colored shorts, oddly matched, like the colors in a pack of candy. 


The problem was, it was getting harder to consider these issues. Or any issue. The male attention was constant and warm and wonderful. Jennifer started showing up earlier and earlier to work. One day she came in a new skirt, a little white number, matched with purple underpants. If she didn’t slide her legs just so an entire oncoming horde of men got a peak.


&lt;img class=&quot;right narrow&quot; src=&quot;images/28B.jpg&quot; /&gt;It was very relaxing.


But the heat was hard to deal with. Why couldn’t she THINK? It was a relief that Jake, the guy working at the milkshake place just a bit away, was able to help her. They didn’t have an employee break room, but there was a supply closet he knew about where a girl could go to get dicked down in an emergency. And there were a lot of horniness emergencies. Jennifer reflected, undies around her ankles, holding on to a shelf of moisture absorbent pellets, that this was the very bestest summer job. It was so calming. Even her own Mom had stopped complaining about the little skirts and skimpy tops. She’d visited Jennifer at work. Now they had a LOT more in common. 


But what was it? Why was she doing this? Jennifer took to spending much of her time with her ear pressed to the phone, listening, lazing. Her legs slipped far apart, but it didn’t matter. Heck, most of the girls at the mall were just as slutty as her. Sometimes she and Jake surprised some customers in their employee-only hallway, getting their rocks off. 


And then it happened -- Jennifer was on the phone, eyes closed, slurping back some drool, when a voice came over the line. A girl voice. Hers. 


“He’s here,” it whispered. All the girls on the various phones -- and they were all occupied -- opened their eyes. 


“Go.”


Jennifer nodded. That answered a lot of lingering questions she had. She licked her lips.

[[This isn&#39;t ok. STOP. YOU NEED TO STOP!-&gt;29 No. Stop. You Need to Stop.]] 
[[MORE! More girls!-&gt;32 Get More Girls]]</tw-passagedata><tw-passagedata pid="28" name="30 Push The World Harder" tags="" position="91,2266" size="100,100">Heck, why stop there? Lewis clasped his hands and looked around. Already the world was a better place, wasn’t it? He’d increased the world’s orgasms so much. And that was it, right? That cascading little burst of pleasure was as close to heaven as anyone was likely to get. If someone could spend their whole life in that orgasmic bliss, they’d do it. Everyone would jam on that lever. 


He could see the improvement everywhere. Women walked around in happy, horny hazes, their next cum heavy on their minds, still juicy from the last one. The men looked good. They were prized, appreciated studs, fit and happy and ready to service. A world where everyone rubbed on each other, all the time, was bound to be a peaceful one. How could you fight a war when the young men were preoccupied jizzing into cheerful, open mouths? 


Nothing wrong with going a little farther, right? No harm in it. Kate, for example, in a horny tizzy on the mall floor. The problem there was that it was still socially unacceptable for her to be dicked down in public. Lewis could fix that. 


The world was momentarily fuzzy. 


H0N3 had been a struggle for the whole world. There was a lot of sympathy, even for the men, for what it put girls through. Sure, they came hard and often. Car rides alone were enough for shrieking, intense orgasms, depending on how well-paved the road was. 


Kate, in particular, had a rough go of it. Most of the time she’d just ate, in a metabolic frenzy, needing large amounts of fat and protein for an intense metamorphosis. While she slept, exhausted, her tits had doubled in size, her dreams wild sexual experiences. Like most girls she’d had inconsistent milk-production experiences. In the morning she’d had an entirely new center of balance, not just her boobs but her rear end jutting out. The government had rushed out clothes production -- cheap but stretchy stuff that could swathe the new butts. 


But the hardest part had been what the government gently called the mental changes. Kate had woken up in a porno body, a ridiculous cartoon-sex drawing of a body, had sat down in front of a mirror, whistled with respect, and then started stroking herself. It made sense and it felt good. 


A good friend had visited a few days later. A buddy from work, who shared her interests in extremely twee indie video games and mildly leftist politics. She’d sucked him dry within ten minutes of him closing the door, eyes closed, smiling and pleased. 


She still kept up college appearances, although it was mostly an excuse to wear cute clothes and accumulate boy phone numbers. They had to punch in their own numbers, type their own names in, that was the rule. Condoms were optional. Frankly no boy wore one after the first round. 


Kate got on her knees in the middle of the mall floor. There were all sorts of signals and cues like that, now. Heck, even the milkshakes had a little bit of cum in them, to help the girls get through the day. It was a popular store. 


&lt;img class=&quot;right fifty&quot; src=&quot;images/30.jpg&quot; /&gt;A boy approached right away. Kneeling meant -- a quick, satisfying suck. Not exactly businesslike but mostly about keeping bodies nourished and balls empty. This one had a warm cock, clearly recently serviced, but no less lovable for it. Kate took it into her mouth and cherished the way it grew -- it was rare she got to experience that. Usually they were full-mast hard right away. His recent jism still clung to the underside, plus the faint taste of some other girl’s mouth. It was nice. 


Men were unsure on the etiquette of warning about impending orgasm. This one was from the school that emptied without warning. Kate quickly sealed her lips. The flood helped scratch that endless itch. Apparently the government was developing synthetic sperm. It made her giggle.


There was still a tiny trace of pre-virus Kate in there. She liked to know the names of the guys she sucked, and made an effort to track how many there’d been, as hard as the numbers were. 


“What’s your name?” she said, politely putting his penis back in his pants. 


“Lewis, slut,” he said.

[[HARDER. MORE. THE WORLD IS YOURS.-&gt;31 Harder. More. The World Is Yours]]</tw-passagedata><tw-passagedata pid="29" name="31 Harder. More. The World Is Yours" tags="" position="64,2430" size="100,100">The lights were out, and it was very dark in the mall. 


Kate sighed, very deep in her throat. It came out as a kind of purr. She patted absently at her pussy. She had a vibrator inserted but there weren’t a lot of working batteries left in the world. Plus she was too dumb anyway to insert them. Master had to do it, and he was far too busy to ask.


But she had to keep going. In a beforetime she would’ve known that she looked comical -- lime green bikini top struggling to hold in her way over-sized tits, towel wrapped around her ample ass. Hair that hung all the way down to her butt. She searched the ruins of the mall nearly naked, wobbling around in heels, aching to get back to the other girls. She didn’t get a lot of the Master’s cock but its nearness was a comfort. 


Still. Master had dozens of girls to service. They weren’t aware of a lot, mostly interested in Master’s dick, getting knocked up, and cumming, in that order. But they were aware that it was hard to stand out in a sea of desperate tits and asses. No one was coming up with clever ideas, post-virus. No one was coming up with any ideas at all. 


Kate pawed at herself while she looked. She was a bit brighter than the others, hence the expedition. She could pierce together enough writing to know what a battery looked like, or a can of something edible. Food was kind of a problem. There were a lot of mouths to feed, and Master was just one guy, and the non-guys were in heat basically all the time. 


“Oh!” Kate said. Of course, there could be things BEHIND counters, too! She ducked behind the abandoned milkshake counter, surprisingly nimble on four-inch heels, and found them. A trove of sugars -- candies and chocolates and sprinkles. 


“You,” the man said. Kate squeaked. How intent was she on scavenging she’d missed his approach? And it had to be him. If there were other men left, after the-- whatever had happened -- Kate certainly wasn’t aware of them. 


Now she smelled him. Her body responded -- it didn’t have much of a choice. Her mouth watered, her pussy juiced, she sank to her knees. The man sometimes wore a shirt, rarely wore pants. They didn’t work with his lifestyle. His dick dangled nearly to his knees, and consumed her world. If he was mad at her it’d be the worst but if he was pleased… she’d definitely get pregnant. Even his stern look might do it. 


“Here,” she said, pulling her bag open. The man regarded the insides with his usual lordly disdain. He picked out a bottle of Pumpkin Halloween Sprinkles -- Bat and Ghost Shapes -- and something was stirred loose. Probably a memory. Kate still had a few of those too. 


“Good,” he said, fiercely. His prong rose up in front of him. Kate, relieved, waddled forwards on her knees to receive it. 


“No,” he said, shaking his head. He gestured with his fingers. “Back.”


Kate didn’t need to be told twice. She flipped over, pointed her ass at the air. Two strong arms encircled her, calmly placing her panting self on top of a table. They held her there, pinned to the old plastic square, while his cock patiently slid in. The virus had done its best, but there was a lot of penis. 


Kate started to shake and groan. It was good, so good. And all to herself. It was every dream she had. The bottle of sprinkles fell to the floor. Kate shrieked the name of her master. 


“Lewwwwwwissssss!” 


Lewis nodded. It was good. 
&lt;img class=&quot;wide&quot; src=&quot;images/31.jpg&quot; /&gt;
Ending 1 of 12: Mall Scavenger(set: $ending1 to 1)(display: &quot;Ending Footer&quot;)</tw-passagedata><tw-passagedata pid="30" name="29 No. Stop. You Need to Stop." tags="" position="222,2269" size="100,100">No. He had to… stop. It was both wrong and insane and horrible. This morning he’d woken up with a headache, and now he was… what? Turning regular people into sex toys? Because he could? It was pathetic how quickly he’d gone from ordinary guy to full on mustache-twirling villain, reducing people who happened to be at the mall to mewling bimbos. 


Lewis shuddered. It would be -- hard. To put things back the way they were. After all, with every change, the world had always been that way. Those girls were always wet and hot for him, their tits always tingling, their pussies always, always wet. He was searching for a memory he himself had killed. 


Lewis squeezed his eyes shut. There was no stopping. The headache went from bold to blinding. He could feel it thrumming in his ears. But if he just… pushed… past it…


There was a wet pop noise. His eyes opened just before Lewis’ head exploded, spewing red chunks halfway across the mall, all the way to the food court.

&lt;img class=&quot;wide&quot; src=&quot;images/29.jpg&quot; /&gt;

Ending 3 of 12: Bad Ending(set: $ending3 to 1)(display: &quot;Ending Footer&quot;)</tw-passagedata><tw-passagedata pid="31" name="32 Get More Girls" tags="" position="329,2428" size="100,100">&lt;img class=&quot;right fifty&quot; src=&quot;images/32.jpg&quot; /&gt;Lewis laughed. It was just so simple and fun. Everything in the entire world could make a girl into a horny bimbo, and everything was. 


Over in the beauty store a spritz of perfume went up Alice’s nose, where it quickly rearranged her systems to release massive amounts of endorphins into her system. As she groaned, eyes closed, the rest of the spray got to work inflating her tits to over-sized teardrops, about to burst out of an inadequate bra. A big wet patch appeared on her jeans. And why bother with plausibility? The jeans rolled up neatly to reveal deeply tanned legs, and didn’t stop until everyone in the mall could see that she wasn’t wearing underwear. 


In the game store a nerdy girl stood transfixed in front of a display of video games, eyes wide and scrolling back and forth. Kara kept trying to pull her head away, but the very first command had been to stay there, and it was very influential. She kept telling herself that the barely-seen commands to start fingering herself, to forget everything but sex and fun, were bad ideas, but… why not? It’d be fun to be brainless, wet, hot. She could start right now. As a compromise, Kara put her fingers down the front of her pants, and started to rub herself off. 


Over in the cookie shop the girl employees couldn’t recall when they’d agreed to wear some extremely demeaning uniforms. The idea was that the apron would keep things modest, but underneath there was just a bright red tube top that was barely a bra, and a glittery red mini skirt about the length of a palm. The apron itself was a tiny napkin. Plus the heels were four inches tall, although, to be fair, the sprinkle and frosting motif was very cute. Marianne, the oldest one, tried to ignore the men admiring her plentiful sideboob. It was getting her really wet. And that was another thing -- why no underpants? 


In the chocolate shop the men watched Colleen slowly eating a liquor-soaked truffle, perched awkwardly on a chair.  They were going straight to her ass, which was already straining her black leather shorts. She knew she was supposed to be selling these, and in a way she was. The men bought them for her. They all watched, enchanted, as she moaned and rubbed her pussy against the back of the chair, lost in the bourbon and cream. Her tits had easily doubled in size. Someone handed her a box and the entire crowd cheered.


Lewis walked past them all, pleased, trailed by a wake of screams and moans. The mall was notably more crowded than when he’d started. A small corps of girls trailed after him, the best of the best, all tits and ass and totally confident in their decisions to follow this man they didn’t know. They’d been drugged or rebooted or hypnotized or utterly transformed. 


Mandy was in the beauty shop, her nails freshly painted, the shop slut busy beneath her legs. Like the new queen she was she accepted the eager pussy licking with relative calm. When she saw Lewis she motioned her service girl aside, blew on her now-dry nails one last time, and joined him. At his side. 


“It’s all a dream,” Lewis confided in her. He’d figured it all out. It was the only explanation, and the best one. This was how dreams worked. That explained the girl getting butt-fucked on the second floor, overlooking the growing girls down below. 


“Okay,” Mandy said, twirling her hair. “Sure. Where are we headed?” 


Lewis jingled keys he’d just made in front of her. “A very nice house,” he said. He looked at the dozens of girls behind him. “Uh, hold on a second while I make some buses, too.”

Ending 2 of 12: Mall Harem(set: $ending2 to 1)(display: &quot;Ending Footer&quot;)</tw-passagedata><tw-passagedata pid="32" name="35 Punish" tags="" position="1517,1316" size="100,100">“I was looking at your work history this morning,” Carrie said. Lewis had the sudden clarity that he was about to be fired. He’d been through a handful of these moments, where an icy, terrible future clutched his heart. A meaningful look from a girlfriend, that call at 5:15 a.m. from Mom. And again, he could feel his body fall away, like it was a sock he wore. He got ready for it. 


“All available cashiers to checkstand,” the intercom sang. 


Lewis had learned to jump at chances. He stood up, put on a noble expression, and indicated the door with his eyebrows. 


“Go ahead,” Carrie said. He waited for her to say “and come right back,” but there was nothing. Perhaps she recognized an angel’s work as well. 


The angel was at checkstand, where there was just one old lady very slowly making her way through the twisting corridor they used for lengthy lines. She was having a tough time getting through the desk calendars without getting distracted. Lewis slipped behind the counter. 


“&lt;img class=&quot;right narrow&quot; src=&quot;images/35.jpg&quot; /&gt;I was about to die in there,” Lewis said. “Real death. No, soul death.” 


“Soul death!” Danika said. She looked at him with mock-wide eyes. “The best kind.”


There was a lot to like about Danika, and Lewis liked almost all of it. She was generously curvy without being intimidatingly hot, and just short enough to be pleasingly thick. She had very likable boobs -- the teardrop kind that pooched out to the side of her shirt. And as much as she tried to wear bookseller plain, there was just too much of her to avoid showing any body. 


She was funny and had the self-confidence of a spider in the light. 


“I’m glad you needed help with the, ah, crush,” Lewis said. He stood, importantly, behind the register. The old lady had lost steam entirely, and slunk back away from the registers. “It’s been a tough morning. Headache you wouldn’t believe.”


Danika made a drinky-drinky motion with her hand. Lewis denied it, wounded. 


“Danika, you were there, right?” The party last night had featured a lot of coworkers. “Did I drink last night? I swear I didn’t. Did I really?”


“No…” it was Danika’s turn to look troubled. She leaned forwards on the tabletop. “Didn’t make it.” 


“Why not? Pre-gaming?” 


“Boy trouble,” Danika said. The way she looked away, way away, possibly through the far wall, was concerning. Danika was prone to horrible boyfriends. Pudgy short men with bad tempers. Not the type she wanted, but the type she thought she deserved.


Lewis’ head hurt. He didn’t have to say anything. 

[[Don’t get involved.-&gt;36 Let it Lie]]
[[Maybe you can help.-&gt;61 Be Danika: Get Involved]]</tw-passagedata><tw-passagedata pid="33" name="36 Let it Lie" tags="" position="1523,1482" size="100,100">“I’ll be back in a second,” Lewis said. What was it with him and women, today? He kept stumbling into their problems, or being one. It was tiring, and what he really needed was a long time, by himself, in a place where nothing would happen. His head gave another ugly twinge. “Let me grab some caffeine.”


There were a lot of coworkers who avoided the cafe, presumably feeling awkward about being semi-kinda on duty. Lewis dealt with that by yanking off his work lanyard, stuffing it into his pocket, and slumping over a table and deeply into his phone. 


“What do you have for headaches?” he said. He didn’t know the girl behind the counter. Her nametag read “Tess”. Lewis evaluated it. A cute name. 


&lt;img class=&quot;right fifty&quot; src=&quot;images/36.jpg&quot; /&gt;“Umm.. well, there’s coffee, and there’s coffee with sugar in it?” Tess said. She had a row of freckles across the top of her nose. Her uneasy response said “college freshman.” Or a sophomore who lacked confidence. “I think that’s it for headaches. Usually you want aspirin for those?” 


“Yes. Yes I do,” Lewis said. He made a decision. “Espresso. That has to be the right move.” 


“Maybe?” Tess said. She seemed disheartened by the choice, and turned to the big, steaming espresso machine with clear nerves. It wasn’t that complex, but it was like driving a large, expensive car. 


“Just coffee,” Lewis amended. “Big coffee. Biggest cup.” The cafe was quiet this early in the morning. A few other college-y types working on textbooks despite it being summer. A professional looking lady on a laptop. Standard issue cafe crowd. It just lacked the loser-y guy watching anime with headphones on. Lewis supposed he’d have to be the loser. 


He sat down. It was nice. Things had to improve from here on. They just had to. He looked around at the world. Something needed to improve.

[[Improve Tess.-&gt;37 Be Tess. Improve.]]</tw-passagedata><tw-passagedata pid="34" name="61 Be Danika: Get Involved" tags="" position="2159,1452" size="100,100">&lt;img class=&quot;right narrow&quot; src=&quot;images/61.jpg&quot; /&gt;“Men,” Lewis hazarded. 


Danika shook her head. It was unclear to her if there were different men out there. Navigating their hangups and assumptions was tiring.  And it had only gotten worse once they’d learned to fake empathy off the internet. Lewis was a good example -- early 20s, seedy, confused, just about able to dress himself. 


He surprised her by asking a question. “What’s the guy like?”


“Paul? He’s just a guy,” Danika said. “He’s into board games and has a big beard. I think you can figure out the rest of him from that.” 


That escaped Lewis, who seemed vaguely not there. “You okay?” Danika said, as he winced. 


“Headache,” Lewis waved it off. He took his place at the register next to her and put his head in his hands. “Ugh. Why not just look for a different guy?” 


“I can, sure, but its like picking hamsters out at the pet store. The next one you pick is gonna be another hamster. I don’t even want a guy who shares interests with me, anymore. Like, it’d be enough if he wore black shirts.” she’d stopped going to metal concerts a half-decade ago, and her wardrobe was essentially on auto-pilot. “Anyway, whatever. Men aren’t changing.”


“No?” Lewis said, looking up at her. His eyes glinted. “What would you change?”


“Either emotional availability or MUCH bigger penises,” Danika said. “Either would be okay.”


“No, really,” Lewis insisted. He leaned up to look at her. “What would you want?” 

[[“I want to matter to him.”-&gt;62 I Want to Matter to Him]]
[[“I want to be happy.”-&gt;63 I Want to Be Happy]]</tw-passagedata><tw-passagedata pid="35" name="34 Be Carrie. Let It Go." tags="" position="962,1349" size="100,100">Carrie had been a manager for three years, and knew very well it was just a way-stop in life. In another dozen years bookstore managers would be a hunted class, a few pinched secondhand store owners scattered across the country. At best, selling airport fiction to old people. In the airport. With that in mind, it was hard to care too deeply about an employee arriving mildly late. How late could you be on borrowed time?


And Lewis had a certain loser charm. He reminded Carrie of any number of ex-boyfriends, comfy ones that were endearing non-entities. Destined to peak at twenty-three when they went into debt for concert tickets. 


“Lewis, c’mon,” Carrie said. She gave him her both-eyebrows-up look. Lewis was smart enough to take it as the warning it was intended as. 


“Sorry,” he mumbled. He was unshaven, his hair mussed and just shy of greasy. “It’s…” 


“You can just say, hangover,” Carrie said. “I’m thirty-two. I’m not a mom. I’m not even a girlfriend.” She winced internally at the last part. But being a bookstore manager was surprisingly lonely work. 


“It really isn’t that,” Lewis said. “It’s... “ he eyed her. The hairs on the back of Carrie’s neck prickled. Something was… odd. “Can you handle weirdness?” 


“I… sure,” Carrie said. She’d read hundreds of fantasy books. In each of them she’d said to herself: she would also say yes. To the elf or fairy or whoever came calling. Couldn’t stop now. And she was thirty-two and single and in a dead-end career. 


“Okay… I’m not sure this will work… but… there.” 


The water bottle on the break room table fused into black, hard plastic. The water inside geysered out in a fit of steam. The new molding became harder, shrinking inwards, changing shapes, until…


“That’s a penis,” Carrie said. 


Lewis winced. “It’s.. yeah, I know. I woke up this way. And it’s… it keeps working out sexual? Does that make sense?”


Carrie touched the brand new dildo. It was a shiny and smooth thing, and still faintly warm. It was like a foot long. Lewis kept talking. “I have this headache. Like a really extreme one. And I think it helps if I… DO things, you know? Like I just made that dildo and I feel a ton better.”


Headache, okay. “Lewis, do you have omnipotent powers?” Carrie said. This wasn’t what she had anticipated for the day. There was a new Diana Gabaldon coming in, and she was intending to steal a copy. That was the day’s excitement. She looked right in the boy’s eyes.


“Maybe?” Lewis said.

[[Explore further.-&gt;47 Explore Further]]</tw-passagedata><tw-passagedata pid="36" name="37 Be Tess. Improve." tags="" position="1545,1623" size="100,100">&lt;img class=&quot;right narrow&quot; src=&quot;images/37.jpg&quot; /&gt;Tess hadn’t figured this job would be so deeply, deeply depressing. 


But it was, and on a number of levels. First, there was the basic soul-crushing boredom of being the person who walked around a little workspace and made simple drinks in exchange for a bit above minimum wage. And handed cookies to children, and explained what chai was to customers who really should know that by now. It was tedious. 


Second, there was the reality that this, this was adult life. It stretched out before her, 8-hour shifts, food, mandatory showers, necessary sleep periods, and what else? Whatever fun she could afford after taxes and paying for shower water? 


Third, and most troubling, was the fact that this was her. In High School she’d felt mildly invisible, heavily normal, but thought it a partial blessing. There were a lot of advantages to the background, in public school. But now whenever she passed the reflective steel of the espresso machine -- this was it. A pretty whatever face and shoulder-length hair she had to regularly wash until she died. It was just a body and she was just a person. 


The cafe had a sleepy morning feel about it, and her caffeine wasn’t helping. The assistant cafe manager was late. One of the regular bookstore guys had basically fallen asleep in front of a huge mug, his hands wrapped around the back of his head. Her phone had 0 new messages. 


Tess felt an odd thrill, totally out of place for the time and location. She blinked it away, opened her mouth -- that felt… strange. 


Not a bad kind of strange.
[[Improve her butt.-&gt;38 Butt]]
[[Improve her boobs.-&gt;39 Boobs]]
[[Improve her lips.-&gt;40 Lips]]
(if: $tessCounter &gt; 0)[[[Make her thicc.-&gt;41 THICC]]
[[Make her pregnant.-&gt;42 Pregnant]]
[[Make her Asian.-&gt;43 Race]]
(if: $tessCounter &gt; 1)[[[Make her a slut.-&gt;44 Slut]]
[[Make her dumb.-&gt;45 Dumb]]]
(if: $tessCounter &gt; 2)[[[GO FOR IT. GO. FOR. IT.-&gt;46 Go For It]]]]
(if: $tessCounter &lt; 3)[(set: $tessCounter to $tessCounter + 1)](set: $carrieVictim to &quot;Danika&quot;)(set: _dummy to setup.saveVars([&#39;$firstPlaythrough&#39;,&#39;$tessCounter&#39;,&#39;$ending1&#39;,&#39;$ending2&#39;,&#39;$ending3&#39;,&#39;$ending4&#39;,&#39;$ending5&#39;,&#39;$ending6&#39;,&#39;$ending7&#39;,&#39;$ending8&#39;,&#39;$ending9&#39;,&#39;$ending10&#39;,&#39;$ending11&#39;,&#39;$ending12&#39;]))</tw-passagedata><tw-passagedata pid="37" name="38 Butt" tags="" position="1381,1756" size="100,100">Tess rubbed at her backside. There was an unexpected array of tingles. Her khaki pants, dependable and cheap, drew in and in, like the air was sucked out, until they were taut. 


Leggings were forbidden under company policy but they were too common to truly shut out. If she got them in tan and wore the apron no one in management was going to say anything. She rubbed a little harder. Her center of gravity shifted lower. 


She’d stopped running track in junior year, once the wagon had gotten out of hand. It wasn’t a total surprise -- mom and aunts had made big butt jokes around her her entire life, and they were all possessed of padded rears. At family events dad and uncles were surrounded by wives with unexpectedly big rears. Tess hadn’t really understood their jokes until puberty hit. 


Ugh, this was going to be a bad day. It felt pathetic to simply rub her butt on the quartz countertop, like some sort of horny cow. She had enough horse comparisons in her recent past. Her leggings crawled up her legs, revealing lengthy, shapely thighs with a sleek, exaggerated curve. Her Mom had chortled when she’d gone out for track. She’d even told Tess: “honey, as athletes, we’re best at slamming car doors shut with both hands full.” Even then she hadn’t really gotten the joke. Until she’d been struggling down a track and noticed half the boy’s team bunched up behind her. 


Why did it have to feel good? Tess had wondered if she was just making the best of a big situation. Was there a Tess in a different reality with over-sized tits, honking them at work? She’d even looked it up -- trying to figure what nerve she was scratching between her legs. 


Maybe it was just the result of all the attention. Her leggings completed their climb, turning khaki-thick and rough, barely long enough to cover the edge of her rear. Her plain tennis shoes popped a heel, then started to climb. She’d argued the cafe manager into three inches. It helped that she’d gotten onto his lap. 


Enough. She had to know. Tess strutted into the little break room, pulled out her phone, where it’d been close to breaking between her ass and her shorts. She flipped on her app. It was her first post on /r/pawg, and it was doing incredible numbers. The comments called to her. But no, she still had to work. Right? 


&lt;img class=&quot;right fifty&quot; src=&quot;images/38.jpg&quot; /&gt;Ugh, and now she was all wet. Tess gritted her teeth. There was only one thing to do. She’d perfected the walk. Tess went back into the main area, where the coworker from before still nursed his coffee. He was already looking at her, faintly unfocused, which was perfect. Tess put her legs together, bent just briefly at the waist, and then pivoted sideways. And then she shot a look right at him, over her shoulder. The boy jerked backwards. A coworker was ideal -- he had a reason to be in the back. 


He was all over her once they got in the back. As usual, she had her back turned, pressed into the erection, while he kissed her neck. And then the best part -- the boy struggling and frustrated to get her shorts over her butt. It took this one a good twenty seconds, grunting and puzzled, before he got them over her ass cheeks. A new personal record. 


Tess had a spot picked out where she could park her hands. She steadied herself. 


“Pick a hole,” she called back there. “Either is fine.”

[[Check in with Carrie.-&gt;34 Be Carrie. Let It Go.]]
[[Meet Amanda at the mall.-&gt;25 Go inside Victoria&#39;s Secret and fuck Amanda&#39;s mouth]] </tw-passagedata><tw-passagedata pid="38" name="39 Boobs" tags="" position="1496,1757" size="100,100">Tess shook herself. It wasn’t like her at all to feel sorry for herself. Or to feel sorry at all. Her usual smile returned. A satisfied, cheeky, smug little smile that rarely left her face. She practically slept with it on. 


The smile of a woman confident she had amazing, juicy tits. 


They expanded hungrily on her chest, doubling in volume, shifting in size. Her bras frantically reshaped to try and keep up -- an extra strap appeared, another clip in the back. The very metal changed -- cheap alloy wasn’t going to do it. The girls needed real leverage. 


Tess lost sight of her toes. Her shirt shrank to fit, turning into one of the baby tees she habitually wore when cleavage wasn’t an option. White with a blue collar. It took a very special type of tits to make boys imagine the cleavage that wasn’t visible in the slightest. And Tess had them. And loved them. 


&lt;img class=&quot;right narrow&quot; src=&quot;images/39.jpg&quot; /&gt;She’d never understood the girls she knew or read about who were unhappy with their big, big naturals. She’d been thrilled with them from the start. It was extremely obvious from every movie and TV show ever that the world bent over to accommodate girls with huge natural tits. They opened every door. She’d gloried in their uncontrolled, ecstatic growth, loved the stares, the pained looks from male high school teachers. Tess had worn a bikini to the senior outing and broken up three long-terms. 


It was hard to give them the attention they deserved, at work. At home she could luxuriate in them, one hand gripping a nipple, one hand between her legs. But there were compensations. The startled shock from the women, confronted with superior nipples. Men were a wonderful variation. Sometimes they stared, sometimes they smiled, sometimes they blushed. 


But they all cared. 


It took them awhile to fill in, and when they did, her bra was custom-made by artisans and cost hundreds of dollars. It was one of two that fit. But they rode high and firm and were heavy and great. Tess wondered, idly, if there was a Tess in another universe with mediocre boobs, but, what, like a superior ass. 


She pitied that person. 


Oh, she had time to play. The girls deserved it, locked up in their little prison. And besides, Tess knew what awaited her. They wouldn’t be this young and proud forever. Eventually she’d be hauling around large trash bags. All the more reason to enjoy them young. 


She winked at the coworker who’d been eyeing her. His expression was so gratifying -- the momentary confusion, the dawning realization that -- yes, he could stare. In fact he should stare. She wanted him to stare. It felt good. 


Tess motioned to the back. 


The boy did the right thing, which was to start playing with them right away. Tess sighed, happy, and then stripped off her shirt. She undid her own bra -- it was fun to let the boy fumble around, but honestly, there was a good chance he’d lose a finger. 


They sprang free. Tess kneaded them herself, without thinking too hard about it. She sat herself on a countertop. Her pants quickly reformed into a taut skirt to compensate. No need for underpants. She drew him close. His chest was so wonderfully rough against her nipples. Tess crossed her legs behind him.

[[Check in with Carrie.-&gt;34 Be Carrie. Let It Go.]]
[[Meet Amanda at the mall.-&gt;25 Go inside Victoria&#39;s Secret and fuck Amanda&#39;s mouth]] </tw-passagedata><tw-passagedata pid="39" name="40 Lips" tags="" position="1614,1757" size="100,100">Tess checked her reflection in the brass of the espresso machine. The color was off but her lipstick looked right -- nice and bright red. She was trying to cut down on the color, keep it to one day a week, but it was hard not to gravitate to it. 


She smiled, just to check her reflection. A mask of makeup shrouded her, between blinks, her face a bare canvas for a sudden layer of mascara, rouge, a dust of foundation. It took her a long time to get ready for work, and she knew very well that it didn’t look quite right to anyone. A girl serving espressos early in the morning didn’t need to be painted and perfect, her eyes shrouded with blue shading, a red glow on each cheek from expensive powder.


She blew the reflection a kiss. 


It was funny, it had taken her so long to put two and two together. Why her teachers, male and female, had just assumed she was dim at best. The pitying look from librarians, the way men spoke gently to her and liked to put their arms around her. 


Finally an enemy, on a sleepover, had told her the truth. All the girls had watched a little porno together, just for the naughty thrill. Some rouged-up whore had gotten her face thoroughly fucked, a raw, red dick sliding between heart-red lips. The enemy had paused it just before the girl started to suckle on ten inches of dong, where her mouth was parted, her oversized angel-bow lips mildly open. The girl looked like a stupid cocksucker. 


“She looks like you, Tess,” enemy had said. 


And Tess had realized -- oh shit. It did. 


She had a cocksucker face. 


It was too strong of an identity to fight off, and Tess had barely tried. She’d stolen her step-mom’s old makeup and experimented. And even the putatively sophisticated looks had foundered on her pillowy lips, her wide eyes, her broad, open face. She only looked right in pink and red lipstick, her eyes wide, her lips parted. Dumb, horny, and hot.


At least it was AN identity.


&lt;img class=&quot;right fifty&quot; src=&quot;images/40.jpg&quot; /&gt;Tess stuck a finger between her lips. No doubt a psychologist would have a lot to say about her oral fixation. While at work it was lollipops and gum. At home, with the door locked, Tess pulled out a hidden pacifier and nuzzled it while she jacked herself off. It was very, very soothing. She slid her favorite sugar-free pop between her lips and winked at the coworker sitting in the cafe. 


It was possible she had watched too much blowjob porn. It was just -- this was her type. She watched porn star after star in the exact same shade of makeup as hers effortlessly swallow inch after inch. Swallow and smile. And as destructive as it was to her image and her long-term dating prospects, Tess kept finding herself sliding onto her knees before the end of dates. She’d spend the entire night wondering about it, needing to know, wanting it in her mouth. A few times she even sucked the boy off right away, as weird as it made the rest of the night. The tension was too much. 


Tess sighed as she sucked away. There was no class, no style, to being a world-class cocksucker. No one admired you. You were dirty, submissive, mildly pathetic. And yet… when the tip slid into her mouth, across her overheated lips, and quivered… 


Well, there were compensations. 


Her shirt was loose, unkempt. From the neck down Tess didn’t deeply care about her looks. Boys didn’t. An easy mouth was its own reward. She’d show up for dates in basketball shorts and pink lipstick. It was fun. 


An alarm dinged. 8:30 a.m. Oh, thank god. She WAS trying to pace herself. Tess caught the eye of coworker boy, who was looking at her warily. Licking her lips was so cliche -- she opted to stick her tongue out, instead, and wink. It did the job -- he stood up fast, banging his knees, and followed her to the back room. Tess didn’t think he’d last longer than a minute. Well, that was fine. She was a working girl. And the memory would last all day. 


“You’re… uhh…” the boy muttered. They were so cute when they were about to be blown. Frozen into passivity. Tess unzipped and pulled his cock out. The dear boy had a big, big dick. And on a coworker? 


“We’re gonna have a lot of fun,” she promised it. It was very girthy, and twitched, promisingly, in her hand. Well, that settled it. A dick like that, it was his job to put it in. And there was nothing hotter than getting on her knees, mouth open, eyes wide, waiting for a penis to push its way past her lips, the boy slowly realizing he could go as deep as he wanted, as fast as he wanted.


She was a pro, after all.

[[Check in with Carrie.-&gt;34 Be Carrie. Let It Go.]]
[[Meet Amanda at the mall.-&gt;25 Go inside Victoria&#39;s Secret and fuck Amanda&#39;s mouth]] </tw-passagedata><tw-passagedata pid="40" name="41 THICC" tags="" position="1734,1759" size="100,100">Tess took a long look at herself in the reflection of the espresso machine. Every day was a challenge, no lie. But she’d promised herself -- this was going to be the summer where she broke free of the bullshit. Where she looked in the mirror and saw a Hot Girl, no doubt about it, a girl that boys were all about, a girl that was unembarrassed on the beach, a girl that was sexy as hell. 


And yes, a plus-size girl. 


She paced around the tiny space between counter and wall. Each step went a little slower, a little lower, her hips getting progressively roomier with each sway, her rear plumpening steadily and regularly. Her pants grew increasingly taut around her rear, her bra dug into fat tits. 


She had the paper in her purse -- a daily affirmation that this was the Summer of Thicc, and curvy girls had never been more in demand. Tess was not fat. She simply was not. She was female. All female, all curves and rear and softness. Not just an hourglass but the entire fucking clock. The ancients had made fertility idols about girls like her. 


Tess hefted her boobs. As weird as it was, it helped to think of them objectively. She had big fucking tits. Large, suckable titties. They overflowed her hands and hung big and proud on her chest. Her shirt cut lower and lower, finally showcasing an entire ski slope of cleavage. Her cleavage. 


Puberty had given her fat girl complex, and a friend had finally simply taken her to a decent boutique, dressed her in a short flaring dress with ample lipstick, and gotten one of the nearby boys in the dressing room with her. He’d cum on her tits cheerfully, and it had been incredible. 


She’d started camming. Not even for the money, not that that was a problem. Tess rubbed her thighs together, remembering. She’d told the camera that big girls needed even more sex, and she was starting to think it was true. True, her regulars had a bunch of feeders and degrading weirdos, but just as many earnest men who were enchanted by how perfectly round her ass was. 


&lt;img class=&quot;right narrow&quot; src=&quot;images/41.jpg&quot; /&gt;But being in public was still another thing altogether. Plus she needed the money. Tess checked the paper -- it helped her calm down. ‘ONE BLOWJOB A WEEK,’ it read, and ‘FUCK SOME RANDOM GUY EVERY OTHER DAY.’ She’d decided this would be slut summer, when she’d show the world what desirable meant. And it wasn’t some tiny waif with bird bones who’d die if she got properly fucked. She was the future, her big ass plowed by powerful, appreciative men, her tits swaying, her hips urging him on. 


Tess swallowed. She just had to believe that. Her shoes popped up into little black heels. They clip-clapped on the tile. She now wore her lucky polka-dot panties. 


Alright. Moment of truth. She turned her self towards the hungover looking coworker and gave him the sultry look she’d practiced in the mirror. She was all tits and ass and availability. He would NOT turn her down. 


The boy barely hesitated. Tess mentally fist-pumped. She was doing it. 


“Let me do the work,” she husked, grateful. Making boys beg for it was for NEXT summer. Tess unzipped his pants and pulled out her own shelf of tits. She jacked his cock to make it nice and goopy for her. 


“I want you to cum on these,” she said, rubbing her boobs. “Helps them grow.”

[[Check in with Carrie.-&gt;34 Be Carrie. Let It Go.]]
[[Meet Amanda at the mall.-&gt;25 Go inside Victoria&#39;s Secret and fuck Amanda&#39;s mouth]] </tw-passagedata><tw-passagedata pid="41" name="42 Pregnant" tags="" position="1385,1909" size="100,100">Tess checked her reflection in the gleam from the espresso machine. The thought occurred to her that -- she didn’t know why she’d never considered it before -- that she might want to get knocked up. Pregnant. Very pregnant. 


Tess looked down. She’d cupped her hands underneath her stomach. She felt a strange, growing sense of excitement. Of course. Why hadn’t she considered it before? All these years she’d treated her periods as an annoyance and fertility as a curse. That didn’t make a lot of sense. Reproduction was very, very natural. Heck, sex felt good, more or less, for that reason. 


Sex felt very good. Her hands inched down from her stomach. Oh yes. No more condoms. And it was a good thing birth control didn’t agree with her. Tess could already feel it between her thighs -- her urging a man on, a man of her choice, about to flood her with sticky sperm and make it count. Sex for keeps. She’d lie there with her legs in the air, keeping it all inside of her, and letting her body do what came achingly naturally. 


She was wet just thinking about it. 


Tess nearly laughed. What the hell was she thinking about? Of course, the truth was, bringing life into the world was much more fulfilling than being an anonymous coffee drone, a lonely worker bee laboring for nothing. But still, it would be tough to abandon any hopes and dreams from her early 20s in favor of childcare. Her body getting swollen and round. Curved and soft. Her tits leaking and aching. 


Tess walked over to the sink and spritzed some water on her face. What was this sudden interest in breeding? Was she just horny? Her previous fantasies were tame, romance-y journeys of the mind. Now she kept thinking of a basic rut, her face to the floor, a man roughly gripping her as he got ready to ruin her future. Tall, muscular, determined, wholly uncaring if he got some random slut pregnant. He didn’t even know her name. 


Tess was having a hard time remembering it herself. Her pussy ached. She looked around, frantic. There was a male there. He could breed her right then and there. Absolutely explode into her, restructure her entire life, making her get big and happy and glowing. Ditzy with the hormones, one of those dumb pregnant lady smiles on her face, holding her tummy. 


God, she needed it. 


He wasn’t the 6’3” stallion of pure masculinity she’d been thinking of, but he’d definitely do. The boy held down a steady job. He’d survived into his 20s. That was essentially alpha male. Tess locked eyes with him, and slowly nodded. Yeah, he’d do. He’d get children on her, leave her man-scented and quivering. 


She made a last-gasp attempt to break free. Where had she even learned all these romance novel terms? She was not going to be a single mother. She would fuck the boy senseless, and at the very, very last second, have him pull out and shoot on her back. Sensible. 


Although when he pulled out his very big, very red dick her resolve was already wavering. 


&lt;img class=&quot;right fifty&quot; src=&quot;images/42.jpg&quot; /&gt;“Oh, man,” Tess whimpered. Whatever the man lacked in height he made up for with phallic intensity. A man with a cock like that deserved to get her pregnant. He earned it with his first dozen rough strokes, sharp and insistent. He put his hands on her hips to better control his own rhythm. Tess was already shuddering and half-conscious. She could feel the first droplets of stuff coming out of him. Or maybe she was just imagining it, wanting it. 


“I’m gonna cum,” the boy told her, after a few minutes roughly plumbing her out. It was the first thing they’d said to each other. Tess searched for a question mark in it -- a social opening where she could say ‘hey, why not cum in my mouth? Or back?” But there was nothing there. He was going to cum. In her. The next 9 months and 18 years crystallized in her head. There was no way it was worth one stupid moment of horniness. 


Tess clenched hard. She felt the first warm spurt. He’d decided to cum in her buried up to the hilt. Squeezing tightly, she could feel his cock buck and spurt. He had a lot stored up for her. Tess fought to keep it all inside as her own orgasm tore through her. 


When she came to, he was gone. She was alone in the back room. 


Tess let out a deep breath, laid down on the tile, and put her legs up in the air. 

[[Check in with Carrie.-&gt;34 Be Carrie. Let It Go.]]
[[Meet Amanda at the mall.-&gt;25 Go inside Victoria&#39;s Secret and fuck Amanda&#39;s mouth]] </tw-passagedata><tw-passagedata pid="42" name="43 Race" tags="" position="1503,1908" size="100,100">Tess checked her reflection in the brass of the espresso machine. She had a wave of puzzlement, very brief, at the brown eyes in the mirror. Hadn’t she… hadn’t she been very attached to her deep blue eyes? She’d nearly broken up with a boyfriend who had never noticed the color. 


The moment passed. Right, of course she was a deep, deep brown. Tess shook herself. But she was tired. Working a side job to pay for college was a double shift. 


Her hair coursed with brown skeins, darker and darker, until it shone a rich and straight black. Tess secured it back with her usual bright pink scrunchie, high and tight. Her skin swirled and settled into a mild mocha, like a well-milked cup of coffee.


It was of course not ideal to pay for college with the slow infusion of minimum wage money. But Mom had played the purse strings card one too many times, trying in vain to keep her in STEM classes despite a lifetime of absolutely no STEM abilities. Tess felt that she had been the dutiful daughter plenty. Getting an arts degree was, as rebellions went, pretty meager. 


To be fair to Mom, there were lots of more substantive rebellions she knew nothing about. Fucking shaggy white guys was one of them. It wasn’t like there weren’t plenty of decent Asian guys, especially in this day and age, but even the fun, grinning guys with black beards were too close to church dates. Plus with the white guys it was just sex. And Tess was very much into just sex. 


Her pants climbed and climbed up tan, smooth legs. She moisturized them diligently. There was a fine line between china doll exoticism and developing a personal style, and Tess felt a certain hot-girl allure was actually less stereotypical. All her shorts were straining and taut, the hems short to begin with and sewn shorter. When Mom visited her dorm she’d hidden them all underneath practical jeans, in her dresser. Good thing, too. Mom had obviously snooped. 


Tess was under no illusions about the rest of her life. She’d have a bunch of crappy boyfriends in college, get an art’s degree, and 90% probably would never do more than a few essays on some stupid website about growing up Asian. Then she’d marry a STEM boy just like her and make Mom happy at last. 


But between now and then, getting drunk and riding a few enthusiastic boys couldn’t hurt. 


&lt;img class=&quot;right narrow&quot; src=&quot;images/43.jpg&quot; /&gt;Tess wore an expensive bra now -- an apparatus that pushed her boobs together. She’d had to endure a number of fumbling compliments from dumb frat boys about how big she was for an Asian girl. But they weren’t totally wrong. They were plenty of fun, too. 


Tess applied bright pink lipstick, thoughtful. She hadn’t outraged Mom in awhile. Hypothetically outraged. It had been a long time since she’d gotten laid. A coworker she sort of knew looked vaguely in her direction, puzzled. Tess winked at him. There was the biggest rebellion of all. It had gotten started soon after college, when shy, retiring Tess, quaking, had nerved herself to walk up to the biggest guy at a party and whisper in his ear -- “I want you to fuck me.” 


She’d never felt that kind of power before. Her shirt turned light and gauzy, with a hint of cleavage. Her shoes bumped into respectable heels, straw with black leather straps. 


Tess escorted him to the back. She’d shrunk to a mere 5 foot 3. The boy didn’t put up a fight at all. He struggled with her too-tight shorts while she whispered “fuck me fuck me fuck me” in his ear. Her imaginary mother steamed and shouted at her. Finally he managed the button, admired the dark black boy shorts. Why lie to herself? She’d known she was going to get fucked that day. 


Tess had a little trial for all her boys. She was gloriously, wildly unshaven. It was a delight to blow the minds of the men who expected a simpering hairless doll. But this one barely hesitated. And as much as she liked playing college girl with one Asian studies class, Tess had to admit it. She whimpered when he slid into her, his chest hair rubbing against her nipples. 


Tess tried hard to stay objective to the situation, but it was a challenge when she kept mewing and moaning.

[[Check in with Carrie.-&gt;34 Be Carrie. Let It Go.]]
[[Meet Amanda at the mall.-&gt;25 Go inside Victoria&#39;s Secret and fuck Amanda&#39;s mouth]] </tw-passagedata><tw-passagedata pid="43" name="44 Slut" tags="" position="1617,1908" size="100,100">Tess blew the espresso machine a kiss. It was impulsive, and she was mildly taken aback. She hadn’t blown kisses to anyone, much less an indifferent machine. 


Or… had she?


Her bra faded away, unneeded, and disappeared. More certain now, she blew a second kiss to the espresso machine, just in case the first one wasn’t enough. She had a reputation for one-night stands to get over, and kissing and leaving coffee equipment wasn’t going to help. 


Tess eased her backside onto the countertop. It had been a late last night, now that she thought about it. She stirred her own cup of coffee, thoughtfully. A lot of it was shrieking and blurs, and there were scenes missing, but she’d woken up in a strange bed with a strange taste in her mouth, so it had probably been very fun.


A web of tattoos glimmered and shone down the lengths of her arms. She’d gotten into ink early in life, as soon as she turned 16 and could charm tattoo techs. They’d been happy to practice on a nice, fresh canvas, and the pain-pleasure of it had been good training for the other half of her life. 


Tess glowed, sipping her coffee. Her thighs slumped and spread, her boobs spreading and growing soft and heavy. It was a friendly, fun body to have, attractive without being intimidating. Her dating profiles used the word ‘ripe’ a lot. It was a good fit. 


Tess’ underpants disappeared, for good measure. She stretched, downed the rest of the coffee in one shot. The riot of color on both arms picked up on her lower back. Her pants settled into white and black running shorts, cheap plastic stuff, and not hers. It had been on the floor of the room she woke up on. 


She paused, uncertain, and then the warm button between her legs sputtered on. Nerve endings roared into life, her nipples joining the party. There was a steady stream of neurons flowing between her pussy and her head, and a pound of girl hormones to boot. There it was. 


Tess loved to fuck. 


She was just naturally horny, one of god’s sluts. She’d barely bothered with shame about it, back in high school. The button had turned on, and ever since, Tess had spent a lot of time pressing it. Dicks for preference, tongues were also good. She’d met a lot of interesting people and had sex with them. 


Tess knew she wasn’t even particularly good at sex. It wasn’t like she’d sat down with a textbook and tried to get better about positions. They were all pretty good. Her blowjob delivery was sloppy and enthusiastic, and if a boy didn’t like it, they were welcome to get between her legs. That was what her legs were for, to transport her clit around. And besides, she was pretty good at getting herself off. If a boy couldn’t cum in a cheerfully orgasming brunette with big suckable titties he needed to stop jerking off so much. 


Her shirt turned ragged and long, a boyfriend long-sleeved plaid. It was probably the guy’s. The flannel felt pretty good on her titties. Actually, it felt a lot good. But hey, what didn’t?


Tess wasn’t much into worrying about the future. She was reasonably sure the world took care of horny twenty-somethings that liked to talk dirty in bed. So when she caffeinated past the hangover getting fired seemed like a pretty fun thing to do. The job had been a stopgap anyway, since her landlord had gotten tired of taking his rent in pussy. Now, at 8:30 a.m. in the morning, it seemed like a better idea to find a different landlord. 


&lt;img class=&quot;right fifty&quot; src=&quot;images/44.jpg&quot; /&gt;“Hey, coworker, do you want to fuck me in the break room?” Tess said. The other scattered customers immediately stared at her. Tess was pretty sure her nipples could be seen from the next store. She gave everyone a cheerful wave. 


The coworker had to be tired of his landlord, too. He followed her with just a bit of hesitation, shooting her confused looks. Tess put her hands on the gleaming metal table and looked back at him. The boy still seemed uncertain. Loose shorts and not even panties. Men.


“Do you need a diagram?” she said. 


Well, that was all it took, and thank god. Her shorts dangled around her ankles. Her shoes fuzzed into off-white tennis shoes. Those, at least, were hers. Her lucky fuck shoes. They had good traction for a lady who needed to brace herself. Tess gripped the table. Funny how she got a bit nervous, every time. Hundreds of boys, a billion fucks, and waiting for that sense of wonderful fullness made her---


Ahhhhh. There it went. Tess squeezed a muscle and heard the boy hiss and speed up. Maybe she was getting the hang of this sex thing after all.

[[Check in with Carrie.-&gt;34 Be Carrie. Let It Go.]]
[[Meet Amanda at the mall.-&gt;25 Go inside Victoria&#39;s Secret and fuck Amanda&#39;s mouth]] </tw-passagedata><tw-passagedata pid="44" name="45 Dumb" tags="" position="1736,1908" size="100,100">Tess screwed up her eyes at the espresso machine. Something was… off. 


She hadn’t been a valedictorian or anything -- valedictorians rarely worked morning shifts at internal bookstore coffee shops. They were at college and stuff. But she had been a reasonably capable student with a smattering of As, so she should be able to figure out the issue with the espresso machine. 


Her hair caught blonde like it had been dipped in dye. Standing there, nose scrunched, her eyes on the machine, it started from the tips and spread up and over. A bottled and beachy blonde, dipped in sunlight and doused with southern California. It was just short of being obviously store bought, a kind of blonde just plausibly real, at the outer edge of squeaky blondeness. And it caught curls, to boot. The overall experience was like ash-white springs. 


Tess realized the problem. The word on the machine. D-E-L-O… and on and on it went. 


She felt a sudden lightheadness. But hadn’t… no, she reminded herself, stern. She was pretty smart. Pretty, pretty smart. Solid B student. Although she was feeling, all of a sudden, like her head was full of soap bubbles, all iridescent rainbow foam. 


The bubbles were starting to pop. 


It wasn’t unpleasant. Just the opposite. Tess took a sharp breath in. But of course she’d always felt this way, right? Her cheerful, sunny smile had been her number one attribute her entire life. Her yearbook photo was all teeth. All the men she knew made sure to compliment her wonderful attitude. And then their eyes would stray down to her cleavage. 


Tess glanced at it, too. Her boobs were as buoyant as the rest of her. She walked around the cafe, slowly, her hips rolling. Pop pop went the bubbles in her head. It sure felt great. Tess had to remind herself not to rub between her legs. Men liked to compliment those, too. 


The realization struck her after a good ten minutes of standing around, twirling her hair, and feeling a mild euphoria. Right. Riiiiight.


She was kinda silly. 


Maybe not the brightest ever person. But heck, the world needed people who were fun and happy more than another brainiac, right? Tess always had loads of friends, boys and girls. Even girls appreciated that she would never, ever betray a friend, and honestly didn’t follow what the drama was most of the time. 


Boys appreciated that she seemed to genuinely enjoy giving head. 


And she DID enjoy it. Pop pop went the bubbles. Her thighs squeezed together. Tess didn’t mean to wear sexy stuff. It just seemed to happen -- and the whole world was happier when she was in little khaki shorts and a pink shirt. Her manager had stopped trying to enforce the dress code. Her little handjob in the back room had helped with that. 


She wasn’t TOTALLY stupid. 


&lt;img class=&quot;right narrow&quot; src=&quot;images/45.jpg&quot; /&gt;Tess blew a pink bubble and checked the time on her phone. Text messages rolled in, incessant. Texting was kinda a hardship for a girl like her, but half of it was emojis and glitter effects anyway. Parties all night long, dates, movies to see, friends all around. It was a darn shame she had to work in the morning. Tess glared at the offending espresso machine. 


‘DELONGHI’ she said out loud. There! She wasn’t a total dummy. 


Pop pop. The name poofed in a heartbeat. 


Well, she might’ve not exactly graduated high school, but she was prom queen two years in a row, and knew how to liven up a room. Tess popped her bubblegum at a coworker in the cafe and shot him a wink. Every doof knew what that meant. Tess followed him to the back room. The popping kept going at a fast clip, leaving her warm and relaxed and focused on nothing more than the next three or four seconds. Which involved the boy struggling to get her shorts off. 


“My name is…” the boy started to say, as he was just about to sink all the way inside of her. She’d giggled all the way through this so far. But now she stopped and put a finger to his lips. Her nail polish was super cute. Her hair recurled into pigtails with bright red bows.


“I’m not gonna ‘member,” she said, and wrapped her legs around him. 

[[Check in with Carrie.-&gt;34 Be Carrie. Let It Go.]]
[[Meet Amanda at the mall.-&gt;25 Go inside Victoria&#39;s Secret and fuck Amanda&#39;s mouth]] </tw-passagedata><tw-passagedata pid="45" name="46 Go For It" tags="" position="1794,2033" size="100,100">Tess was just about to look at the espresso machine when she noticed she’d grown big, juicy tits. 


They popped in over the course of a few seconds, like she’d had a last-second surge of puberty. Not just tits but extraordinary boobs, filling up like cheap water balloons and piling on to her chest. Her bra briefly tried to hold them up before turning into a strap just above her rib cage. The tits floated free. And they nearly did float -- she barely felt the weight of what looked like pound upon pound of boobs. 


Tess tried to panic about the situation. She couldn’t even see her feet anymore. But that part of her didn’t seem to respond -- there was none of the “oh shit” panic from suddenly growing through a dozen cup sizes. Instead she found herself thoughtfully grabbing hold and pawing at them, which was also a strange reaction at work. 


“Huh!” she said, like she’d found a nice rock. 


At least she wasn’t the only one. The cafe customers were equally sprouting tits, which was a sort of comfort. At least it wasn’t going to be everyone staring at her new boobs. A business lady watched with the same expression of mild interest as her buttons popped off her shirt. At the table by the window a man watched his girlfriend inflate and stretch. A trio of girls at the big nice table with the inlaid wood were all going through the same ballooning. 


Tess realized her shirt wasn’t covering her underboob anymore. She had also picked up alarmingly large teats. Tweaking them -- and yes, she was full of milk. That figured. 


“Anyone have any idea what’s going on?” she called out. Everyone looked confused, although not displeased. Except the one boy at the center table, who had his eyes squeezed shut. “Some sort of boob virus?” 


“Jeremy!” a girl yelped, in the first instance of real shock. Everyone turned to see. Jeremy’s hair, formerly short-cropped against obvious baldness, was coming in bright and lustrous. There was a fuzziness about his features that made them hard to focus on. It was far easier to see his own tits coming in just as fast as Tess’.  Jeremy checked between his legs, and everyone registered his surprise. So not just a boob virus, whatever it was. 


A shock of uncertainty passed through Tess. Everything seemed on the verge of making sense, but it was hard to agree why. A virus, wasn’t it? Some sort of porno virus that turned everyone it afflicted into a horny sex-crazed slut. No, it was nanomachines… or some sort of curse that applied only to the residents of this fairly new bookstore. But then the reason crystallized in her head -- additive in the coffee. Had to be. That explained why she was pawing hungrily at her pussy. 


It was kinda fun, watching everyone’s eyes glaze over with sudden lust. Tess had just enough energy to give an angry look at the espresso machine before she had to close her eyes to it. She was light-headed with animal lust, and barely noticed when her fingers dug into her waistband. Her hand was instantly drenched. Three fingers wasn’t going to do it. She struggled out of her pants and sat on the counter, fingers pistoning in and out.  God damn coffee. 


It was masturbation time all through the area. Everyone was groping themselves where they were. But those close by were getting other ideas -- the former Jeremy and her girlfriend had fallen onto the floor together, testing out her new privates. Jeremy was on the bottom. The girl trio was trying to reach each other but having trouble -- they’d all gone the wrong direction and were crawling around in a circle. 


Jacking off felt different. At first Tess thought it was just the novelty of masturbating in public, but it really did feel better, stronger. She belatedly remembered -- the coffee curse literally hooked up nerves in the clit right to her brain. Cumming too often tended to leave the drinker a little bit dim. But it wasn’t like she could stop -- there was an entire fist inside of her now, and it was rubbing raw on her clit. Her ass took the initiative to plump up as well, padding up despite getting squished on the counter. 


Everyone in the room suddenly remembered that they had dildos and vibrators in reaching distance. 


For the girls it was in their various purses, and ex-Jeremy had hers in a briefcase. Tess could now easily recall leaving hers, stealthily, behind the espresso machine. She tore herself off the counter, waddling in her soaked panties, and retrieved it. It was a fun six -- no, nine incher. A mild blue. Everyone had a different color, although they were all well-sized. The circle girls had all managed to find each other, and stuffed the plastic up their own friends. Crisis averted there. Tess was relieved. She felt a mild responsibility towards everyone. 


Former Jeremy kicked off the first of a round of orgasms, a shriek of pure pleasure. Tess tried to stop herself, owing to the brain-melting effects, but it was no use. Fireworks popped inside of her head. The businesslady came so hard she abruptly turned Asian, her hair cascading suddenly black. That was a known side effect, Tess recalled. 


Her own lips resculpted themselves to fit her moans. It wasn’t her first bout with induced sluthood, which is why she had the dildo at hand. Heck, she’d been salutatorian before cumming herself down to barista. Her parents had gone away for a weekend and returned to a Tess thiccer and sexier, bouncing on a neighbor’s cock. 


They all added a few more pounds, necessary padding when so much time was spent on rough carpet or tile. Side effects, again. 


The boy at the center of the room stood up. His eyes were open, calm, and sure. Tess took a weak step towards him. Everyone in the room took note. She was beyond reasoning about it. Something something virus coffee magic. Whatever it was, it had made this coworker into an object of pure lust. His clothes gently dissolved. He had a perfect body, and the prong between his legs was going to fuck each and everyone one of them. 


His eyes promised it. 


A cashier hurried over to see what the noise was and grew giant tits for her trouble. She doubled over, spurting milk. 


Tess had trouble moving, herself. Her body was all tits and ass and pussy, her mind was all rut and fuck. She wore a bright pink dress from nowhere, her feet up in four-inch heels. Everyone was in stretch Lycra and ridiculous club clothes. They wobbled on new thighs towards the man and his dangling prick. Tess put in extra effort. She needed to be first. 


“Everyone get in line,” the man said. His voice was thunder. He picked Tess up with ease. There was no earthly way she could fit his dick inside of her. Unless he was some kind of god. Which seemed increasingly likely. 


All of them drew near, changed-over men and women, grunting and fucking and debased and transformed, leaking fluids all over the floor, all of them with the same needy expression, focused on the man’s twitching cock. Tess realized she was about to be first. Impossibly, he started to push into her. 


Tess took a deep breath. It was unclear to her if she’d ever stop cumming, and she’d need the air.

&lt;img class=&quot;wide&quot; src=&quot;images/46.jpg&quot; /&gt;

Ending 11 of 12: Cafe Deity(set: $ending11 to 1)(display: &quot;Ending Footer&quot;)</tw-passagedata><tw-passagedata pid="46" name="47 Explore Further" tags="" position="915,1515" size="100,100">Carrie paced around the room. 


It occurred to her to be afraid. The boy was so hangdog, so sunken into his chair. Carrie wasn’t prone to headaches but she’d certainly had them, often after a night of chardonnay excess. Cosmic powers definitely seemed like they’d tax the brain. He really just looked like a college kid who’d gotten into his parent’s scotch. 


But incidentally, he could change anything. 


“Are you up for more tests?” Carrie said. Her interest overrode her caution. “Figure out what the scope of all this is? Put it in context? You know?” She decided to sit backwards in the chair. 


“I guess?” Lewis said. “So I’m not getting fired, right?”


“No. No I don’t think so,” Carrie said. She almost joked, she didn’t think she could. But that seemed like a bad idea, reminding the boy he had something dangerous inside of him. She had to play this very, very carefully. All the 50s-era pulp novels in her memory shouted at her. This was genie-wish dangerous. “Okay, lets do the classic one. Turn the penis here into gold.”


“Zap,” Lewis said. He didn’t move his hands or anything. Just glanced at the large black plastic penis. There was a swirl of shining bright color, and a multi-million dollar penis sat in her break room. 


“Does that help with the headache?” Carrie said, watching him wince again. 


“Not really. It’s… “ Lewis blew out a deep breath. “This is gonna sound bad.”


“Lewis, I don’t think anything you say could surprise me.” Carrie said. 


“Okay.. okay. Here it is. Do you ever have an itch up your butt?” 


Carrie was surprised. She tried not to hide it. “Yes, Lewis. Yes.”


“Well, what I mean is, one you can’t scratch. Because you’re in public or something. Okay, I’ve got a better one, like a huge boil that you can’t pop yet. And it hurts like anything.” 


“Lewis, you don’t need to use analogies. Go ahead.”


“Okay, I really, really need to cum,” he said. 


Carrie nodded, gravely. “Out of your penis,” she said, just to fill the silence. 


“Yeah… yeah. It.. I can just feel it. I really, really need it, you know? That’s why… why I made a big golden penis. Sorry.”


Carrie licked her lips. What did this mean? Were his powers somehow linked to sexuality in some fucked up way? That made an unfortunate amount of sense. Men were all basically wind-up toys, designed to walk around and shoot jism, and the longer they went, the more intense the need got. No reason his powers couldn’t be linked to that primal urge. Or -- and was it more disturbing or less? -- this could be Lewis starting to abuse his own powers. Of course he’d want to just get laid, instead of fixing world hunger. 


He looked expectantly at her. 

[[Carrie can help with that.-&gt;48 I Can Help With That]]
[[Someone else can help with that.-&gt;49 I Have An Idea]]</tw-passagedata><tw-passagedata pid="47" name="48 I Can Help With That" tags="" position="831,1640" size="100,100">The idea was fully formed in Carrie’s head. It was distasteful, true, but she’d fallen into a game with the highest stakes, and a handjob was a small price to pay for proximity to power. The future of the world was right in front of her, his balls blue, and she could be the one to guide him to doing so much for the planet. He could blink away global warming, feed so many hungry. And all that was asked of her was tugging gently on his dick until he came. 


Put like that, she could do it. Hell, she had to. 


“I think I can help with that,” Carrie said. She kept her voice brisk. Definitely she had to keep control. “Put your pants around your ankles and lets get you emptied out.”


“What? Really?” Lewis blinked at her, abashed. He had to be confused. Moments ago she’d been on the verge of firing him. Now she was offering a tugjob. Girls were mercurial, Carrie had to admit it. 


“Oh yeah, this is… its medical. You said so yourself,” Carrie said. “Out with the dong. Lets get this done. Can you lock the doors?” 


A little test for him. They slammed closed, and clicked shut. One of the doors hadn’t previously had a lock. Carrie swallowed. Okay. She could do this. Concentrate on the penis. 


Lewis had his hands on the chair, gripping it tightly. Alright, fine. Carrie unzipped his pants. She’d done this.. 


She felt a brief wave of giddiness.


…a lot. 


She’d fancied herself a sort of black widow at the very end of High School. She’d been president of four different clubs, and held on to power by rubbing out the boy members one after the other. She’d even had a special outfit she liked to wear for it -- a black shirtless number that shone in almost any light, made out of some soft shiny stuff. The boys could admire some sideboob while she jerked them. Heck, she was in a similar outfit now -- except this time in bright virginal white. Carrie looked down. The male employees liked to have reasons to be on either side of her.


&lt;img class=&quot;right narrow&quot; src=&quot;images/48.jpg&quot; /&gt;Well, this could be like old times. Of course she’d gone to college where handjobs were considered lame as hell. And they were. 


But she was good as hell at them. 


“There it is,” Carrie cooed. The key to a good handjob was to make the boy feel special. “Oh, Lewis, very nice. This is assistant manager cock at the least.” It really wasn’t bad. Solid. Unyielding. Carrie relaxed into her motion. She could do this all day. And had. 


“Thanks,” Lewis said. He seemed to be relaxing as well. 


“Does your headache feel better when I rub on your nice big dick?” Carrie said, with real concern. This better work, and not be some weird way of cadging some masturbation. 


“Yeah… yeah,” Lewis muttered. “Speed up a little, okay?”


Carrie did. He got goopy on her right away, another sign of a boy who needed to cum. Her fingers tapped and kneaded. She was 18 again, skillfully jerking Wilson Raines in his bedroom, step one to him completing their group project. He’d shot halfway across the room, and she’d taken it as a kind of compliment. 


“I’m coming,” Lewis whispered. Carrie had a special move for the moment, a soft thumb-based routine. Soon milky white jism was spurting all over her hand. Lewis looked at her with real adoration. Success! 


“Feeling better?” Carrie said, withdrawing her hand. 


“Much. A lot. Oh man. I feel like I can think again. Thanks Carrie.” 


“Take the rest of today off,” Carrie said. “Go home. I’ll be by as soon as I can. I want to help you think about what you’re doing.”


“Uh… okay. Carrie?”


“Yes?” 


“You don’t need to do that.”


“Huh?” Carrie noticed, finally, that she’d brought her cummy hand up to her lips, and had licked a bit. “Oh… oh.” But… had he… 


No, no. Carrie remembered now. She’d done that, too. That had been the clincher. Anyone could jack a dick. But lapping up sperm afterwards -- that was a sacred seal. Any boy she did that for, they were hers forever. 


It was a tiny taste of salty protein. No big deal. 


A thought occurred to her. “Lewis, you’d never do anything to me, right?”


Lewis looked at her, enchanted. 


“Of course not!” he whispered. 

[[“Take the day off. I’ll come by your place tonight.”-&gt;50 Meet Lewis At Home]]
[[“Take the day off. We’ll deal with this tomorrow.”-&gt;51 Meet At the Bookstore the Next Day]]</tw-passagedata><tw-passagedata pid="48" name="49 I Have An Idea" tags="" position="1070,1633" size="100,100">“Can you not… do anything world-shattering for the next few minutes?” Carrie suggested, brightly. “No weird powers things? Just for a tiny bit? I promise, I’ll make it with your while.”


“Uhh. Okay?” Lewis said. He shifted in his chair. His erection was poking up through his pants. He looked miserable and horny. Carrie knew how explosive the combination was, with men. 


She gave him a pert nod and walked out the door. Carrie closed it and leaned hard, as if the wood had any hope of protecting her from magical reality powers. The most she could hope for would be if it grew tits first, gave a warning. 


First Carrie gave herself a pinch, to make certain this wasn’t some insane dream. Then another stress-relieving deep breath, released at intervals, just like her therapist had told her. She ran her hands down her body -- normal enough. No imminent transformation into a sex goddess. Boobs were the same size. She strode briskly across the length of the bookstore. Her conscience was going to have a really hard time with this, but there didn’t seem to be any other option. 


“$carrieVictim?” she said, to the cafe girl. “Can you come with me for just a second? Nothing serious.”


(if:$carrieVictim is &quot;Tess&quot;)[&lt;img class=&quot;left fifty&quot; src=&quot;images/49T.jpg&quot; /&gt;$carrieVictim was a girl equivalent of Lewis, in her managerial eye. Red hair that tended to be greasy, gangly figure, unkempt eyebrows, untucked shirts. They had both always seemed like that class of employees carrying baggies of weed. So, she told herself, at least $carrieVictim’s life wasn’t going anywhere.](if:$carrieVictim is &quot;Danika&quot;)[&lt;img class=&quot;left fifty&quot; src=&quot;images/49D.jpg&quot; /&gt;$carrieVictim was the opposite on Lewis, in her managerial eye. Reliable and hardworking, dark brown hair in a tight ponytail, mom jeans covering her pudgy figure. She always seemed to be having boy problems. Carrie bit her lip and told herself that, in a way, she was helping.]


“Wait here just a sec,” she said to the girl, once they returned to the door. 


Inside, Lewis hadn’t moved, except his erection was even more prominent. More so than the fabric of his pants should allow. 


“Okay, I found a girl for you to fuck,” Carrie said. 


Lewis was taken aback. “What? Who?”


That told Carrie she’d made the right decision. No resistance. Just… who. 


“$carrieVictim.(if:$carrieVictim is &quot;Tess&quot;)[ The coffee girl.] Can you release a phero--” actually, that was a bad idea. Somehow she had to stay clear of this man’s dick. “Can you make your dick irresistible on sight? How about that?” Then she just had to avoid looking at it, medusa-style. 


“I… guess…” Lewis stood up and unbuttoned his pants. Even by Carrie’s low estimation, he wasn’t doing well. She squeezed her eyes shut and turned towards the door. “I’ll let her in.”


It was safe enough to look at $carrieVictim. Carrie caught every emotion as it flickered across her face -- shock, surprise, and then a slow, slowly dawning interest. 


“(if:$carrieVictim is &quot;Tess&quot;)[You’re… ]Lewis?” $carrieVictim said, very very slowly. 


“Yeah.”


“And that’s… your penis?” $carrieVictim took a unsteady step inside. 


“Uh huh,” Lewis said, sheepish. Carrie pulled her phone out. It would look stupid to just face the wall. “Yeah. That’s it. My penis.”


“Why are.. We’re at work. That’s your penis. Penises at work are… what’s going on?” 


(if:$carrieVictim is &quot;Danika&quot;)[&lt;img class=&quot;right fifty&quot; src=&quot;images/49DA.jpg&quot; /&gt;](if:$carrieVictim is &quot;Tess&quot;)[&lt;img class=&quot;right fifty&quot; src=&quot;images/49TA.jpg&quot; /&gt;]“Just go suck it or whatever,” Carrie ordered her, peevish. Could she tell her therapist about this? Probably a bad idea. She was going to feel terrible. $carrieVictim’(if:$carrieVictim is &quot;Danika&quot;)[s]  hair had already grown long and lustrous, her tits popping out of her company polo shirt. Her pimples disappeared. She licked now-ruby red lips as she stepped past Carrie. 


“I’m not gonna… why is it so BIG? Penises aren’t that.. Oh my god. Why am I still here?” $carrieVictim was very slow to approach. Carrie thought about using her phone camera to record at an angle. Probably too risky. She heaved a long stressed out breath. 


“He’s making you into a bimbo slut for his sexual use,” Carrie said, hoping to hurry things along. She didn’t need to bother. Lewis’ long, relaxed sigh and the wet smacking noises confirmed that $carrieVictim had gone down on her man. 


Her, not Carrie. She was… herself. Carrie took a picture of her own boobs. She could do this. He could change the world. He just needed… gratification. A small price to pay. 


Although after a long half-hour listening to $carrieVictim fuck him silly, her eyes on her dwindling phone battery, Carrie wasn’t super certain. 

[[Recruit a ton of bimbos.-&gt;57 Recruit a Ton of Unwilling Bimbos]]
[[Recruit a ton of bimbos, but ethically.-&gt;56 Recruit Ethically]]</tw-passagedata><tw-passagedata pid="49" name="50 Meet Lewis At Home" tags="" position="750,1780" size="100,100">Carrie had been up much of the night with plans and schemes. The internet had not been helpful. She’d assumed that there’d be at least some dumb Buzzfeed article on Top Ten Ways A Magical Wish Could Work or whatever. But no, no one had done the serious thinking about cosmic power. No one had given the slightest consideration of how to tap a fountain of slightly horny power to change the world. 


She’d filled a notebook with ideas. First, world hunger. That had to go first. Then some fun -- space travel and colonization. After that, world peace. That’d be a good first day. 


Carrie found herself licking her fingers. She could still taste a musky, salty tang on the very tips of her fingers. She’d eventually fallen asleep with them tracing her lips. 


Dressing had been challenging. She needed to connote a helpful seriousness. But not unsexy. Like the secretary to the President. A sexy secretary. The solution was pencil skirts, with a thin, gauzy blouse she didn’t really remember buying. Her hair went up in a bun. It was a perfect look, especially once she left the bra off. 


&lt;img class=&quot;right narrow&quot; src=&quot;images/50.jpg&quot; /&gt;“Come in!” Lewis shouted, once she reached his apartment. “It’s unlocked!”


It wasn’t a good neighborhood at all. But of course Mr. Omnipotence didn’t need to worry about burglars. Heck, Carrie could start with the locals as practice. She opened the door. 


There was that musky scent. It wasn’t as pleasant when filling an entire apartment. The place was all college-age boy, down to the clothing on the floor. And a futon in the living room, a leather couch that, if it could speak, would explain that it was a parental hand-me-down. Yes, of course. 


She had a lot of work to do. Definitely. 


Lewis was sunken into a computer chair, and even she could tell that he was getting his ass beat in a video game. 


“Everything alright?” she said. Perhaps the possibilities that so excited her had left him overwhelmed. She leaned into his shoulders. The nail polish gleamed underneath his cheap overhead lights. Wine red had been a bold choice. 


“My girlfriend broke up with me,” he muttered. “I am not attending to her needs. She did it over text, too. Text!” 


That explained why his phone was a strangely mutated flower, the petals dark black. “I thought maybe we could take your mind off it… by planning the future happiness of mankind?” Carrie ventured. She walked into his field of vision. He wore basketball shorts and a scowl. Her eyes lingered on his shorts. There was a lot to work with under there. 


“Not now,” Lewis said. “Its a breakup day. I’ve been making little pints of ice cream and getting rid of them so I don’t get fat. Also I made myself drunk.”


Carrie braced herself. She really only had two options. One was to slap the man across the face. The other was to blow him within an inch of his life.

[[Blow him.-&gt;52 Blow Him]]
[[Slap him.-&gt;55 Slap Him]]</tw-passagedata><tw-passagedata pid="50" name="51 Meet At the Bookstore the Next Day" tags="" position="896,1783" size="100,100">Carrie woke up bleary-eyed, mildly hungover. She still smelled like a stale bottle of chardonnay, and the rest of the room wasn’t much better. She’d been up late worrying, which led to drinking, which led to even more worrying. 


But it was a new day. The sun shone through the blinds. It was going to be really nice out. Time for the most important meeting of her life. 


She wondered what Lewis had been up to. 


A shower helped. It turned into a really long one once Carrie made the important decision to start shaving down. First her legs, which were flecked with unpleasant black hairs. And then, with just a little hesitation, she attacked her pubes. There was a confidence that came with a truly aerodynamic pussy, and Carrie wanted every bit of it. And besides, she looked reasonably hot once it was all gone, her skin still peach-cream smooth despite age 30 looming. 


She still needed more confidence. Carrie went with the black lace pair of panties in the very back of her drawer, from her last boyfriend. They set off her skin perfectly. And then she struggled into a khaki skirt, loose white blouse, matching cream bra. Her slit tingled while she dug into the makeup kit. She was definitely going to be late, but it was going to be worth it. 


Danika had already opened the store. She was diligently shelving books, and had picked a way too tight black and white polka dot skirt. It rode up high enough that Carrie could see her panties. Wine red. She considered saying something -- but it didn’t seem like a good time. Lewis was coming in, after all. And the customers didn’t mind. There were several men openly ogling her ass, while Danika waggled it back and forth. 


Carrie warned herself to stay out of a randy mood. But there was something getting into the customers that morning. The sexuality section often had high school couples pawing at each other, but now it was a sexy redhead with freckles who was at least twenty-five, humping a man in one of the chairs. The man had his hands up the hem of her very short shorts. He looked right at Carrie as his other hand went up her shirt. The redhead purred. 


Just an hour left. Carrie teetered through the shelves. She didn’t quite recall putting on these heels, or even owning them, for that matter. They were towering wedges. If she shelved any books it’d put her panties on display. But there seemed to be a lot of shelving to be done -- the carts were full of books to be stashed, and, weirdly enough, they all seemed to be sexuality-themed. There was an entire load of blowjob-themed books in full color to go on the shelves. All the neat tags already read ‘SEX’ on the walnut shelves. 


Carrie decided to head for the women’s bathroom, where the stalls were already occupied. It was perfectly obvious what was going on in each of the two. The first had two sets of feet, the first, feminine set on tippy-toes. The door slammed hard against the slide lock. It was hard to count how many feet were in the second bathroom, except there were a lot of them, and they were all intertwined. At least two girls were moaning in there. Danika was also inside, fixing her makeup. They nodded at each other. 


“Carrie?” Danika said, over the sound of loud bathroom sex.


“Yes?” Carrie said, working hard on her own lipstick. It needed to be perfect. For Lewis. 


“Do you… is something….” she looked at Carrie, her eyes confused. 


Carrie couldn’t deal with this. Lewis. She was going to meet with Lewis. And she was so achingly wet. She silenced Danika with a long, passionate kiss, which was the perfect solution. Danika froze only for a moment before leaning into it. They made out next to the sinks, groping each other. Carrie was so glad she’d forgotten to wear panties. They just got in the way. 


“Miss, can you help me?” a customer said, as she emerged, legs wobbling, from the bathroom. 


“Yes… yes of course…” she’d lost track of time. Her meeting was in just a few minutes. 


“It’s the cafe. I really just want coffee. See for yourself,” the customer was an aging lady, the type Carrie categorized as “First Wives.” But she had to admit -- she had a point. Tess, the cafe employee, was behind the counter doling out blowjobs to all the men gathered around her. Tess was obviously working hard, jacking a cock while she sucked, but there were a lot of men and there was no way she’d finish soon. 


“I’ll get this,” Carrie volunteered, inching past the circle of boys. Some were just jacking off onto Tess’ hair, which was thoughtful of them. Tess had her tits out to catch all the jism she could. Her tip jar was full, which was nice. Carrie thought about pitching in -- a dick in her mouth would be such a relief -- but her meeting was imminent. She filled the coffee cup and handed it to the lady. Hadn’t she been aging? This girl was maybe twenty-three and had brilliant blonde hair. 


“Excuse me,” the customer said, tapping one of the men on the shoulder. “Would you mind cumming in this?” She waggled her coffee cup. 


It was ten in the morning. Meeting, her meeting. Carrie thought about sending out a page but there was no need, all the employees were streaming to the front of the store. They all wore their nice new uniforms, too -- little blue rompers cut tight to emphasize their nice big boobies. Her own outfit was a bit more mature, befitting the store manager. She actually got to wear a skirt, which meant she could fuck without getting naked first. 


“Girls, kneel down,” Carrie said. She was so nervous. Her pussy dripped. She took her place at the front of the team. She checked to make sure they had their mouths open. 


Lewis opened the front door, right on time.

&lt;img class=&quot;wide&quot; src=&quot;images/51.jpg&quot; /&gt;
Ending 8 of 12: Bookstore Babes(set: $ending8 to 1)(display: &quot;Ending Footer&quot;)</tw-passagedata><tw-passagedata pid="51" name="52 Blow Him" tags="" position="678,1955" size="100,100">Carrie knew her hair was already up in a bun, but there was a certain way to give a world-class blowjob and she wasn’t going to deviate from it. She shook her hair out, then pulled it back into a ponytail. There. The familiar tug at the top of her head was a pleasant one. 


“Lewis, detoxify your body and spread your legs,” she said. “And stop playing video games.” 


“But I’m---” 


“At least pause it, Lewis, honestly,” Carrie softened her tone. “Pay attention. It’ll all go faster this way. I’m doing this so you can get out of your funk.”


She’d started blowing boys soon after getting to college. Carrie had never thought of herself as all that boy-crazy. She’d had a few minor crushes and boyfriends, and she’d lost her virginity on Prom Night like most other High Schoolers. Her sexual future had stretched out as -- dating, kinda boring sex, marriage, even more boring sex. 


But then she’d started meeting college boys. 


In retrospect they seemed -- well, a lot like Lewis. Hairy and confused, new in big boy bodies that towered over her. They smelled different. But they’d acquired just enough culture and class -- and it only took a smidgen -- to get Freshman Carrie wet nearly all the time. It was, in retrospect, pretty sad. If a boy took a guitar out at a party, she’d gush and rub her legs together. Someone talking about literature, even if it was Infinite Jest, had her and her nipples full attention. And the best way to relieve these mini-crushes was by taking out the penises of the boys and dutifully sucking them until they came. 


Carrie jacked on Lewis’ dick. He smelled -- distinctive. He was in an awkward position for him, scrunched into the beanbag, and perfect for her. His cock stuck straight up in the air. A few strokes made him start leaking precum. His basketball shorts hung off his foot. 


Carrie felt herself warming up fast. She was fooling herself, she knew. You didn’t blow half the campus unless you liked it. And she’d gone through a lot of the class directory. 


She made eye contact with Lewis as she lowered her lips over his penis. He had the glazed expression she expected. All the way down, all the way back up, with a kiss at the tip. Of course, she’d kept in practice on some of the hotter employees. 


True, it hadn’t helped her reputation. Most everyone knew she was the blowjob queen. But confidence was sexy, and a man who boldly walked up in the library and told her to blow him was very confident indeed. She found herself dressing to attract, in teeny shorts and scoop tops and bright colors. Sometimes a boy would knock on her dorm door while she was still sucking another one. Her party calendar was booked.


This was supposed to be a quick confidence booster, but Carrie couldn’t help taking her time. It was such a nice, big dick. So she only lightly used her tongue on the underside, and slowed down the tempo. No need to do a vacuum job. It was an insult to the craft, anyway. Her fingers inched between her own legs. No reason not to really enjoy herself. Boys never complained about her fingering her pussy while she sucked them. What would the complaint even be?


“I’m gonna cum,” Lewis said. His eyes were questioning. Carrie gave him a quick shrug. Honestly, it was just easier if they nutted in her mouth. And yes, a little gratifying, to have them grunt and shudder and empty out into her. Plus if that many cocks were spraying over her she would’ve gone blind. 


“You’re being a slut,” her roommate had finally said, all patience exhausted. Carrie had taken to just tossing the men under a blanket and sucking them while her roomie studied. It was the only way to work them into her schedule.


“I’m a DUMPSTER,” she’d responded, popping the dick out only momentarily.


Lewis shot into her. And wonder of wonders, it tasted -- sweet. Great. Incredible. So much so that Carrie nearly stopped sucking, before Lewis put his hand gently on her hair, and encouraged her to keep going. 


“I made it taste better,” he said. 


What a sweet boy, very literally. 


And when it was over, and she was nestled against him, she tried to remember why she’d come over. Something about his powers. Something about… using them. It’d occur to her, she was always pretty ditzy after getting a nice dick in her mouth. 


“Lewis, can you make my titties bigger?” she said.


“Sure, if you want,” Lewis said. He paused. “Is that what you want?”


The nicest boy. “I’ll think about it,” Carrie said, and snuggled close.

[[Save the world.-&gt;53 Save the World]]</tw-passagedata><tw-passagedata pid="52" name="55 Slap Him" tags="" position="803,1954" size="100,100">She did it before she could put it into thought. To attack a god, especially a male one, one had to strike hard and fast. Carrie had slapped three boys in her life. Two had changed their ways, shocked into civilized behavior. A third had chased her, enraged and brutish, into moving traffic. By chance he’d been the one struck. 


Her hand whipped around, narrowly avoiding the arm holding the gamepad. She half-expected to bounce off his jaw, and half-expected her head to explode. But instead she found the perfect angle, just briefly feeling the scratch of his unkempt beard. Lewis’ head snapped to the right, and he tumbled in a wet heap of unlaunched masculinity off the beanbag. On the screen his character was brutally beaten down, the computer savagely taking its aggression out. 


“Lewis?” Carrie said. She prodded him with her foot. He was out cold. 


She’d knocked a deity out on his ass. 


A gnarled pain shot up her slapping hand, making its way through her veins with agonizing slowness, and finally rattling up the length of her spine. After a moment, a fresh headache started up. 


Had she…? But there was no need to wonder. Carrie held her hand out, only briefly unsure. The reeking bean bag chair, with its beer rot in unwashed crevices, shifted into a dainty pink chair with a high headboard. 


A man would’ve laughed, delighted. Carrie allowed herself a tight smile. 


&lt;img class=&quot;right fifty&quot; src=&quot;images/55.jpg&quot; /&gt;When Lewis woke up he was sitting in an unfamiliar chair. The TV was off, the lights all off excepting a single lamp he didn’t recognize. 


“Hello, employee,” Carrie said. She stood in front of the lamp, backlit and nearly invisible. When his eyes shifted, Lewis caught his breath. Carrie wore white lace and old-fashioned garters. She was otherwise totally naked. Her pussy had a bold black bush and was very near his face. 


He couldn’t move at all. 


“You were changing me, Lewis,” Carrie said. Lewis opened his mouth, and closed it again as she raised an eyebrow. It wasn’t voluntarily - his lips felt brazened together. “I don’t normally give handjobs in the break room. My tits weren’t this big. I was never as horny as this. But you know what? I think I like it.”


His lips unsealed. “Great!” Lewis said. It was unclear how scared he should be, but Carrie’s calm smile didn’t raise his confidence level. He tried to change her. Nothing happened. 


Another chair, the exact twin to his, appeared beside him. Carrie took a seat. She reached into his lap and tugged on his cock. Lewis noticed, for the first time, that he was only wearing a ratty t-shirt. It didn’t help his confidence at all. 


“I get the sense I’m going to need some sexual satisfaction with these powers,” Carrie said, tugging him to full mast. His cock was quickly raging and red. It looked -- big. Very large. Lewis felt a curious lightheadedness. “Which is where you come in. Lewis. You’re going to be my man.”


“Happy to help!” Lewis managed. 


“Are you?” Carrie said. Her hand felt -- amazing. It was like no handjob Lewis had ever felt before. Her hand was whisper-soft, her thumb pressing on nerves he hadn’t been aware of. “You were making me into your sex slave. You were making me literally stupid. Sex-crazy. Does this feel good?” 


“Yes,” Lewis said. He gritted his teeth. It felt amazing. It was hard to concentrate, as much as he knew he should. 


“Yeah, good. Anyway… the bad news for you is, this isn’t very good for you. Your brain really needs all this blood.”


Lewis opened his eyes. His dick was -- mammoth. Swollen and huge. And red. “Huh?” he said. 


“Starting already? Lewis, honey, if you don’t want to be my sexy -- is there a word for it? Himbo? Is that a word? Yeah. Then you better cum. Really soon.” 


He needed to-- but his thoughts were so sluggish. Blood. Right. His brain needed… blood. His eyes lingered on her enormous tits. Carrie was so beautiful. What had she just said? 


“Cum,” she encouraged him. “Cum, big guy.”


Cum, right, right. He needed to cum. But… it felt so good, but there was no precum leaking out. He felt like he could float in her capable hands forever. 


“I mean, I’ll take good care of you. I’m gonna ride you all day long. A dildo that moves around. Does that seem nice, Lewis?” 


Lewis was still staring at her tits. Her big, bountiful tits. Her hand softly jacked him. 


He started to drool.

Ending 7 of 12: Carrie Takes Over(set: $ending7 to 1)(display: &quot;Ending Footer&quot;)</tw-passagedata><tw-passagedata pid="53" name="53 Save the World" tags="" position="677,2080" size="100,100">“Lewis I realllly want to save the world and stuff,” Carrie pouted. 


She was trying to be understanding. There was no immediate hurry, except for all the people dying of hunger and stuff. But like, there were no volcanoes going off or anything like that. 


And Lewis had been super busy, it was true. He was no longer the depressed boy sunken in a beanbag chair, limply holding a gamepad. Thanks, Carrie liked to think, to her helpful influence. A steady diet of confidence-boosting blowjobs and omnipotence had transformed the man. Lewis easily hoisted a duo of boxes into their new mansion. He’d started creating his own clothes, mostly tight t-shirts that showed off his mind-sculpted abs. 


“We will,” Lewis promised. “We really will. Heck, maybe I’ll just go back in time and fix things in the past, right? That way things will be even better now.”


Carrie had to think about that one. It made sense, seeing as how it was Lewis saying it. She struggled to bring her own box in. He’d convinced her to come live with him, and had even allowed her an entire box of personal possessions. Mostly makeup. Everything else would be Lewis-provided. 


Her heels went up another notch. Carrie blew a blonde strand of hair out of her face, annoyed. He’d been pushing them up all day, until she was teetering around on skyscraper white heels. It was getting stilt-like. And it didn’t help that the slightest move would show off her pussy to the man. He really loved Lycra and other such fabrics, as it turned out. Usually he wrapped her in a mini dress, had her pick a color, and that was it for the day. 


&lt;img class=&quot;right narrow&quot; src=&quot;images/53.jpg&quot; /&gt;“But it’s.. It’s been a week and I’ve… umm… gosh I have sucked you off SO many times, Lewis, and I don’t think we’ve helped anyone,” Carrie said. How many times had it been? The past week… and was it a week?... she’d mostly spent sucking dick. It was nice of Lewis to make cum so nutritious, although it seemed to be affecting her titties. 


“You helped me, and I helped you,” Lewis pointed out. “So we’re off to a good start.” He unshouldered his boxes and put his arm around her. They stood in the -- did mansions have lobbies? Or was that just hotels? Carrie wasn’t sure. At any rate, the mansion sprawled across acres and acres. It hadn’t existed yesterday, and Lewis was still working out the kinks. Carrie had nearly opened a door to a three-story drop. 


His fingers reached beneath her dress. Carrie spread her legs, sighing. She’d said her piece. She just had to accept that Lewis was a very busy man. He’d get around to helping the world eventually. After all the orgasms she was delivering, he’d owe her pretty big. Maybe even her own planet or something. 


“Bend over,” he ordered. 


“On what?” Carrie retorted. 


“Ugh, fine, okay. Furniture.” He snapped his fingers. A piano appeared, of all things. That clenched it, Carrie figured, putting her hands on it. This had to be a lobby. Lobbies had pianos. 


Lewis made his pants disappear, to boot. His control was getting better and better. Carrie craned her neck around. He’d definitely made some changes to his dick. It was monstrous. Which didn’t stop it from sliding neatly into her. 


Carrie had to admit, it was a relief, getting fucked. Some girls just needed a lot of dick. Heck, she’d spent most of her early 20s wearing out dating apps. There’d been entire months she didn’t go home, riding from bed to bed, entirely dependent on her pussy for survival. It had been magical. An endless succession of rides in unfamiliar cars and fucking new men. After awhile she’d started telling them not to say their names. It had gotten the boys really excited. And then, after fucking every other man, she’d ended up with the best one. 


He deserved a lay like her. Carrie squeezed him, hard. Honestly, it didn’t matter what she did. Lewis liked sex quick, easy, and impersonal. She was basically a sleeve. It was so hot. 


Lewis popped off inside of her. Carrie let him slide out, then quickly turned and took his dick into her mouth. It was still pumping quite a bit of jizz. So that was lunch handled. Her thighs quivered with her own orgasm. 


“There, now we’ve broken in the house,” Lewis said, pleased. “For the 11:30 breaking in, anyway.” He checked a watch that appeared on his wrist. His pants fuzzed back in. It was funny how used to it Carrie was getting. “The 11:35 should be here soon?”


“Sorry?” Carrie said, dazed. She was stupid after a good fuck. Which meant she was… kinda stupid all of the time. But what had he said?


The front door opened. A redhead poked her head in the door. She wore a short crop top with plenty of underboob. “Hello? I’m here about the… uh… I guess the… some sort of job? I don’t.. I don’t really know why I’m here.” 


“Come on in,” Lewis said. He turned away from Carrie.

[[Save the world!-&gt;54 Save the World]]</tw-passagedata><tw-passagedata pid="54" name="54 Save the World" tags="" position="709,2232" size="100,100">Carrie couldn’t believe it. She’d won. 


‘I won! I won I won I won!” she half-shrieked, before composing herself. She wasn’t some dumb bimbo, like so many of the girls around her. She was the very first. She was the one who was managing Master to save the world. 


And now was her big chance. 


“Congrats, Carrie,” Tess said, partially sincere. The girls didn’t do a good job concealing their disappointment. Carrie couldn’t blame them. She’d felt the keen stab of losing day after day after day. There were dozens of acquisitions lying around, some of them girls Carrie only saw once every month or so. And so often the Master was off around the world, returning with new batches of girls. Carrie quizzed them, to see if Master was living up to his end of the deal, but they were typically too horny and silly to answer questions about sociopolitical stuff. 


Even if she licked them real good.


Carrie stopped in her room for clothes. She shared it with three other girls, in bunk beds, although most of the time they ended up sprawled on each other. Carrie wasn’t just some giggle slut like them, but it did get a little boring, waiting around for Master. And she WAS very horny. It made logical sense to laze around flicking each other’s clits and playing with various vibrators. 


But she was different. She even had a bona fide book. A bunch of books. Some of the arrivals had satchels or suitcases or something, from past lives they no longer needed, and Carrie always scavenged the literature. The girls laughed at her but she’d read an entire chapter in the past month, sounding out some of the harder words. Who else was doing that?


&lt;img class=&quot;left narrow&quot; src=&quot;images/54.jpg&quot; /&gt;She had to remind Master she was special. That she mattered. Carrie found a white bikini bottom and an odd vest thing that clinched in the middle with a golden ring. She combed her hair straight out. There, she looked ether-- ethere--- like a goddess of something. Carrie pinched her nipples to keep them hard -- not that they needed it, and rubbed her legs together, not that she had trouble staying nice and juicy. 


A trickle of moisture escaped her pussy. As thrilling as it was to buttonhole the Master, part of her was just excited to finally get fucked. 


It was already almost six. Carrie walked down the marble halls. The other girls gave her knowing, partially cheerful looks. “Go get ‘em,” one of the newer redheads said, swatting her on the butt. 


They all usually compared notes on what Master was into. The safest route was always a relaxing post-dinner blowjob and then maybe riding him, if he felt like it. But a girl could be aggressive, if she had the nerve. Master gave them that right. If she wanted to walk in and offer up her butt, he’d oblige. 


“Come on in, lottery girl” Master said, when she reached the large double doors. He didn’t turn when she walked inside. This was his personal study. Dozens of monitors lined a wall, showing scenes around the globe. Non-sexual ones. Carrie had little interest. 


“What number was it? Sixty-nine?” Master said “That’s always fun. World-altering power and it’s still fun.”


They both looked so different. She was mostly tits, and he nearly glowed. Did he actually glow? Carrie wasn’t really sure -- but he was hard to look directly at, his body taut and muscled and at least six foot three. He’d grown a dark brown beard. He was what she thought a god should look like. 


“Alright, lottery lady, lets go,” Master said. He had a short white robe on, and it fuzzed away. “Hop aboard.”


“No,” Carrie said. Her breath left her, taken away by the enormity of it. 


She had shocked a god. It was terrifying. Her stomach churned. It was a struggle to stand. His erection wilted, and it was comical enough to give her the strength. 


“No?” Master said. He laughed, shocked. “No! My god, I haven’t heard that word in forever. En. Oh. Well that is worth an extra long ride.”


Carrie tried to say no again, but the word was gone. “Sir, I’m Carrie. Carrie? Your first… girl? From the uhhhh….” how had they met? Carrie vaguely remembered some before-time, but it was lost in a wash of orgasms. 


“CARRIE! You’re Carrie -- I haven’t thought of--- my god,” Master sat back heavily in his padded chair. The monitors winked off. “I guess I totally forgot you were here. I’ve been really busy.” 


“I’ve been super patient,” Carrie said. Her thighs rubbed together. His erection was recovering, and all of her wanted to simply jump aboard and ride it. 


“Oh… right. You wanted me to change the world. There’s a bunch of girls like that here, to be honest. But… you were the first.” He scratched at his beard, thoughtful. “How can I serve you, Carrie?”


She took a deep breath. This was it. This was it! The years of waiting, patiently lapping at the pussies of more favored girls, it was all down to this. “I was thinking… if it was okay… you could give all the girls in the world… nice big titties?” 


Master considered it. She waited, quaking. “I guess it is my responsibility to make the world a better place.” He snapped his fingers. Carrie hefted her own boobs just in time, to feel them pulse and grow in her hands. Outside the door she could hear a chorus of excited moans. “Is that it?”


“Of course,” Carrie said, gushing. His dick rode high in the air. Carrie got on her knees and waddled towards it. “Thank you, Master. Now. Can I take care of that for you?” Her mouth watered.

Ending 6 of 12: Carrie Saves the World(set: $ending6 to 1)(display: &quot;Ending Footer&quot;)</tw-passagedata><tw-passagedata pid="55" name="56 Recruit Ethically" tags="" position="1053,1777" size="100,100">&lt;div class=&quot;chat&quot;&gt;&amp;lt;CarriesGirls&amp;gt; Thanks for responding
&amp;lt;KinkJelly&amp;gt; Oh sure!
&amp;lt;CarriesGirls&amp;gt; well here’s the deal
&amp;lt;CarriesGirls&amp;gt; this isn’t some kind of joke or prank
&amp;lt;CarriesGirls&amp;gt; this isn’t RP this isn’t cosplay
&amp;lt;CarriesGirls&amp;gt; this is 100% legit sexual slavery
&amp;lt;CarriesGirls&amp;gt; you will be a silly dumb fuck toy for the foreseeable future
&amp;lt;CarriesGirls&amp;gt; possibly like… millennia.
&amp;lt;KinkJelly&amp;gt; uh huh! I am into it!
&amp;lt;CarriesGirls&amp;gt; yeah you aren’t taking this seriously
&amp;lt;CarriesGirls&amp;gt; that’s fine and normal. So here’s the thing.
&amp;lt;CarriesGirls&amp;gt; i’m gonna give you huge titties over the internet
&amp;lt;CarriesGirls&amp;gt; last chance to object
&amp;lt;KinkJelly&amp;gt; I would never o-- HOLY SHIT!
&amp;lt;KinkJelly&amp;gt; HOLY SHIT HOLY SHIT
&amp;lt;CarriesGirls&amp;gt; I doubled them up. Bigger?
&amp;lt;KinkJelly&amp;gt; HOW IS THIS REAL?
&amp;lt;KinkJelly&amp;gt; is this some weird dream
&amp;lt;CarriesGirls&amp;gt; no
&amp;lt;CarriesGirls&amp;gt; this is ethical
&amp;lt;CarriesGirls&amp;gt; bimboization
&amp;lt;CarriesGirls&amp;gt; are you still there?
&amp;lt;CarriesGirls&amp;gt; i didn’t really think this would work but there’s like… Thousands of people
&amp;lt;CarriesGirls&amp;gt; who want to be the Master’s toys
&amp;lt;CarriesGirls&amp;gt; not really my thing but oooookay.
&amp;lt;CarriesGirls&amp;gt; so if you are still interested…
&amp;lt;KinkJelly&amp;gt; NO IM HERE HOLY SHIT
&amp;lt;KinkJelly&amp;gt; I was in front of the mirror
&amp;lt;KinkJelly&amp;gt; they’re so real o m g and they feel soooo good
&amp;lt;CarriesGirls&amp;gt; the sensitivity isn’t normal exactly. Do you like it? It’s hard to get right
&amp;lt;CarriesGirls&amp;gt; I kept making subjects pass out
&amp;lt;CarriesGirls&amp;gt; anyway so you’re back. Just to confirm. This is some real. Ass. shit.
&amp;lt;KinkJelly&amp;gt; oh my god i just want to pinch and pinch them.
&amp;lt;KinkJelly&amp;gt; i’ve wanted these my whole life. They’re huge! They’re so heavy!
&amp;lt;CarriesGirls&amp;gt; yeah… great.
&amp;lt;CarriesGirls&amp;gt; back to business
&amp;lt;CarriesGirls&amp;gt; and a reminder that this is no backsies. I mean, maybe the Master will do backsies, that’s up to him, but generally this is it. You are his. Utterly his. You think what he wants, you fuck on command, you ache for him. And in return, you are the hottest, most fuckable girl in the world.
&amp;lt;CarriesGirls&amp;gt; well
&amp;lt;CarriesGirls&amp;gt; in a 31-way tie at this point.
&amp;lt;CarriesGirls&amp;gt; and you’re going to be a blonde
&amp;lt;KinkJelly&amp;gt; i’m korean though
&amp;lt;CarriesGirls&amp;gt; yeah, i know.
&amp;lt;CarriesGirls&amp;gt; ready?
&amp;lt;KinkJelly&amp;gt; yes
&amp;lt;KinkJelly&amp;gt; GOD yes
&amp;lt;KinkJelly&amp;gt; GIVE ME A PUSSY!!!
&amp;lt;CarriesGirls&amp;gt; done
&amp;lt;KinkJelly&amp;gt; oh fuk
&amp;lt;CarriesGirls&amp;gt; alright i’ll give you a few minutes. I can see you’re writhing about on the floor… sure.
&amp;lt;CarriesGirls&amp;gt; oh damn it
&amp;lt;CarriesGirls&amp;gt; i forgot to ask what name you wanted.
&amp;lt;CarriesGirls&amp;gt; well crap.
&amp;lt;KinkJelly&amp;gt; i’m so sexy now
&amp;lt;CarriesGirls&amp;gt; look, you’re not supposed to be reading anymore. But i forgot to ask what name you wanted
&amp;lt;CarriesGirls&amp;gt; think, super bimbo.
&amp;lt;KinkJelly&amp;gt; that’s easy
&amp;lt;KinkJelly&amp;gt; i’m pussy
*KINKJELLY&#39;S NAME CHANGED TO PUSSY*
&amp;lt;CarriesGirls&amp;gt; okay we already have a girl named Pussy
&amp;lt;CarriesGirls&amp;gt; but I guess we can have another.
&amp;lt;CarriesGirls&amp;gt; say goodbye to upper-level math.
&amp;lt;CarriesGirls&amp;gt; oh and then just fuck yourself until pickup
&amp;lt;CarriesGirls&amp;gt; okay I guess you’re already doing that.&lt;/div&gt;

[[Change the world.-&gt;58 Change the World]]</tw-passagedata><tw-passagedata pid="56" name="57 Recruit a Ton of Unwilling Bimbos" tags="" position="1179,1775" size="100,100">Alexis checked her surgical mask. It felt snug enough, but kept slipping down over her nose and exposing her vulnerable nostrils. She snapped on two white latex gloves and bent over Brenna, who was in bed. 


“Alright, I’m gonna squeeze the milk out of you, okay?” She said. Brenna was face up, which didn’t stop her tits from riding high and firm on her chest. The virus had easily tripled the size of her tits just over the weekend, and it wasn’t even a long weekend. 


“Go ahead,” Brenna whispered. She clenched the soaked bed sheets and turned sideways. Her new boobs stuck out, swollen and already leaking. Alexis grabbed the teats and mauled them. 


“OH GAWD,” Brenna brayed, thrashing in Alexis’ grip. Her fellow sorority squeezed her eyes shut, her body thrashing. It wasn’t clear if she’d lost weight or simply redirected it to her tits. But Brenna had been a pudgy Junior with a chin-neck. Now she had a beautiful porcelain jawline, not to mention big breasts that were wildly spraying milk. It spritzed on Alexis’ mask. She winced. Milk chugged into a tupperware container at floor level. 


“Ohhhh wow,” Brenna said, finally emptying out. Alexis pretended to ignore the big wet patch between her legs. 


“Drink water,” Alexis told her, stripping the gloves off. She’d milked a half-dozen sorority sisters already that morning. 


She’d done her best to stay clear of infection, but she wasn’t going to lie to herself. Her own boobs tingled in sympathy. Hell, she’d gotten a squirt in the mouth from Jennifer, not to mention a regular mist of milk from the others. She’d be laid up in bed soon enough, shuddering in orgasm as her tits tripled in size. 


Unless the doctor could cure them. 


“Ding-dong,” Dr. Carrie announced, sweeping in without knocking. “Dr. Carrie. House call. You know. Girls?” 


“Just me,” Alexis said, folding her hands under her boobs. The slightest touch made her shiver. Yep. Infection. 


“Oh, dear,” Carrie said, although without much real concern, Alexis figured. She’d shown up just as the infection had started, sent by -- actually, Alexis wasn’t super certain about that. But she’d been very certain and wore a stethoscope and a pristine white doctor’s lab coat. She said she herself had been through this particular virus strain, and the doctor did have large, proud tits. “Everyone else is going through it? Which strains?” 


“Most are milking. Virginia and Melissa have that odd strep strain, and I’m not sure what’s up with Heather, except she’s really enjoying it,” Alexis said. “I’m a teensy-bit concerned that I might be… just a bit infected.”


“Hmmm,” Carrie reached into her cooler and pulled out one of her popsicles. It was a novel drug-delivery device. Soothing, good way to hydrate. Although over-sized -- Alexis only fit it into her mouth with difficulty, her surgical mask tugged down. But she was getting better at it. “Lets inspect.”


It was lucky Dr. Carrie was a girl. Alexis hadn’t bothered with a bra. Her nipples were glass-hard. She nearly fell over when Dr. Carrie squeezed her tits. 


“Yep, milk beading. Oh well. And they definitely look engorged. Rough luck,” Dr. Carrie said. So much for seeing her toes. If she was as bad as Chelsea they’d be watermelon sized. “Lets do a swab to be sure.”


Alexis wasn’t.. Certain about the swab. Especially because Dr. Carrie sometimes called it a thermometer and sometimes just said ‘lets stick something in you.’ But.. she was the doctor. And Alexis was already feeling kinda… compliant. Easy. Blank. Apparently that was a symptom. At least it made the other girls easy to manage. She wasn’t wearing panties, either. 


The swab, or whatever, was a long, black phallus-shaped object. Dr. Carrie rubbed it briefly against the outside of her pussy. “Definitely more wetness than you’d like to see,” she said, in an encouragingly medical way. She inserted the probe. It slid right in. Truth was, Alexis had been probing the hell out of herself for the past two nights. Dr. Carrie slid it back and forth for -- Alexis was past wondering about the exam. She came loud, adding her own screams to the rest of the house. Her brain briefly switched off. 


Dr. Carrie looked at her gravely when she came to. “Definite infection,” she pronounced. “I’ll put you on bed rest. But show me around first. You have a little while before you’re on the milk run.” 


Alexis complied. It felt good to be obedient. 


First to Virginia, who was in the library, still trying to study up for some test or another. Her lips had grown swollen and ripe, and she kept stroking them with a free hand. Her own tits weren’t quite as big, but they were far more sensitive, so she was studying wholly topless. Her forehead was scrunched up with confusion. The book wasn’t even open. 


“Here, suck on my probe,” Dr. Carrie said. She checked her watch. She hadn’t even washed it after putting it inside Alexis. Alexis was about to say something but -- she was the doctor. And anyway, Virginia didn’t seem to care, immediately closing her plump lips around the instrument. Her eyes closed, and she shuddered. Dr. Carrie let her nuzzle it for a minute. When she tried to tug it free, Virginia wouldn’t let it go. 


“Alright, you can keep it. Almost all done. Or cured,” Dr. Carrie looked at Alexis, who had never managed to tug her shirt back down. “I guess it doesn’t matter anymore. Lets see Heather.”


She was hard to find. Her and a few others drifted from room to room, doing their best to relieve the others with whatever they had. Mostly sucking on titties, diving between legs. The other girls were easy enough to find -- Kimberly had Morgan underneath her, licking away -- but Heather was underneath the sheets, licking avidly at Rachel’s slit. Rachel squeezed her jugs, milk pouring out. Some got on Alexis, who licked it, absently. It tasted creamy. 


“Okay, I’ve seen what I need to see. I want everyone to suck their popsicles,” Carrie ordered, to Alexis. Alexis stared at her, confused. “Okay, actually, I’ll distribute them before I go.” She spoke more slowly. “I’m gonna have you girls transferred to a special facility, okay? A nice one with a specialist who’ll give you excellent treatment. Sound good?” 


“Sure,” Alexis said, around her popsicle. It was getting pretty messy in her mouth. It felt better when she stuck it all the way in. 


“Wear something slutty. Probably not hard for you girls. Okay, I have to head out. No charge for today. And uh…. Sorry. For making you all into cow sluts.”


What was that? Alexis tried to think. But it was so annoying, the way her mask kept getting in the way of her popsicle. She tugged it off and sat in a chair, fingering her nipples.


She was feeling better already.

[[Change the world.-&gt;58 Change the World]] </tw-passagedata><tw-passagedata pid="57" name="58 Change the World" tags="" position="1117,1938" size="100,100">“Mars always makes me horny,” Lewis said. 


He’d returned in a blink, and Carrie imagined a scent of the red planet came with him. Lead and rusting metals, and a hint of ozone. He was dressed for the moment in an outfit presumably inspired by some sci-fi golden age -- silver jumpsuit with fabric boots. 


“Everything makes you horny,” Carrie said, dutifully. His office commanded a beautiful view of the Cascades. It was rustic, sprawling, comfortable, although all the dark wood had been made out of the air. Two girls sprawled face first on his desk, right next to each other, trying hard to hold in their nervous giggles. 


“It’s how I recharge my power,” Lewis said, and Carrie wasn’t sure if he was joking. Lewis decided on the one on the left. His clothes dissolved, and she cinched her eyes shut a moment before it popped out. He’d never taken it off. Irresistible. She spent a lot of time with her eyes closed. The girl shrieked. She’d been nearly 85, a former sex worker. A lifetime of working her pussy, now youthened to about nineteen. The other one was completely untouched -- she’d volunteered through Carrie’s back channels. Her face was very nervous.


“Okay, go ahead,” Lewis said, once he established his rhythm. 


Carrie opened her eyes. It was safe enough once he was buried to the hilt. “The ice caps have recovered nicely, and I think things are stable in the Middle East,” she reported. “There’s a hurricane forming you may need to intervene in. We’ll have global indices ready next week but I am pleased.”


She had to stop for a second when girl number one came. Apparently she never stopped cumming like a wildcat. Her legs kicked backwards, feebly. 


Lewis barely missed a stroke. He pulled out and slid in to girl number two. This one yelped, surprised. But the usual effect of being fucked by a god took over -- she started to hump back almost right away. Her eyes dulled. Carrie wished her the best. All the girls -- and there were a lot of girls -- said it was like dying, in a good way. Her tits were starting to come in. 


“The President asked for a meeting, I’ve told him you’re busy. How was Mars?”


“Still figuring things out,” Lewis said. “Is this one a virgin?”


“I don’t know. Possibly,” Carrie said. 


“Hmm. She’s the volunteer, right? Find more volunteers. I think I like the volunteers.” 


“The issue is that they can only volunteer once,” Carrie said. This was her job. “Why not make them earn it? If they want it, they’ll have to earn it.”


“Like a talent show or something?” 


&lt;img class=&quot;right fifty&quot; src=&quot;images/58.jpg&quot; /&gt;“Why not?” He’d fucked everything else. Girls with multiple boobs, girls with tails, girls that were boys. He’d knocked up over a hundred girls. The compound was getting enormous. Carrie had taken on staff -- those few girls with a few wits left after Lewis had fucked them. 


“Talent show, okay.” He paused. There was a hushed quality to the air. A noise like a distant thunderclap. Carrie figured it for an effect, but she couldn’t say for sure. The former virgin went limp, cum dripping down her thighs. This one wasn’t going to have much intellect left, for sure. Well, that was volunteering. Lewis pulled out and materialized a towel around his waist. 


“Want to take your chances? I’ll throw in Venus, to boot,” Lewis said. He made the offer every so often. Al she had to do was look at his cock and not throw herself on it. “Nice, habitable Venus. A planet just for the girls, huh? I need somewhere to put them.”


Carrie had to admit. It was tempting. It was always tempting.

[[Carrie takes a peek.-&gt;59 Take a Peek]]
[[Carrie resists.-&gt;60 No Thanks]]</tw-passagedata><tw-passagedata pid="58" name="59 Take a Peek" tags="" position="1051,2094" size="100,100">The truth was, she had to know. She’d seen it turn hundreds of girls into drooling, shrieking bimbos. The rest of Lewis was still - a guy. A guy with superpowers, who walked around on Mars. Talking to Lewis was like talking to a coworker, although one fucking some moaning woman during the meeting. 


His penis, apparently, was different. 


“I’ll take a quick look,” Carrie said. Her face flushed. She fought to stay calm. It was just a penis. Just a penis. She’d even fucked other men, after starting with Lewis and reworking the world. Normal relationships with normal sex. 


“You’re sure?” Lewis said. “I never took off that charm. You know. I mean, of course you know. It was your idea.”


“It was my idea,” Carrie confirmed. She took a deep breath. It was just a penis. “Sure. Why not?”


Lewis let the towel drop. 


It was long, and darkly tanned, and it dripped onto the floor. It was wrapped with dark brown veins and glistened under the overhead lights. It was a good dick. But that was all. 


“Thanks. Nice cock,” Carrie said. She released her breath. Just a penis. “Alright. Talk to you tomorrow. The night girls will be by soon.” About fifty of them. Lewis didn’t need to sleep anymore. The janitorial staff -- also bimbos -- had their hands full the next day. 


So, she’d seen the magic penis. It felt good, actually, to have that done with. Carrie walked out of the main hall, into the long row of heavy timbers. The sun was mostly set, the soft night lighting had clicked on. She’d seen the mighty dong. The one that had fucked an endless array of girls wholly senseless, leaving them happy and brainless and bimbofied. Doctors and engineers, women of all nations, had been reduced to shuddering, dripping toys with a few thrusts. 


It had to feel different from the inside, Carrie decided. She’d seen him fuck. It was determined, strong, ruthless. Her men hadn’t had the guts to simply plow her senseless -- they liked to ask what she wanted, assumed it was cuddling and foreplay. Foreplay to Lewis was pausing to pick between ass and pussy. He just took. 


Carrie’s mouth tightened. Her own slit was feeling warm. Well, that was fair. She’d just seen the big dick, the cock of cocks. Not so long ago it had made a new arrival forget her name. A redhead, if Carrie remembered right. She’d sunk down onto that dick, let it rattle inside of her, shrieked out an orgasm, and then just lost her birth name. Lewis, not even hesitating, had renamed her Tits. And doubled her chest to match. 


It had been an incredibly hot scene. 


Carrie paused, halfway to her bedroom. She didn’t NEED to go to her bedroom. Her single bedroom. Why, when she could fuck a god? She’d already saved the planet. Why not see what all the fuss was about? The glorious feeling of all those inches sinking into her. 


“No,” Carrie said, out loud. Her eyes widened. 


Perhaps the dick was affecting her after all. 


She realized she’d done a U-turn at some point. She was headed back to Lewis. But that was a bad idea -- his dick made girls into giggling, useless bimbos. And she was the one who had tamed him, the one who had taken his powers and pointed them at the world. She’d gotten his useless, video game-playing butt to terraform Mars, for god’s sake. Why throw away the power to become one of hundreds of happy stupid playthings. 


She’d masturbate. That’d do it. Carrie unbuttoned her pants and slid her plain white panties down. Her fingers popped in with no resistance. It hardly mattered she was in a hallway. All the girls masturbated all the time. She was just fitting in with the staff. 


Staff. God, she needed his staff. 


It wouldn’t be so bad being a bimbo, right? The girls enjoyed themselves. Their main complaint was -- actually, they had no complaints. Part of them was still riding that orgasm high. That silly smile never completely went away. There was minor disappointment when someone else won the Fuck Lottery, but they were all, essentially, happy. 


Very happy. 


Carrie could see herself, tits tripled in size, riding Lewis’ dick and feeling her body soften and shift. She’d make a magnificent bimbo. Pure sex. No more worrying about feeding Africa, running a large household of ditzy girls for a deity. Her fingers were not helping. She couldn’t cum. She needed it. A big dick inside of her. 


She needed Lewis so bad. 


&lt;img class=&quot;left narrow&quot; src=&quot;images/59.jpg&quot; /&gt;“I think I may… have… made a mistake,” she said, walking back into his room. He was playing video games, of all things. A god, playing Madden. He was naked, his cock semi-limp in his lap. The harem would be by soon. 


“Hi Carrie,” he said. “Forget something?”


“Can you…” it was the hardest thing she’d ever said. “Turn off the compulsion? I’m kinda… I need your cock…”


“Need your cock… what?” Lewis said, not putting the controller down.


She’d never said it. It was ripped out of her. “Master.”


“It’s just a penis, Carrie. Go get a different one.” He finally paused the game and looked at her. Her panties were in a wet mess around her foot. Her dress was still cinched up. His cock twitched. “Although..  I have to admit.”


Her legs were limp, but they worked enough to draw closer to him. All she could see was his cock. It was getting hard. Hard for her. “Don’t do this,” she told herself, pointlessly. Her legs rubbed together. 


“It HAS been a challenge not fucking you, all this time,” Lewis conceded. “Ordering me around. Not that I’m ungrateful. But… maybe you want a vacation from all this, right? A little vacation from thinking?”


‘Will you… still… Help the world? Lewis” Carrie managed. She was so close to it. It smelled good. 


“Maybe. And it’s Master. Climb aboard. The other girls are on their way.” 


He was at full mast. It was going to turn her into a toy. Give her big tits, a dumb smile, an empty brain. Carrie put it against her pussy. She was so, so looking forward to it. 

Ending 9 of 12: Carrie Takes a Peek(set: $ending9 to 1)(display: &quot;Ending Footer&quot;)</tw-passagedata><tw-passagedata pid="59" name="60 No Thanks" tags="" position="1212,2100" size="100,100">&lt;img class=&quot;right narrow&quot; src=&quot;images/60.jpg&quot; /&gt;They’d dressed the prime minister in pink and pearls. She wore a complicated set of lacey things, and bright pink heels. She sashayed into the office with the usual tense energy. She’d put her hair up. 


“Your 11:00 a.m.,” Carrie announced, unnecessarily. She had stopped carrying a clipboard around. Lewis had carefully made her very, very intelligent. They’d been working together for decades. 


He had let himself age, of course to his best advantage. Lewis had a shock of grey in his hair, a few lines on his forehead, and otherwise the same rock-hard muscular body he preferred. And that dick. His libido had never once flagged. He was fucking girls on Saturn now. It was for the best. It kept him interested in Earth. 


“What can I do for you?” Lewis said, shaking the PM’s hand. It had to be a big ask for her to risk this much. The nations of the world had learned -- sexy girl politicians got results. Of course, it was all a delicate dance. Too much time on Lewis’ dick made it difficult to be an effective politician. The tits got in the way, and no one ever climbed off quite as smart. But that was all part of the fun. That explained the elaborate outfit -- she was hoping to get away with a blowjob. 


“Can I sit down?” the PM said, and climbed onto his lap. His cock nestled between her legs. She purred with appreciation. It was an error, Carrie knew. Up close the pheromones would get to you. 


“The President is my 11:20,” Lewis said. He cupped her boobs. They started to get bigger. It startled the PM, who worked to maintain her composure. 


“We were thinking… Japan, I mean… of maybe… colonizing the ocean floor? Sir?” the PM said. “With your help? We have ALL these plans…” she stroked his cock. There’d been a lot of population growth in the past few decades. Part of that was improved living standards, of course. And part of it was that Lewis liked the world horny. 


It WAS a good idea. She’d discussed it with Lewis. The solar system was obvious but tended to need his direct involvement to stay stable. The Mars colony was still very dependent on intervention. He’d probably fucked every Martian colonist they had. 


“Hmmmm,” Lewis said. He took her in. “What’s in it for me?”


She wavered, feeling him surge against her. This was where she was supposed to smile and suck on his cock and keep her political career intact. But the proximity and the heat and his cock were obviously getting to her. “Lewis, fuck me. Fuuuuck me,” she chanted. 


“Will it ruin your wardrobe if I put a baby in you?” Lewis said. Carrie smiled. She was panting. Outside, the President of the United States peered in, dressed in a stars and spangles bikini. 


Later, after putting children in much of the UN Security Council, Lewis stood overlooking the Cascades. 


“Lewis, something occurred to me,” Carrie said, standing slightly behind him. 


“Yes?”


“We never figured out why you suddenly had godlike mind powers.”


“Oh,” Lewis said. He frowned. “I suppose so.”


“Yes. But I know. It’s quite simple. You gave them to yourself. In the past. You see? Only you could’ve done it.”


“That sounds like a paradox,” Lewis said. 


“Nonetheless. Just -- do it. Remember that day? Make it so that you were always omnipotent.”


Lewis concentrated. “There. Man, I haven’t thought of that day in a really long time.”


Of course. “Are you ready for your 11:45?” Carrie said. “It’s the European delegation.”

Ending 10 of 12: Power Couple(set: $ending10 to 1)(display: &quot;Ending Footer&quot;)</tw-passagedata><tw-passagedata pid="60" name="62 I Want to Matter to Him" tags="" position="2076,1619" size="100,100">“You know what’s sad? I’d settle SO hard. Like when I look into the future, it’s me playing Settlers of Catan with either Paul or Paul’s near duplicate, and eventually I get pregnant and go back to college for a nursing degree. That’d be fine. That’s where I’m at,” Danika said. 


“Is that… Good? Or is that you being depressed?” Lewis said. 


Danika shrugged as hard as she possibly could. Her lanyard bongled back and forth. “It just IS. If he was just like, Danika, you light up my life, I serve you as my queen, even if he meant it sort of ironically, I would absolutely take it. Even if he meant it mostly ironically but he SAID it.”


“So go!” Lewis said. “Go get him. Look him in the eye and say: if you want THIS you have to EARN it, right? Is this good relationship advice? It’s probable my girlfriend just texted me to break up.”


“No.. it’s… it’s good,” Danika said. She leaned back on the shelf for books on hold, mostly book club drek with the word ‘GIRL’ in the title. “I’ll text him the ‘lets talk’ and make him sweat all day. That’s the right move, I think.”


“No! Go get him!” Lewis said, surprising her. He winced again. When he looked again, his eyes were a momentary scary-gold. “Go.” The order made her stand upright. She was out the front door before she could even think to disobey. 


Danika rationalized it as she went. Clearly following the rules every moment of her life wasn’t doing it. It was past time for a dramatic gesture. Even if it was likely to end with a humiliating rejection by yet another man. She was WORTH IT, damn it. He was going to APPRECIATE a girl with such good…

[[tits.-&gt;64 Tits]]
[[ass.-&gt;65 Ass]]</tw-passagedata><tw-passagedata pid="61" name="63 I Want to Be Happy" tags="" position="2274,1621" size="100,100">Her phone buzzed. Lewis rubbed at his forehead, then stumbled off, into the shelves. She felt a brief urge to go after him -- but it was Paul.  His ID read “Paul (Tinder 2-1-19)” which she had not so much to remind herself as to beat herself up. 


“Hey, I was thinking,” Paul said, immediately. “I was being an ass this morning.” 


“Uh-huh,” Danika said. 


“An ass-HOLE,” he added. 


“You were, you were,” Danika said, almost guilty. This was new. She was unused to boys admitting their own inadequacies. What was she supposed to do? Say yes? Argue with them? 


“I’ll make it up to you tonight,” Paul said. “Do you want me to.. Send you a naughty picture of myself? I’ll do it.”


She sighed. Hope beat a tiny staccato in her heart. This was novel, asking for forgiveness, promising redress. “Yes. I want that naughty picture,” she said. “It should get me fired. I should be shitcanned.”


A moment later her phone buzzed with a grainy and poorly-lit shot of Paul’s hairy ass. 

[[Smile.-&gt;71 Be Happy]]</tw-passagedata><tw-passagedata pid="62" name="64 Tits" tags="" position="2021,1747" size="100,100">(set:$danikaTits to 1)&lt;img class=&quot;right narrow&quot; src=&quot;images/64.jpg&quot; /&gt;Danika halted just for a second, right outside the big front doors. What she was doing made little sense. Paul was not very special. This was her only job, her only source of income. She definitely needed food a lot more than she needed men. There were an endless number of Pauls out there, one dating app swipe away, ready with their weak jokes and endless thirst and polo shirts. And beards, so many beards. 


She squared her shoulders. Her boobs took the opportunity to start to fill in. They were already adequate, jutting out proudly on top of her short torso. Like her, her tits were squat, and abbreviated, and likable. They filled the hand. But now they started to increase, adding in additional padding and swelling with soft skin. Her bra went away without her quite noticing. 


Danika walked across the parking lot, determined. She pulled her lanyard off and clenched it in her hand. It was already half-lost in the cleavage tenting her work polo - a black-pattern blouse meant to quietly seem goth-Victorian in a corporate setting. 


Of course that was why she had to walk out. It was enough. Enough! She’d been slinking away from thoughtless men her entire life, silently absorbing their slights, her head down. Staring at pavement just like this. Anger she’d never felt before. She was a find, she had to be. Tits like these?


She felt them shift under her polo. Men trying to deny them called them fat-girl boobs, and in her dark moments she agreed with them. They were just where the fat went. She’d joked about stuffing them full of ice cream so many times. They were still getting bigger and bigger under there, not quite enormous, but not far away. And her nipples were at their usual flared intensity. 


Danika had to hold onto that anger, that confidence, she knew it. Paul, just like the rest of them, had suckled her boobs like a hungry, bereft man. He’d watched with awe when she stripped her shirt off, her boobs bobbling and bouncing. He’d cupped them with care. He’d better. They were god damn special. 


She pulled her phone out. “I’m coming to your office,” she texted, with proper spelling and capitalization. Then she turned her phone off entirely. It felt right. Her tits shifted as she walked, huge and proud. She hadn’t seen her feet since puberty and didn’t need to. If he wanted to nuzzle her ever again, softly gripping the underside, if he wanted to get her a bikini for her birthday ever again, he was going to apologize. To her face. If he could find it. Which could be difficult. 

[[She needs better clothes.-&gt;67 Clothes]]
[[She needs to accessorize.-&gt;68 Accessories]]</tw-passagedata><tw-passagedata pid="63" name="65 Ass" tags="" position="2133,1747" size="100,100">(set:$danikaAss to 1)&lt;img class=&quot;right narrow&quot; src=&quot;images/65.jpg&quot; /&gt;No. Stop. She was walking far too quickly. Danika shortened her stride and took a deep, calming breath. She used the line between the sidewalk and the street to force herself to start over. Then she walked calmly and deliberately.


There was a certain way to walk when you had a really good butt. It hadn’t come naturally to Danika -- she was from a flat ass family, a long sad lineage of women who had maybe one side worth looking at. 


Her rear perked up, new muscles appearing and hauling it into shape. Her usually over-sized jeans, high-waisted and mom-style, picked up the new weight. Slowly, very slowly, her butt start to pooch outwards. 


She’d started to play volleyball, and, like so many girls before her, couldn’t help but think about the impression. It was the only sport she could think of that attracted fetishist. There’d come a day when she’d slid on her shorts, with difficulty, and sidled sideways up the mirror and thought: huh. So she had a butt. And at the perfect moment, when thicc was hitting its stride, when the last waning days of thigh-gap washboard white girls was falling out of fashion. 


Danika had slapped it in the mirror and watched it jiggle. So that was it. She was an ass girl. 


The butt itself popped into perfection, peach-round and snug. It filled in like it was molded, like she’d done a hundred thousand squats. It was good enough that Danika had hesitated before the yoga pants boom -- it felt like either cheating or, just maybe, other girls cheating. She was the one with the genetics. When she wriggled out of her pants for the first time, in front of Paul, he’d made a small noise in his throat that was half a gasp. 


Men were so adorable about butts. They were uncertain what to do. Tits were simple enough -- grab and fondle and tug. Men couldn’t even explain their own fascination with nice round rears. The flare of her hips? Something about the curve in her body? Rarely did a guy care about doing anal, except as bragging rights. But still: they loved her ass. 


Danika loved it too. 


She had watched YouTube videos on the correct walk. Step after step. Hips rocked gently but not overly so -- no cartoon strut. Like the roll of the ocean. Boys walking towards the book store snapped their necks around. She soaked in the appreciation. She needed the validation. But not for much longer. 


Danika pulled her phone out. “I’m coming to your office,” she texted, with proper spelling and capitalization. Then she turned her phone off entirely. It felt right. Then she shoved it back into her back pocket. The stitches strained. She wore them down. Now it was Paul’s turn. 

[[She needs better clothes.-&gt;67 Clothes]]
[[She needs to accessorize.-&gt;68 Accessories]]</tw-passagedata><tw-passagedata pid="64" name="71 Be Happy" tags="" position="2274,1751" size="100,100">Paul very slowly slid into her. They both giggled. It had been a really good night. 


Her boyfriend had lived up to expectations and then surpassed them. First of all by sending butt pic after butt pic, all day long, his hirsute rear filling up her phone’s available storage. She had urged him on, surprising herself, telling him he was making her ‘super horny, you don’t even believe it, this is making me horny.’ The day had flown by. 


Then he’d gotten her a new video game and made dinner. True, a game that was partly for him, but it was still a very nice gesture. They’d gotten dumb on wine and started pawing at each other. 


Everything was feeling… Good. Danika couldn’t quite put a finger on it what it was, but a heaviness in her spirit just wasn’t there. Usually she needed to get very, very high to reach that level of non-anxiety, that floating sense of well-being. And then she would topple over if mildly pushed. This was different -- Paul’s hands on her boobs had her shoving back, eager for the friction, unconcerned about anything else. 


Why should she be anxious, after all? She was going to have sex with her boyfriend, she could do whatever she wanted, truly enjoy herself. And just like that all those insecurities floated away -- her body, her second-guessing each little movement. Danika took his hand and clapped it on top of her pussy, and told him to see how wet she was. And she was, she really was. 


“Was it the ass pics?” Paul asked, half-serious. “I can send more.” He was on top of her, burly and sweating, and she was loving it. 


&lt;img class=&quot;right fifty&quot; src=&quot;images/71.jpg&quot; /&gt;“I’m just a horny slut it turns out,” Danika said. She had no idea where the mouth had come from. But it galvanized Paul, who didn’t hold back. His uneven strokes were charming, and got better when she simply instructed him on how to properly fuck her. 


“Push all the way in, then slooooowly out,” Danika said. What was this euphoria, who was this Danika? Usually she just endured sex. “Yeah. Good. Unh. I like to feel full. Big strokes for you, full for me.” Paul was enchanted. She lowered his head to her titties and let him nuzzle. That felt amazing too. 


“I’m gonna cum,” Danika said, and realized it was true. She was going to cum. It was already washing over her, and it was just more of how she already felt, a steady wash of brain-numbing, wonderful pleasure, a cascade that made her scream. She could feel Paul emptying out into her. And that was nice too. 


“Tomorrow I’ll send you some more butt pics,” Paul promised. 


“Me too,” Danika said. 

[[Be happy.-&gt;72 Be Happy]]
</tw-passagedata><tw-passagedata pid="65" name="67 Clothes" tags="" position="2016,1878" size="100,100">(if:$danikaAss is 1)[&lt;img class=&quot;right narrow&quot; src=&quot;images/67A.jpg&quot; /&gt;](if:$danikaTits is 1)[&lt;img class=&quot;right narrow&quot; src=&quot;images/67B.jpg&quot; /&gt;]Danika turned the AC all the way up. It wasn’t very warm out, but leather outfits, in a car, required a good breeze. 


Her plain cotton t-shirt turned rough and heavy, the material into a heavy-hewn block of leather. She loved bustiers of all kind, black for preference, with all sorts of complicated rigs and straps and buckles to add personality. They slid across her torso, making room for her chest, and snaking across the rest of her arms and legs. Yes, there were times she looked a little silly, such as at the supermarket on a Sunday. But then some Dad would walk into a wall, trying not to stare, and that would make it all worth it. 


All fitted it was snug and short, a set of cups and wraps that wasn’t at all practical. Danika loved it anyway -- it was all her. 


Nylons slipped up her legs, out of matching black heels. After a brief breath they sorted between possible patterns, simple fishnets and sheer, before finally fixing on an ornate and baroque pattern that had cost her way too much money at a specialty store. The pattern above the white of her leg was, however, beautiful, and Paul had it as his iPhone background. Too close to be not safe for work, unless you knew where the shot was taken. 


She’d worn a plaid skirt on top, on a whim, and because it was too daytime for completely unrelieved black. It was a little silly to go full graveyard on a random day. This one had ruffles and frills and was reasonably demure, excepting the very high cut. In truth it was a survivor of endless post-college clothing purges, simply too cute and too fuckable to toss. Her butt dug into the car seat. 


Danika toyed with her choker. They were back in style, years after she’d started wearing one. Well, good for the rest of the world figuring out that chokers were insanely hot. Once, just for kicks, she’d let a partner attach a lead to it. That had been an incredible night. 


The reflection in the mirror was perfect. Dark, brooding but not TOO brooding, sexy but not approachable. A girl you were too scared to whistle at. A girl you’d think about while fucking your own girl. 


Paul was going to have to work to get this back.

[[Danika takes him back.-&gt;69 Take Him Back]]
[[Danika doesn&#39;t take him back.-&gt;70 Don&#39;t Take Him Back]]</tw-passagedata><tw-passagedata pid="66" name="68 Accessories" tags="" position="2136,1879" size="100,100">(if:$danikaAss is 1)[&lt;img class=&quot;right narrow&quot; src=&quot;images/68A.jpg&quot; /&gt;](if:$danikaTits is 1)[&lt;img class=&quot;right narrow&quot; src=&quot;images/68B.jpg&quot; /&gt;]Danika checked her face out in the rear view mirror. Awful, awful garbage. A girl could work out, gain and lose weight, wear all sorts of clothes, but there was only much that could happen with the face. Cheek bones wouldn’t go anywhere, big chubby red cheeks like squirrel pouches were permanent until death. 


She concentrated on the road, and so missed a white mist filling her face, a blend of concealer and powder that left her half angelic, half zombie, just a few shades away from death. Lines melted away on her face, replaced with a cool, calm expression she’d never before been able to manage. 


Danika licked her lips, which puffed and pouted in their wake, the slick wetness never quite going away. They added gloss in layers, not quite red, not quite brown, a depth of shade that drew the eye all the way in. 


Makeup, she now remembered, had been a perfect way to take control of her life. There was something about using your own face as a canvas, and not just adding to it, but perfecting it. It helped that she’d been born into the great era of YouTube makeup tutorials, where every look was easy to achieve by skipping to the back half of the video. She’d even done frightening corpse heads for Halloween, and not for Halloween. 


It intimidated and attracted boys, which was hard to deal with, but worth it. Sometimes they talked about seeing the real person underneath the Sephora, which made her roll mascara’d eyes. This was her. 


The mascara filtered on to her eyelids. Not too heavy -- raccoon eyes were unnecessary. Just enough to accentuate. This wasn’t Hot Topic in 2003. 


A few silver necklaces shimmered onto her shoulders, which were themselves treated and puffed. There was a tendency to keep going with skin care, and Danika had. Especially once she’d figured out shoplifting techniques at the mall. 


She’d had sex for the first time without makeup, and never again. Now she liked having mirrors around, especially when she blew a guy. Blowing a man without makeup on was gross. With full waxed and glossed lips it was art, the colors sliding up and down on a wet cock. It made her fidget in the car -- sucking Paul’s cock was only if he had been very good, and he only came when she said so. It was a delicate dance of control and submission, and she wouldn’t have it any other way. 

[[Danika takes him back.-&gt;69 Take Him Back]]
[[Danika doesn&#39;t take him back.-&gt;70 Don&#39;t Take Him Back]]</tw-passagedata><tw-passagedata pid="67" name="69 Take Him Back" tags="" position="2007,2024" size="100,100">&lt;img class=&quot;right narrow&quot; src=&quot;images/69.jpg&quot; /&gt;She strutted from the moment her feet hit the pavement. Danika had never felt so confident, so sure of herself. Her hair straightened as she strode across the company parking lot, falling in shiny waves across her back. It had taken a lot of effort to feel perfect, feminine, sexy, cool, but now she was that. Every step wiggled her pert rear, her tits barely constrained on top of the bodice. She could taste the subtle candy of her lipstick. The glass in the office building partially reflected her, all tits and ass and unshakeable sex. 


God, she was wet. 


“I’m here to see Paul,” she told the security guard, favoring him with the briefest smile. He didn’t even try to look her in the eyes. 


“What do I tell him?” the man said, dialing. He drank in her cleavage. Fair enough. 


“Absolutely nothing at all,” Danika said. “May I go down? All of me. Not just these.” She put a finger down her chest and decided to give him one more smile. 


The guard hesitated only momentarily. If a hot girl wanted to go somewhere, he wasn’t going to say no. 


Paul worked in a cube farm underground, nominal manager of a staff of ten. She made sure everyone got to see her walking by, a conglomeration of worshipful male eyes. Then she opened Paul’s office door and very deliberately and loudly slammed it shut. 


The man himself was in front of several computer screens. He was slow to turn around, so Danika did it for him. Then she climbed into his lap, straddling him. 


“Danika. I’m---” he swallowed. “I’m at work. This is work.”


“I texted you,” Danika said. She could feel him getting hard. Unsurprising. She kept her composure. “I decided I was upset over how I was treated. I think I deserve an apology. Eyes up here. No. You don’t get to look.”


It was an almost impossible ask. Paul’s eyes kept darting to her tits. “Can’t we do this later?” he said. “Please?”


“Apology.” Danika said. She gently pushed his head up so he would look her in the eyes. “Right now.”


Paul wilted. His dick was iron hard. “I’m sorry.”


“I’m sorry, Miss Danika,” 


“What?” 


“Be glad its not Mistress. Say it.” 


Paul’s resistance collapsed. There was so much Danika in front of him, far more than anyone could resist. “I’m sorry, Miss Danika,” he said. 


“Good. Now, how about some makeup oral?” Danika said. She smiled at him. It had such an effect on men. It was sad, really, how much they just needed a smile and some tits to suck on. 


“Really?” Paul said. He glanced at his office door. It didn’t have a lock. Every single employee of his had to be watching it. “Y-yes. Okay.”


“Great. Now, get on the floor, and lick.” Danika nimbly stepped off of him and removed her panties. They were soaked through. She rubbed them on Paul’s face, then helped him out of the chair. She pointed her pussy right at the very edge. “Fair warning. I’m going to scream very loud when I cum.”


It was going to be bad for his career. His face was slick with her juices. But Paul was far past caring. He needed her. He’d do anything. He knelt to the ground in his work khakis, awkwardly, and put his head between her legs.


Danika was exactly as loud as she’d promised.

[[Check in with Carrie.-&gt;34 Be Carrie. Let It Go.]]
[[Meet Amanda at the mall.-&gt;25 Go inside Victoria&#39;s Secret and fuck Amanda&#39;s mouth]] </tw-passagedata><tw-passagedata pid="68" name="70 Don&#39;t Take Him Back" tags="" position="2138,2027" size="100,100">Her regulars knew the drill. When she started to gasp and buck, a little whine at the back of her throat, they hit the tip jar and made it sing. The ring-ring of money flooding in mixed with her going over, riding a glossy white dildo. The camera was up very close, which meant many, many paying customers watched her pussy clench and trickle. 


Spent, it took Danika awhile to check the till. She whistled, her throat sore. “There’s rent for the month,” she told the room. They exploded. 


She’d nearly gone back to work. Danika had gotten to Paul’s parking lot, stewing in the car, before realizing -- no. He did not deserve it. He had done nothing to earn her. He was a waste. And then, back at the bookstore parking lot, she’d realized -- any one man was a waste, by damn. She was far more than any one man. 


Her bank account reflected how smart that was. 


“Alright… I’m taking a three,” Danika said. She put the camera back to widescreen and stretched, long and lazy. She was naked from the waist down, her top in a velvet bodice an admirer had paid for. It was kind of a dumb look, and itchy besides -- renaissance Gothic.  But he had gone up to nearly a grand for the show, and Danika always made it worth their while. She gave her generous rear a solid smack. The tip jar answered with another set of rings. 


After initially flirting with being a video game streamer, one with generous tits, Danika had come around to camming pretty quickly. Something about the lens there, watching, hoping, had turned out to be such an aphrodisiac. The legions of men stroking their dicks and hoping, spurting onto keyboards to her pink lips -- such a high. In a way they were a community, all stroking each other in unison. Heck, she even had female fans, fingering themselves in unison. 


She’d kept her room in gamer-grunge despite descending into cam work. It didn’t seem to matter. The days were a pleasant haze -- she usually liked to do a day as a sort of mock descent into depravity. Wake up fully-clothed, play video games in pajamas, and then slowly, slowly start to inch her fingers below the waistband. Maybe feel her titties up in mock innocence. And then by evening, banging herself with an ever growing sex toy collection and screaming on camera. 


Danika drank an entire Gatorade bottle. The job did make her thirsty. 


She had an advantage -- it wasn’t just a show. She truly, deeply, loved to cum on camera. Sometimes she worried it was bad for her, screaming her brains out five or so times a day. But the money was good. 


“Alright, cum pigs,” she said, returning to the keyboard. That was her name for her fans. One had sent her a ‘CUM PIG’ tattoo, which was sort of sweet and so very masculine. “What’s the plan? Bedtime?” 


It was nearly ten, and she’d made an obscene amount of money. And there were three private chats waiting, all at exorbitant rates. The boys were toting up how many times they’d all cum in the subreddit -- they were probably going to break a record. Men, so strange. 


The chat indicated they were ready for a bedtime story, and also would she please use the big glass dildo that had been tantalizingly on the counter all day. Pretty please. The tip jar started to sing. 


Danika hesitated over the glass, and then picked up her trusty black one instead. Never good business to give them everything. She never finished the bedtime story, exactly, but she always finished the audience. She sank the rubber cock between her legs. She was still wet and eager. 


“Once there was a sexless girl who worked at a very boring book store,” Danika said. “And she had no idea what a hot little pussy she had!” 

&lt;img class=&quot;wide&quot; src=&quot;images/70.jpg&quot; /&gt;

[[Check in with Carrie.-&gt;34 Be Carrie. Let It Go.]]
[[Meet Amanda at the mall.-&gt;25 Go inside Victoria&#39;s Secret and fuck Amanda&#39;s mouth]] </tw-passagedata><tw-passagedata pid="69" name="72 Be Happy" tags="" position="2273,1880" size="100,100">They’d had wet, sloppy, wonderful sex a dozen times in one week. Danika had never been so happy. At times she laid awake in bed, cum leaking out of her gently, just feeling contented. She practically danced through work, checking the clock, excited to get back to her lover and her lover’s cock. 


It was spontaneous, acrobatic, enthusiastic. Was it just a dozen times? Danika wasn’t sure -- at home they were all over each other, amazed with each other’s bodies, laughing and sinking into each other’s arms. Why hadn’t it been this way all along? Their privates lit up at the other’s touch, and there was no reason not to hump each other into the ground. 


They’d woken up the day after fuck number one and, scarcely believing it, started to paw at one another. She’d rubbed at his thigh, he’d rubbed on the inside of hers, and they’d given each other a look that said -- we can fuck right now. We can both make each other orgasm. He’d rolled right onto her, pounding her senseless. It had been six thirty in the morning, and they’d fucked once more after getting back. 


Getting pounded did make a girl feel wanted. Danika had never felt so attractive. She’d ditched the jeans all week, sauntering into work in her few skirts, savoring the feeling of Paul’s hands on her boobs. They’d worked hard to send each other naughty pictures all day long. Very naughty -- she’d accidentally left the sound on while snapping her slit in the bathroom, with someone in the next stall over. But honestly, who cared? Paul loved it -- his next picture proved that. 


Lewis had been out the rest of the week. Or gone or something. She hadn’t given anyone but Paul much thought. 


And how nice was it that sex was getting more adventurous, too? Paul had mostly taken the lead, not that she had any trouble straddling the man. When he had bent her over the kitchen table Danika had been thrilled at it all. What a move, pushing her over, ordering her to present her ass, and then plugging her with his ever-ready erection? Just a week ago she would’ve protested, or found a reason to demur. Now it was just pure pleasure, her tits rubbing against the wood veneer, his dick finding new ways to please her. 


She’d reciprocated the next morning, stripping and presenting as he got out of the shower. 


Danika was amazed at the girl in the mirror. She looked -- great. Glowing, with a red flush to her cheeks that was probably due to cumming all the time. For the first time in however long she looked at her curves, her generous body, her ample proportions, and felt truly great about it. It was not a surprise that Paul wanted to do her constantly. 


It was a little strange just how horny she herself was. It was hard to remember when she wasn’t basically wet, when she wasn’t ready to go on some level. She’d been slippery all week. When his hands came to explore, while watching Netflix, her legs just fell apart. Increasingly she wasn’t bothering with underwear. Last night they had peacefully masturbated during a show, stroking each other, and then she’d climbed aboard and ridden out another orgasm. 


It was hard to be concerned. They were a couple. Lovers. Clearly falling in love, or at least a very similar kind of lust. It had to be at least in part Paul’s perfect, wonderful cock. He was always, always erect, always thirsty for her pussy. Cumming in big loads. 


She was so happy. 


He wandered behind her, half-erect. It was obvious to both that they’d fuck again soon. It had been at least two hours since the last round, in the shower. Danika’s eyes strayed to his cock, but she tried to stay focused on the mirror. There was one thing that was a bit strange. 


“Honey, do you think my tits are bigger?” she said. 


And just as she expected, he sat behind her, hefted them in his hands, and off they went.

[[Be happy!-&gt;73 Be Happy]]</tw-passagedata><tw-passagedata pid="70" name="73 Be Happy" tags="" position="2273,2008" size="100,100">Her wardrobe had given way to all the pleasant feelings. In part because her tits had gotten much bigger recently -- they filled both of Paul’s hands whenever he wanted to grab them, which was all the time. Already pretty big, Danika was now overflowing with charm. 


But mostly it just felt strange and odd to be dressed in jeans and a t-shirt, black long-sleeves, dour skirts, boring wallpaper patterns. Eventually Danika reached into her dresser and tossed it all, even before buying anything new. She could make do with her few pairs of shorts and a couple sunny, cheerful shirts that just barely squeezed over her fat new boobs. After thinking about it she ditched most of the pairs of panties. They weren’t getting used. 


Once the weekend hit the couple went shopping. Danika emerged refreshed, purely in primary colors, with nothing darker than a magenta red that was on super-triple sale. She’d gone huge into yoga pants in all sorts of wild patterns, most of them really more like shorts. Casual, sexy, and perfect for the young go-getter having sex six or eight times a day. Her new t-shirt had a big golden sun on it. It was all a wild spray of colors, but hey. She was happy. 


&lt;img class=&quot;right narrow&quot; src=&quot;images/73.jpg&quot; /&gt;So was Paul. She’d given him a blowjob in the changing room. His cock had gotten bigger as well, matching her own tit growth. Oddly enough it made her feel better about the totally inexplicable boob growth -- apparently something was going around. It was hard to think about for more than a minute or so. It was definitely hard to feel concerned. About anything. The clerk had asked her idly if she was shopping due to suddenly doubled boobs and nodded, nonchalant, when she’d answered yes. 


“Lot of that going around,” she’d explained. 


Blowjobs were a new activity and Danika was in love with them. It wasn’t clear why she’d hesitated before. Was there a better expression of joy and love than sucking on her man’s dick, making him cum? If her concern had been his refractory period, that was no longer really an issue. He had a load ready for her pussy within ten, fifteen minutes. And blowjobs filled so many moments that were otherwise wasted, where sex was a bit too time-consuming and distracting. Changing room, car rides, when Paul was doing the dishes. 


The news had gotten just as chill. There hadn’t been any murders, no violence of any sort. A war overseas had just come to a halt. People were smiling at each other everywhere, the police were lazy and bored. With the sun shining so brightly every couple in town had come to the park, just like them, to walk around and bask and kinda touch each other. 


He proposed to her on the bridge over the river. The diamond -- small, but hers -- caught the flash of the sun. There was spontaneous applause from an entire crowd, and a breeze rustled her hair. Danika said yes so hard it came out as a squeak, and let Paul slip the ring on. She’d recently redone her nails in pink lacquer, and it was the perfect accompaniment to the perfect day. She was so horny she could die. 


Danika needed his dick in her mouth. Her body was already horny, and now it was electric, desperate. She wanted Paul so very badly. She took him by the hand with her new ring, drew him over to a part of the park with a few trees in a stand. It wasn’t particularly secluded, but it was at least a little private. 


Paul didn’t protest at all. He was as eager as she was, flopping his dick out for her waiting mouth. She made sure to stroke him with the engagement ring, and then took him as deep as she could. Was it love that let her go so hard, take in his entire ever-growing dick? His cock probably still had bits of their last session, just an hour prior, lost in various folds. He beat against her mouth, the sounds of the park all around. When he unloaded Danika made a tight seal, determined to keep every bit of this man’s wonderful jism in her, and succeeded.


There was another round of applause. They’d been in full view of many, many couples, spread on blankets on the other side of the hill. No one seemed upset at all. How could they be?

[[BE HAPPY!-&gt;74 Be Happy]]</tw-passagedata><tw-passagedata pid="71" name="74 Be Happy" tags="" position="2272,2143" size="100,100">It was going to be a tremendous wedding. Danika had worn white, although not in a traditional sense. A sheer white top paired with a matching white choker, and a very short skirt that she doubted would last very long. Danika had put more thought into her panties, which were studded with rhinestones across a shiny white triangle. They’d been soaked through all day, but she’d made the effort to wait until the ceremony. 


“I do,” she said, teary-eyed. Paul was traditionally dressed in a dark suit, and not for much longer. They’d done the ceremony in a friend’s backyard, a long rolling yard dappled with old oak trees. Friends primarily -- Danika made a note to make sure she wasn’t fucking a close family member. Not that close, at least. 


They closed in for the kiss and dissolved into each other. Paul’s hands mashed her tits together. A cheer went up, and the audience started in on each other. Heck, some had already started, sitting astride firm erections during the very brief exchange of rings. 


It was clear to everyone something was up. There’d been a bunch of press conferences and presidential addresses on it. Something about fundamental changes to the brain. They’d all become cocaine rats, she’d heard, wired to be pleased. For all the talk it was, by definition, hard for anyone to feel bad about the situation. Everyone was having tremendous sex and in the best shape of their lives. Literally, the best shape -- Danika’s boobs had leveled off, but they were still a gravity-defying mouthful. The entire world of boys had much bigger dicks. The old had gotten much younger, as evidenced by Danika’s grandma, lovingly at work between a few of Paul’s fraternity brothers. She was a radiant blonde now, and so loud. 


Danika had barely paid any attention, consumed with the wedding planning and the complexities of an increasingly open relationship. The irony of it had made her laugh, but she was fucking and sucking a ton of men not named Paul. And he’d fucked their wedding planner, a vivacious redhead who’d spent an entire weekend more or less constantly in their bed, her tongue amazing both of them. 


It didn’t seem like a contradiction. Paul of course had first dibs on her, and they were still deeply in love. It was just that the world kept getting bigger and bigger. Why not fuck an engaging older gentleman on the bus? Why not see what all her friends tasted like? 


Paul gave her the wood for the first time post-wedding in a discrete room in the house. They kept the dirty talk to a minimum -- just Danika yowling about what a dirty fuck wife she was to her husband. And, of course, she’d rubbed her wet panties in his face, one more time. After an entire morning of virginity they both came straightaway, before heading back outdoors. 


The dance floor was already wet and sticky.


Much later Danika came to, groggy and pleased. She’d been deposited off the dance floor onto a few chairs, rigged to make a stand. She sat upright and took stock. Cum leaked right out of her. Her shirt was gone -- she was actually naked entirely. Her tits bobbled in the cool night air, and she looked over at the warm pile of bodies going at it under the strung up lights. She could hear her husband roaring in there somewhere. 


“Can I bend the bride over?” a man said. She didn’t have to be told twice, or ask a name. Danika simply flopped her body onto the next available table. A dick that was big even by modern standards worked its way in. 


“Aren’t you special?” she said, admiring. Her wedding ring sparkled. The man was big enough that he had to carefully get up to speed. “Are you with Paul’s family? Or -- ahh! -- did we hire you for that dick?” 


“Former coworker,” the man said, plugging away. 


“Former coworker…” Danika mused. She tried to see, but the light wasn’t right. Still… something pulled at her... “Lewis? Is that you?” 


“It’s me,” he said. “I figured I’d stop by. I wanted to thank you.” It was getting hard to talk, the way he was pushing into her. Belatedly Danika started to work back. As the bride she needed to entertain the guests. 


“Its nothing! Glad you could -- ahhhhhh--- make it,” she said. 


Lewis chuckled. “Not for the wedding. Do you even remember? You had a problem and I just thought -- I had a simple, stupid solution. And it made me realize that stupid, simple solutions can be the best ones.”


“Mmmmm, okay, whatever,” what a DICK. She’d have to get his number. It occurred to Danika that no one said she could only have ONE husband. “Glad it worked out.”


“Oh, yes,” Lewis said. He was getting breathless, finally. Danika had worried she was losing her touch. “I’m glad you’re happy.” He paused, clearly about to cum. “You ARE happy, right?”


“Oh, fuck, YES!” Danika screamed, and that pushed them both over.

&lt;img class=&quot;wide&quot; src=&quot;images/74.jpg&quot; /&gt;

Ending 12 of 12: Happily Ever After(set: $ending12 to 1)(display: &quot;Ending Footer&quot;)</tw-passagedata><tw-passagedata pid="72" name="Start Menu" tags="" position="397,21" size="100,100">&lt;img class=&quot;wide&quot; src=&quot;images/logo.jpg&quot; alt=&quot;Necessary Bimbos, by Limerick and Sortimid&quot; /&gt;

The content of this story is intended for adults only and may include pictures and materials that some viewers find offensive. If you are under the age of 18, if such material offends you or if it is illegal to view such material in your community please stop reading here.

This is a work of fiction. Names, characters, businesses, places, events, locales, and incidents are either the products of the author&#39;s imagination or used in a fictitious manner. Any resemblance to actual persons, living or dead, or actual events is purely coincidental.

All characters are 18 and older.
(display: &quot;Global Initializer&quot;)(set: _dummy to setup.loadVars())
[[START-&gt;0 Intro]]
(if: !$firstPlaythrough)[[[START (Skip Intro)-&gt;6 Skirt]]
	[[ENDINGS-&gt;Ending List]]] </tw-passagedata><tw-passagedata pid="73" name="Global Initializer" tags="" position="819,41" size="100,100">&lt;div class=&quot;hidden&quot;&gt;
&lt;!-- These variables are saved to local storage --&gt;
(set: $firstPlaythrough to 1)
(set: $tessCounter to 0)
(set: $ending1 to 0)
(set: $ending2 to 0)
(set: $ending3 to 0)
(set: $ending4 to 0)
(set: $ending5 to 0)
(set: $ending6 to 0)
(set: $ending7 to 0)
(set: $ending8 to 0)
(set: $ending9 to 0)
(set: $ending10 to 0)
(set: $ending11 to 0)
(set: $ending12 to 0)
&lt;!-- These variables are reset every playthrough --&gt;
(set: $carrieVictim to &quot;Tess&quot;)
(set: $wentToWork to 0)
(set: $danikaTits to 0)
(set: $danikaAss to 0)
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="74" name="Ending Footer" tags="" position="937,41" size="100,100">&lt;div class=&quot;hidden&quot;&gt;
(if: $firstPlaythrough is 1)[
	(set: $firstPlaythrough to 0)
]
(set: _dummy to setup.saveVars([&#39;$firstPlaythrough&#39;,&#39;$tessCounter&#39;,&#39;$ending1&#39;,&#39;$ending2&#39;,&#39;$ending3&#39;,&#39;$ending4&#39;,&#39;$ending5&#39;,&#39;$ending6&#39;,&#39;$ending7&#39;,&#39;$ending8&#39;,&#39;$ending9&#39;,&#39;$ending10&#39;,&#39;$ending11&#39;,&#39;$ending12&#39;]))&lt;/div&gt;
(link: &#39;Play Again&#39;)[
    (reload:)
]</tw-passagedata><tw-passagedata pid="75" name="Ending List" tags="" position="551,34" size="100,100">Endings found
&lt;ul&gt;
(if: $ending1 is 1)[(print: &#39;&lt;li&gt;Mall Scavenger&lt;/li&gt;&#39;)](else:)[(print: &#39;&lt;li&gt;??????????????&lt;/li&gt;&#39;)](if: $ending2 is 1)[(print: &#39;&lt;li&gt;Mall Harem&lt;/li&gt;&#39;)](else:)[(print: &#39;&lt;li&gt;??????????&lt;/li&gt;&#39;)](if: $ending3 is 1)[(print: &#39;&lt;li&gt;Bad Ending&lt;/li&gt;&#39;)](else:)[(print: &#39;&lt;li&gt;?????????&lt;/li&gt;&#39;)](if: $ending4 is 1)[(print: &#39;&lt;li&gt;Lou is Silly&lt;/li&gt;&#39;)](else:)[(print: &#39;&lt;li&gt;????????????&lt;/li&gt;&#39;)](if: $ending5 is 1)[(print: &#39;&lt;li&gt;Lou is Horny&lt;/li&gt;&#39;)](else:)[(print: &#39;&lt;li&gt;????????????&lt;/li&gt;&#39;)](if: $ending6 is 1)[(print: &#39;&lt;li&gt;Carrie Saves the World&lt;/li&gt;&#39;)](else:)[(print: &#39;&lt;li&gt;?????????????????????&lt;/li&gt;&#39;)](if: $ending7 is 1)[(print: &#39;&lt;li&gt;Carrie Takes Over&lt;/li&gt;&#39;)](else:)[(print: &#39;&lt;li&gt;?????????????????&lt;/li&gt;&#39;)](if: $ending8 is 1)[(print: &#39;&lt;li&gt;Bookstore Babes&lt;/li&gt;&#39;)](else:)[(print: &#39;&lt;li&gt;???????????????&lt;/li&gt;&#39;)](if: $ending9 is 1)[(print: &#39;&lt;li&gt;Carrie Takes a Peek&lt;/li&gt;&#39;)](else:)[(print: &#39;&lt;li&gt;??????????????????&lt;/li&gt;&#39;)](if: $ending10 is 1)[(print: &#39;&lt;li&gt;Power Couple&lt;/li&gt;&#39;)](else:)[(print: &#39;&lt;li&gt;??????????????????&lt;/li&gt;&#39;)](if: $ending11 is 1)[(print: &#39;&lt;li&gt;Cafe Deity&lt;/li&gt;&#39;)](else:)[(print: &#39;&lt;li&gt;??????????&lt;/li&gt;&#39;)](if: $ending12 is 1)[(print: &#39;&lt;li&gt;Happily Ever After&lt;/li&gt;&#39;)](else:)[(print: &#39;&lt;li&gt;??????????????????&lt;/li&gt;&#39;)]
&lt;/ul&gt;
(if: ($ending1 is 1) and ($ending2 is 1) and ($ending3 is 1) and ($ending4 is 1) and ($ending5 is 1) and ($ending6 is 1) and ($ending7 is 1) and ($ending8 is 1) and ($ending9 is 1) and ($ending10 is 1) and ($ending11 is 1) and ($ending12 is 1))[(print: &#39;You found all the endings! Congrats!&#39;)]

(link: &#39;Return&#39;)[
	(reload:)
]</tw-passagedata></tw-storydata>

<script title="Twine engine code" data-main="harlowe">"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */
var requirejs,require,define;!function(e){function t(e,t){return v.call(e,t)}function n(e,t){var n,r,i,o,a,s,u,c,l,f,p,d,h=t&&t.split("/"),m=g.map,y=m&&m["*"]||{};if(e){for(e=e.split("/"),a=e.length-1,g.nodeIdCompat&&w.test(e[a])&&(e[a]=e[a].replace(w,"")),"."===e[0].charAt(0)&&h&&(d=h.slice(0,h.length-1),e=d.concat(e)),l=0;l<e.length;l++)if(p=e[l],"."===p)e.splice(l,1),l-=1;else if(".."===p){if(0===l||1===l&&".."===e[2]||".."===e[l-1])continue;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}if((h||y)&&m){for(n=e.split("/"),l=n.length;l>0;l-=1){if(r=n.slice(0,l).join("/"),h)for(f=h.length;f>0;f-=1)if(i=m[h.slice(0,f).join("/")],i&&(i=i[r])){o=i,s=l;break}if(o)break;!u&&y&&y[r]&&(u=y[r],c=l)}!o&&u&&(o=u,s=c),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function r(t,n){return function(){var r=b.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),f.apply(e,r.concat([t,n]))}}function i(e){return function(t){return n(t,e)}}function o(e){return function(t){h[e]=t}}function a(n){if(t(m,n)){var r=m[n];delete m[n],y[n]=!0,l.apply(e,r)}if(!t(h,n)&&!t(y,n))throw new Error("No "+n);return h[n]}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function u(e){return e?s(e):[]}function c(e){return function(){return g&&g.config&&g.config[e]||{}}}var l,f,p,d,h={},m={},g={},y={},v=Object.prototype.hasOwnProperty,b=[].slice,w=/\.js$/;p=function(e,t){var r,o=s(e),u=o[0],c=t[1];return e=o[1],u&&(u=n(u,c),r=a(u)),u?e=r&&r.normalize?r.normalize(e,i(c)):n(e,c):(e=n(e,c),o=s(e),u=o[0],e=o[1],u&&(r=a(u))),{f:u?u+"!"+e:e,n:e,pr:u,p:r}},d={require:function(e){return r(e)},exports:function(e){var t=h[e];return"undefined"!=typeof t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:c(e)}}},l=function(n,i,s,c){var l,f,g,v,b,w,x,T=[],S="undefined"==typeof s?"undefined":_typeof(s);if(c=c||n,w=u(c),"undefined"===S||"function"===S){for(i=!i.length&&s.length?["require","exports","module"]:i,b=0;b<i.length;b+=1)if(v=p(i[b],w),f=v.f,"require"===f)T[b]=d.require(n);else if("exports"===f)T[b]=d.exports(n),x=!0;else if("module"===f)l=T[b]=d.module(n);else if(t(h,f)||t(m,f)||t(y,f))T[b]=a(f);else{if(!v.p)throw new Error(n+" missing "+f);v.p.load(v.n,r(c,!0),o(f),{}),T[b]=h[f]}g=s?s.apply(h[n],T):void 0,n&&(l&&l.exports!==e&&l.exports!==h[n]?h[n]=l.exports:g===e&&x||(h[n]=g))}else n&&(h[n]=s)},requirejs=require=f=function(t,n,r,i,o){if("string"==typeof t)return d[t]?d[t](n):a(p(t,u(n)).f);if(!t.splice){if(g=t,g.deps&&f(g.deps,g.callback),!n)return;n.splice?(t=n,n=r,r=null):t=e}return n=n||function(){},"function"==typeof r&&(r=i,i=o),i?l(e,t,n,r):setTimeout(function(){l(e,t,n,r)},4),f},f.config=function(e){return f(e)},requirejs._defined=h,define=function(e,n,r){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");n.splice||(r=n,n=[]),t(h,e)||t(m,e)||(m[e]=[e,n,r])},define.amd={jQuery:!0}}(),define("almond",function(){}),function(e,t){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e,t){t=t||te;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=he.type(e);return"function"===n||he.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){return he.isFunction(t)?he.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?he.grep(e,function(e){return e===t!==n}):"string"!=typeof t?he.grep(e,function(e){return ae.call(t,e)>-1!==n}):Oe.test(t)?he.filter(t,e,n):(t=he.filter(t,e),he.grep(e,function(e){return ae.call(t,e)>-1!==n&&1===e.nodeType}))}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return he.each(e.match(Ne)||[],function(e,n){t[n]=!0}),t}function s(e){return e}function u(e){throw e}function c(e,t,n){var r;try{e&&he.isFunction(r=e.promise)?r.call(e).done(t).fail(n):e&&he.isFunction(r=e.then)?r.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function l(){te.removeEventListener("DOMContentLoaded",l),e.removeEventListener("load",l),he.ready()}function f(){this.expando=he.expando+f.uid++}function p(e){return"true"===e?!0:"false"===e?!1:"null"===e?null:e===+e+""?+e:De.test(e)?JSON.parse(e):e}function d(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(qe,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=p(n)}catch(e){}Fe.set(e,t,n)}else n=void 0;return n}function h(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return he.css(e,t,"")},u=s(),c=n&&n[3]||(he.cssNumber[t]?"":"px"),l=(he.cssNumber[t]||"px"!==c&&+u)&&He.exec(he.css(e,t));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do o=o||".5",l/=o,he.style(e,t,l+c);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function m(e){var t,n=e.ownerDocument,r=e.nodeName,i=We[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=he.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),We[r]=i,i)}function g(e,t){for(var n,r,i=[],o=0,a=e.length;a>o;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=Le.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Be(r)&&(i[o]=m(r))):"none"!==n&&(i[o]="none",Le.set(r,"display",n)));for(o=0;a>o;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function y(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&he.nodeName(e,t)?he.merge([e],n):n}function v(e,t){for(var n=0,r=e.length;r>n;n++)Le.set(e[n],"globalEval",!t||Le.get(t[n],"globalEval"))}function b(e,t,n,r,i){for(var o,a,s,u,c,l,f=t.createDocumentFragment(),p=[],d=0,h=e.length;h>d;d++)if(o=e[d],o||0===o)if("object"===he.type(o))he.merge(p,o.nodeType?[o]:o);else if(Je.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Ue.exec(o)||["",""])[1].toLowerCase(),u=Xe[s]||Xe._default,a.innerHTML=u[1]+he.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;he.merge(p,a.childNodes),a=f.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&he.inArray(o,r)>-1)i&&i.push(o);else if(c=he.contains(o.ownerDocument,o),a=y(f.appendChild(o),"script"),c&&v(a),n)for(l=0;o=a[l++];)Ge.test(o.type||"")&&n.push(o);return f}function w(){return!0}function x(){return!1}function T(){try{return te.activeElement}catch(e){}}function S(e,t,n,r,i,o){var a,s;if("object"===("undefined"==typeof t?"undefined":_typeof(t))){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)S(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=x;else if(!i)return e;return 1===o&&(a=i,i=function(e){return he().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=he.guid++)),e.each(function(){he.event.add(this,t,i,r,n)})}function O(e,t){return he.nodeName(e,"table")&&he.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function j(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function k(e){var t=rt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(Le.hasData(e)&&(o=Le.access(e),a=Le.set(t,o),c=o.events)){delete a.handle,a.events={};for(i in c)for(n=0,r=c[i].length;r>n;n++)he.event.add(t,i,c[i][n])}Fe.hasData(e)&&(s=Fe.access(e),u=he.extend({},s),Fe.set(t,u))}}function A(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ze.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function E(e,t,r,i){t=ie.apply([],t);var o,a,s,u,c,l,f=0,p=e.length,d=p-1,h=t[0],m=he.isFunction(h);if(m||p>1&&"string"==typeof h&&!pe.checkClone&&nt.test(h))return e.each(function(n){var o=e.eq(n);m&&(t[0]=h.call(this,n,o.html())),E(o,t,r,i)});if(p&&(o=b(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=he.map(y(o,"script"),j),u=s.length;p>f;f++)c=o,f!==d&&(c=he.clone(c,!0,!0),u&&he.merge(s,y(c,"script"))),r.call(e[f],c,f);if(u)for(l=s[s.length-1].ownerDocument,he.map(s,k),f=0;u>f;f++)c=s[f],Ge.test(c.type||"")&&!Le.access(c,"globalEval")&&he.contains(l,c)&&(c.src?he._evalUrl&&he._evalUrl(c.src):n(c.textContent.replace(it,""),l))}return e}function N(e,t,n){for(var r,i=t?he.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||he.cleanData(y(r)),r.parentNode&&(n&&he.contains(r.ownerDocument,r)&&v(y(r,"script")),r.parentNode.removeChild(r));return e}function _(e,t,n){var r,i,o,a,s=e.style;return n=n||st(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||he.contains(e.ownerDocument,e)||(a=he.style(e,t)),!pe.pixelMarginRight()&&at.test(a)&&ot.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function P(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function I(e){if(e in pt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ft.length;n--;)if(e=ft[n]+t,e in pt)return e}function M(e,t,n){var r=He.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function L(e,t,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===t?1:0;4>o;o+=2)"margin"===n&&(a+=he.css(e,n+$e[o],!0,i)),r?("content"===n&&(a-=he.css(e,"padding"+$e[o],!0,i)),"margin"!==n&&(a-=he.css(e,"border"+$e[o]+"Width",!0,i))):(a+=he.css(e,"padding"+$e[o],!0,i),"padding"!==n&&(a+=he.css(e,"border"+$e[o]+"Width",!0,i)));return a}function F(e,t,n){var r,i=!0,o=st(e),a="border-box"===he.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(r=e.getBoundingClientRect()[t]),0>=r||null==r){if(r=_(e,t,o),(0>r||null==r)&&(r=e.style[t]),at.test(r))return r;i=a&&(pe.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+L(e,t,n||(a?"border":"content"),i,o)+"px"}function D(e,t,n,r,i){return new D.prototype.init(e,t,n,r,i)}function q(){ht&&(e.requestAnimationFrame(q),he.fx.tick())}function R(){return e.setTimeout(function(){dt=void 0}),dt=he.now()}function H(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=$e[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function $(e,t,n){for(var r,i=(W.tweeners[t]||[]).concat(W.tweeners["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function B(e,t,n){var r,i,o,a,s,u,c,l,f="width"in t||"height"in t,p=this,d={},h=e.style,m=e.nodeType&&Be(e),y=Le.get(e,"fxshow");n.queue||(a=he._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,he.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],mt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;m=!0}d[r]=y&&y[r]||he.style(e,r)}if(u=!he.isEmptyObject(t),u||!he.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=y&&y.display,null==c&&(c=Le.get(e,"display")),l=he.css(e,"display"),"none"===l&&(c?l=c:(g([e],!0),c=e.style.display||c,l=he.css(e,"display"),g([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===he.css(e,"float")&&(u||(p.done(function(){h.display=c}),null==c&&(l=h.display,c="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?"hidden"in y&&(m=y.hidden):y=Le.access(e,"fxshow",{display:c}),o&&(y.hidden=!m),m&&g([e],!0),p.done(function(){m||g([e]),Le.remove(e,"fxshow");for(r in d)he.style(e,r,d[r])})),u=$(m?y[r]:0,r,p),r in y||(y[r]=u.start,m&&(u.end=u.start,u.start=0))}}function V(e,t){var n,r,i,o,a;for(n in e)if(r=he.camelCase(n),i=t[r],o=e[n],he.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=he.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function W(e,t,n){var r,i,o=0,a=W.prefilters.length,s=he.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=dt||R(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,o=1-r,a=0,u=c.tweens.length;u>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&u?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:he.extend({},t),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||R(),duration:n.duration,tweens:[],createTween:function(t,n){var r=he.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(V(l,c.opts.specialEasing);a>o;o++)if(r=W.prefilters[o].call(c,e,l,c.opts))return he.isFunction(r.stop)&&(he._queueHooks(c.elem,c.opts.queue).stop=he.proxy(r.stop,r)),r;return he.map(l,$,c),he.isFunction(c.opts.start)&&c.opts.start.call(e,c),he.fx.timer(he.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(e){var t=e.match(Ne)||[];return t.join(" ")}function U(e){return e.getAttribute&&e.getAttribute("class")||""}function G(e,t,n,r){var i;if(he.isArray(t))he.each(t,function(t,i){n||kt.test(e)?r(e,i):G(e+"["+("object"===("undefined"==typeof i?"undefined":_typeof(i))&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==he.type(t))r(e,t);else for(i in t)G(e+"["+i+"]",t[i],n,r)}function X(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Ne)||[];if(he.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function J(e,t,n,r){function i(s){var u;return o[s]=!0,he.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=e===qt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function Y(e,t){var n,r,i=he.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&he.extend(!0,e,r),e}function Z(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function Q(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=c[u+" "+o]||c["* "+o],!a)for(i in c)if(s=i.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[i]:c[i]!==!0&&(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function K(e){return he.isWindow(e)?e:9===e.nodeType&&e.defaultView}var ee=[],te=e.document,ne=Object.getPrototypeOf,re=ee.slice,ie=ee.concat,oe=ee.push,ae=ee.indexOf,se={},ue=se.toString,ce=se.hasOwnProperty,le=ce.toString,fe=le.call(Object),pe={},de="3.1.1",he=function e(t,n){return new e.fn.init(t,n)},me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,ye=/-([a-z])/g,ve=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:de,constructor:he,length:0,toArray:function(){return re.call(this)},get:function(e){return null==e?re.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return he.each(this,e)},map:function(e){return this.pushStack(he.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ee.sort,splice:ee.splice},he.extend=he.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"===("undefined"==typeof a?"undefined":_typeof(a))||he.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(c&&r&&(he.isPlainObject(r)||(i=he.isArray(r)))?(i?(i=!1,o=n&&he.isArray(n)?n:[]):o=n&&he.isPlainObject(n)?n:{},a[t]=he.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},he.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===he.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=he.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return e&&"[object Object]"===ue.call(e)?(t=ne(e))?(n=ce.call(t,"constructor")&&t.constructor,"function"==typeof n&&le.call(n)===fe):!0:!1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"===("undefined"==typeof e?"undefined":_typeof(e))||"function"==typeof e?se[ue.call(e)]||"object":"undefined"==typeof e?"undefined":_typeof(e)},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(ge,"ms-").replace(ye,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;n>i&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(me,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?he.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ae.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,n){var i,o,a=0,s=[];if(r(e))for(i=e.length;i>a;a++)o=t(e[a],a,n),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,n),null!=o&&s.push(o);return ie.apply([],s)},guid:1,proxy:function e(t,n){var r,i,e;return"string"==typeof n&&(r=t[n],n=t,t=r),he.isFunction(t)?(i=re.call(arguments,2),e=function(){return t.apply(n||this,i.concat(re.call(arguments)))},e.guid=t.guid=t.guid||he.guid++,e):void 0},now:Date.now,support:pe}),"function"==typeof Symbol&&(he.fn[Symbol.iterator]=ee[Symbol.iterator]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){se["[object "+t+"]"]=t.toLowerCase()});var be=function(e){function t(e,t,n,r){var i,o,a,s,u,c,l,p=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:$)!==I&&P(t),t=t||I,L)){if(11!==h&&(u=ye.exec(e)))if(i=u[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(p&&(a=p.getElementById(i))&&R(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&T.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(i)),n}if(!(!T.qsa||U[e+" "]||F&&F.test(e))){if(1!==h)p=t,l=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(xe,Te):t.setAttribute("id",s=H),c=k(e),o=c.length;o--;)c[o]="#"+s+" "+d(c[o]);l=c.join(","),p=ve.test(e)&&f(t.parentNode)||t}if(l)try{return Q.apply(n,p.querySelectorAll(l)),n}catch(e){}finally{s===H&&t.removeAttribute("id")}}}return A(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[H]=!0,e}function i(e){var t=I.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)S.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Oe(t)===e:t.disabled===e:"label"in t?t.disabled===e:!1}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function f(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=V++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var c,l,f,p=[B,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[H]||(t[H]={}),l=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[o])&&c[0]===B&&c[1]===s)return p[2]=c[2];if(l[o]=p,p[2]=e(t,n,u))return!0}return!1}}function m(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function y(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),c&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[H]&&(i=v(i)),o&&!o[H]&&(o=v(o,a)),r(function(r,a,s,u){var c,l,f,p=[],d=[],h=a.length,m=r||g(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?m:y(m,p,e,s,u),b=n?o||(r?e:h||i)?[]:a:v;if(n&&n(v,b,s,u),i)for(c=y(b,d),i(c,[],s,u),l=c.length;l--;)(f=c[l])&&(b[d[l]]=!(v[d[l]]=f));if(r){if(o||e){if(o){for(c=[],l=b.length;l--;)(f=b[l])&&c.push(v[l]=f);o(null,b=[],c,u)}for(l=b.length;l--;)(f=b[l])&&(c=o?ee(r,f):p[l])>-1&&(r[c]=!(a[c]=f))}}else b=y(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):Q.apply(a,b)})}function b(e){for(var t,n,r,i=e.length,o=S.relative[e[0].type],a=o||S.relative[" "],s=o?1:0,u=h(function(e){return e===t},a,!0),c=h(function(e){return ee(t,e)>-1},a,!0),l=[function(e,n,r){var i=!o&&(r||n!==E)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,i}];i>s;s++)if(n=S.relative[e[s].type])l=[h(m(l),n)];else{if(n=S.filter[e[s].type].apply(null,e[s].matches),n[H]){for(r=++s;i>r&&!S.relative[e[r].type];r++);return v(s>1&&m(l),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,r>s&&b(e.slice(s,r)),i>r&&b(e=e.slice(r)),i>r&&d(e))}l.push(n)}return m(l)}function w(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,c){var l,f,p,d=0,h="0",m=r&&[],g=[],v=E,b=r||o&&S.find.TAG("*",c),w=B+=null==v?1:Math.random()||.1,x=b.length;for(c&&(E=a===I||a||c);h!==x&&null!=(l=b[h]);h++){if(o&&l){for(f=0,a||l.ownerDocument===I||(P(l),s=!L);p=e[f++];)if(p(l,a||I,s)){u.push(l);break}c&&(B=w)}i&&((l=!p&&l)&&d--,r&&m.push(l))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(m,g,a,s);if(r){if(d>0)for(;h--;)m[h]||g[h]||(g[h]=Y.call(u));g=y(g)}Q.apply(u,g),c&&!r&&g.length>0&&d+n.length>1&&t.uniqueSort(u)}return c&&(B=w,E=v),m};return i?r(a):a}var x,T,S,O,j,k,C,A,E,N,_,P,I,M,L,F,D,q,R,H="sizzle"+1*new Date,$=e.document,B=0,V=0,W=n(),z=n(),U=n(),G=function(e,t){return e===t&&(_=!0),0},X={}.hasOwnProperty,J=[],Y=J.pop,Z=J.push,Q=J.push,K=J.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),le=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(oe),pe=new RegExp("^"+re+"$"),de={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Te=function(e,t){return t?"\x00"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Se=function(){P()},Oe=h(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Q.apply(J=K.call($.childNodes),$.childNodes),J[$.childNodes.length].nodeType}catch(e){Q={apply:J.length?function(e,t){Z.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}T=t.support={},j=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},P=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!==I&&9===r.nodeType&&r.documentElement?(I=r,M=I.documentElement,L=!j(I),$!==I&&(n=I.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),T.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=i(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=ge.test(I.getElementsByClassName),T.getById=i(function(e){return M.appendChild(e).id=H,!I.getElementsByName||!I.getElementsByName(H).length}),T.getById?(S.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}},S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n?[n]:[]}}):(S.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),S.find.TAG=T.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):T.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},S.find.CLASS=T.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&L?t.getElementsByClassName(e):void 0},D=[],F=[],(T.qsa=ge.test(I.querySelectorAll))&&(i(function(e){M.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||F.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&F.push(":enabled",":disabled"),M.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(T.matchesSelector=ge.test(q=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i(function(e){T.disconnectedMatch=q.call(e,"*"),q.call(e,"[s!='']:x"),D.push("!=",oe)}),F=F.length&&new RegExp(F.join("|")),D=D.length&&new RegExp(D.join("|")),t=ge.test(M.compareDocumentPosition),R=t||ge.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){if(e===t)return _=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!T.sortDetached&&t.compareDocumentPosition(e)===n?e===I||e.ownerDocument===$&&R($,e)?-1:t===I||t.ownerDocument===$&&R($,t)?1:N?ee(N,e)-ee(N,t):0:4&n?-1:1)}:function(e,t){if(e===t)return _=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===I?-1:t===I?1:i?-1:o?1:N?ee(N,e)-ee(N,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===$?-1:u[r]===$?1:0},I):I},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&&P(e),n=n.replace(le,"='$1']"),!(!T.matchesSelector||!L||U[n+" "]||D&&D.test(n)||F&&F.test(n)))try{var r=q.call(e,n);if(r||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&P(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&P(e);var n=S.attrHandle[t.toLowerCase()],r=n&&X.call(S.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==r?r:T.attributes||!L?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(xe,Te)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(_=!T.detectDuplicates,N=!T.sortStable&&e.slice(0),e.sort(G),_){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return N=null,e},O=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=O(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=O(t);return n},S=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),
"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,p,d,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s,b=!1;if(g){if(o){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&v){for(p=g,f=p[H]||(p[H]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[e]||[],d=c[0]===B&&c[1],b=d&&c[2],p=d&&g.childNodes[d];p=++d&&p&&p[m]||(b=d=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){l[e]=[B,d,b];break}}else if(v&&(p=t,f=p[H]||(p[H]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[e]||[],d=c[0]===B&&c[1],b=d),b===!1)for(;(p=++d&&p&&p[m]||(b=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++b||(v&&(f=p[H]||(p[H]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),l[e]=[B,b]),p!==t)););return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,n){var i,o=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(n):o.length>1?(i=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=C(e.replace(se,"$1"));return i[H]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||O(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},S.pseudos.nth=S.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})S.pseudos[x]=u(x);return p.prototype=S.filters=S.pseudos,S.setFilters=new p,k=t.tokenize=function(e,n){var r,i,o,a,s,u,c,l=z[e+" "];if(l)return n?0:l.slice(0);for(s=e,u=[],c=S.preFilter;s;){(!r||(i=ue.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in S.filter)!(i=de[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):z(e,u).slice(0)},C=t.compile=function(e,t){var n,r=[],i=[],o=U[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=b(t[n]),o[H]?r.push(o):i.push(o);o=U(e,w(i,r)),o.selector=e}return o},A=t.select=function(e,t,n,r){var i,o,a,s,u,c="function"==typeof e&&e,l=!r&&k(e=c.selector||e);if(n=n||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&L&&S.relative[o[1].type]){if(t=(S.find.ID(a.matches[0].replace(be,we),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(a=o[i],!S.relative[s=a.type]);)if((u=S.find[s])&&(r=u(a.matches[0].replace(be,we),ve.test(o[0].type)&&f(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return Q.apply(n,r),n;break}}return(c||C(e,l))(r,t,!L,n,!t||ve.test(e)&&f(t.parentNode)||t),n},T.sortStable=H.split("").sort(G).join("")===H,T.detectDuplicates=!!_,P(),T.sortDetached=i(function(e){return 1&e.compareDocumentPosition(I.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);he.find=be,he.expr=be.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=be.uniqueSort,he.text=be.getText,he.isXMLDoc=be.isXML,he.contains=be.contains,he.escapeSelector=be.escape;var we=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&he(e).is(n))break;r.push(e)}return r},xe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Te=he.expr.match.needsContext,Se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Oe=/^.[^:#\[\.,]*$/;he.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?he.find.matchesSelector(r,e)?[r]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;r>t;t++)if(he.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;r>t;t++)he.find(e,i[t],n);return r>1?he.uniqueSort(n):n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&Te.test(e)?he(e):e||[],!1).length}});var je,ke=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ce=he.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||je,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ke.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:te,!0)),Se.test(r[1])&&he.isPlainObject(t))for(r in t)he.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=te.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):he.isFunction(e)?void 0!==n.ready?n.ready(e):e(he):he.makeArray(e,this)};Ce.prototype=he.fn,je=he(te);var Ae=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t=he(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(he.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&he(e);if(!Te.test(e))for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&he.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?he.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ae.call(he(e),this[0]):ae.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function e(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return we(e,"parentNode")},parentsUntil:function(e,t,n){return we(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return we(e,"nextSibling")},prevAll:function(e){return we(e,"previousSibling")},nextUntil:function(e,t,n){return we(e,"nextSibling",n)},prevUntil:function(e,t,n){return we(e,"previousSibling",n)},siblings:function(e){return xe((e.parentNode||{}).firstChild,e)},children:function(e){return xe(e.firstChild)},contents:function(e){return e.contentDocument||he.merge([],e.childNodes)}},function(e,t){he.fn[e]=function(n,r){var i=he.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=he.filter(r,i)),this.length>1&&(Ee[e]||he.uniqueSort(i),Ae.test(e)&&i.reverse()),this.pushStack(i)}});var Ne=/[^\x20\t\r\n\f]+/g;he.Callbacks=function(e){e="string"==typeof e?a(e):he.extend({},e);var t,n,r,i,o=[],s=[],u=-1,c=function(){for(i=e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(u=o.length-1,s.push(n)),function t(n){he.each(n,function(n,r){he.isFunction(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==he.type(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return he.each(arguments,function(e,t){for(var n;(n=he.inArray(t,o,n))>-1;)o.splice(n,1),u>=n&&u--}),this},has:function(e){return e?he.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},he.extend({Deferred:function(t){var n=[["notify","progress",he.Callbacks("memory"),he.Callbacks("memory"),2],["resolve","done",he.Callbacks("once memory"),he.Callbacks("once memory"),0,"resolved"],["reject","fail",he.Callbacks("once memory"),he.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return he.Deferred(function(t){he.each(n,function(n,r){var i=he.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var c=this,l=arguments,f=function(){var e,f;if(!(a>t)){if(e=r.apply(c,l),e===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"===("undefined"==typeof e?"undefined":_typeof(e))||"function"==typeof e)&&e.then,he.isFunction(f)?i?f.call(e,o(a,n,s,i),o(a,n,u,i)):(a++,f.call(e,o(a,n,s,i),o(a,n,u,i),o(a,n,s,n.notifyWith))):(r!==s&&(c=void 0,l=[e]),(i||n.resolveWith)(c,l))}},p=i?f:function(){try{f()}catch(e){he.Deferred.exceptionHook&&he.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(r!==u&&(c=void 0,l=[e]),n.rejectWith(c,l))}};t?p():(he.Deferred.getStackHook&&(p.stackTrace=he.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return he.Deferred(function(e){n[0][3].add(o(0,e,he.isFunction(i)?i:s,e.notifyWith)),n[1][3].add(o(0,e,he.isFunction(t)?t:s)),n[2][3].add(o(0,e,he.isFunction(r)?r:u))}).promise()},promise:function(e){return null!=e?he.extend(e,i):i}},o={};return he.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=re.call(arguments),o=he.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?re.call(arguments):n,--t||o.resolveWith(r,i)}};if(1>=t&&(c(e,o.done(a(n)).resolve,o.reject),"pending"===o.state()||he.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)c(i[n],a(n),o.reject);return o.promise()}});var _e=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;he.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&_e.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},he.readyException=function(t){e.setTimeout(function(){throw t})};var Pe=he.Deferred();he.fn.ready=function(e){return Pe.then(e).catch(function(e){he.readyException(e)}),this},he.extend({isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){(e===!0?--he.readyWait:he.isReady)||(he.isReady=!0,e!==!0&&--he.readyWait>0||Pe.resolveWith(te,[he]))}}),he.ready.then=Pe.then,"complete"===te.readyState||"loading"!==te.readyState&&!te.documentElement.doScroll?e.setTimeout(he.ready):(te.addEventListener("DOMContentLoaded",l),e.addEventListener("load",l));var Ie=function e(t,n,r,i,o,a,s){var u=0,c=t.length,l=null==r;if("object"===he.type(r)){o=!0;for(u in r)e(t,n,u,r[u],!0,a,s)}else if(void 0!==i&&(o=!0,he.isFunction(i)||(s=!0),l&&(s?(n.call(t,i),n=null):(l=n,n=function(e,t,n){return l.call(he(e),n)})),n))for(;c>u;u++)n(t[u],r,s?i:i.call(t[u],u,n(t[u],r)));return o?t:l?n.call(t):c?n(t[0],r):a},Me=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};f.uid=1,f.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Me(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[he.camelCase(t)]=n;else for(r in t)i[he.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][he.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){he.isArray(t)?t=t.map(he.camelCase):(t=he.camelCase(t),t=t in r?[t]:t.match(Ne)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||he.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!he.isEmptyObject(t)}};var Le=new f,Fe=new f,De=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,qe=/[A-Z]/g;he.extend({hasData:function(e){return Fe.hasData(e)||Le.hasData(e)},data:function(e,t,n){return Fe.access(e,t,n)},removeData:function(e,t){Fe.remove(e,t)},_data:function(e,t,n){return Le.access(e,t,n)},_removeData:function(e,t){Le.remove(e,t)}}),he.fn.extend({data:function e(t,n){var r,i,e,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(e=Fe.get(o),1===o.nodeType&&!Le.get(o,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&(i=a[r].name,0===i.indexOf("data-")&&(i=he.camelCase(i.slice(5)),d(o,i,e[i])));Le.set(o,"hasDataAttrs",!0)}return e}return"object"===("undefined"==typeof t?"undefined":_typeof(t))?this.each(function(){Fe.set(this,t)}):Ie(this,function(e){var n;if(o&&void 0===e){if(n=Fe.get(o,t),void 0!==n)return n;if(n=d(o,t),void 0!==n)return n}else this.each(function(){Fe.set(this,t,e)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Fe.remove(this,e)})}}),he.extend({queue:function e(t,n,r){var e;return t?(n=(n||"fx")+"queue",e=Le.get(t,n),r&&(!e||he.isArray(r)?e=Le.access(t,n,he.makeArray(r)):e.push(r)),e||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),r=n.length,i=n.shift(),o=he._queueHooks(e,t),a=function(){he.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Le.get(e,n)||Le.access(e,n,{empty:he.Callbacks("once memory").add(function(){Le.remove(e,[t+"queue",n])})})}}),he.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?he.queue(this[0],e):void 0===t?this:this.each(function(){var n=he.queue(this,e,t);he._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&he.dequeue(this,e)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=he.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Le.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,He=new RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),$e=["Top","Right","Bottom","Left"],Be=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&he.contains(e.ownerDocument,e)&&"none"===he.css(e,"display")},Ve=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},We={};he.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?he(this).show():he(this).hide()})}});var ze=/^(?:checkbox|radio)$/i,Ue=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ge=/^$|\/(?:java|ecma)script/i,Xe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td;var Je=/<|&#?\w+;/;!function(){var e=te.createDocumentFragment(),t=e.appendChild(te.createElement("div")),n=te.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),pe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",pe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ye=te.documentElement,Ze=/^key/,Qe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ke=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,f,p,d,h,m,g=Le.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&he.find.matchesSelector(Ye,i),n.guid||(n.guid=he.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return"undefined"!=typeof he&&he.event.triggered!==t.type?he.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Ne)||[""],c=t.length;c--;)s=Ke.exec(t[c])||[],d=m=s[1],h=(s[2]||"").split(".").sort(),d&&(f=he.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=he.event.special[d]||{},l=he.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&he.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),he.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,f,p,d,h,m,g=Le.hasData(e)&&Le.get(e);if(g&&(u=g.events)){for(t=(t||"").match(Ne)||[""],c=t.length;c--;)if(s=Ke.exec(t[c])||[],d=m=s[1],h=(s[2]||"").split(".").sort(),d){for(f=he.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)l=p[o],!i&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(e,l));a&&!p.length&&(f.teardown&&f.teardown.call(e,h,g.handle)!==!1||he.removeEvent(e,d,g.handle),delete u[d])}else for(d in u)he.event.remove(e,d+t[c],n,r,!0);he.isEmptyObject(u)&&Le.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=he.event.fix(e),u=new Array(arguments.length),c=(Le.get(this,"events")||{})[s.type]||[],l=he.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,s)!==!1){for(a=he.event.handlers.call(this,s,c),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)(!s.rnamespace||s.rnamespace.test(o.namespace))&&(s.handleObj=o,s.data=o.data,r=((he.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&(s.result=r)===!1&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||c.disabled!==!0)){for(o=[],a={},n=0;u>n;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?he(i,this).index(c)>-1:he.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(he.Event.prototype,e,{enumerable:!0,configurable:!0,get:he.isFunction(t)?function(){return this.originalEvent?t(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[e]:void 0},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[he.expando]?e:new he.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==T()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===T()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&he.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return he.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},he.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},he.Event=function(e,t){return this instanceof he.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?w:x,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),void(this[he.expando]=!0)):new he.Event(e,t)},he.Event.prototype={constructor:he.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=w,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=w,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=w,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ze.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Qe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},he.event.addProp),he.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){he.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!he.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),he.fn.extend({on:function(e,t,n,r){return S(this,e,t,n,r)},one:function(e,t,n,r){return S(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,he(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===("undefined"==typeof e?"undefined":_typeof(e))){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=x),this.each(function(){he.event.remove(this,e,n,t)})}});var et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,tt=/<script|<style|<link/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^true\/(.*)/,it=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;he.extend({htmlPrefilter:function(e){return e.replace(et,"<$1></$2>")},clone:function e(t,n,r){var i,o,a,s,e=t.cloneNode(!0),u=he.contains(t.ownerDocument,t);if(!(pe.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||he.isXMLDoc(t)))for(s=y(e),a=y(t),i=0,o=a.length;o>i;i++)A(a[i],s[i]);if(n)if(r)for(a=a||y(t),s=s||y(e),i=0,o=a.length;o>i;i++)C(a[i],s[i]);else C(t,e);return s=y(e,"script"),s.length>0&&v(s,!u&&y(t,"script")),e},cleanData:function(e){for(var t,n,r,i=he.event.special,o=0;void 0!==(n=e[o]);o++)if(Me(n)){if(t=n[Le.expando]){if(t.events)for(r in t.events)i[r]?he.event.remove(n,r):he.removeEvent(n,r,t.handle);n[Le.expando]=void 0}n[Fe.expando]&&(n[Fe.expando]=void 0)}}}),he.fn.extend({detach:function(e){return N(this,e,!0)},remove:function(e){return N(this,e)},text:function(e){return Ie(this,function(e){return void 0===e?he.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=O(this,e);t.appendChild(e)}})},prepend:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=O(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(he.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!tt.test(e)&&!Xe[(Ue.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(he.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return E(this,arguments,function(t){var n=this.parentNode;he.inArray(this,e)<0&&(he.cleanData(y(this)),n&&n.replaceChild(t,this))},e)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){he.fn[e]=function(e){for(var n,r=[],i=he(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),he(i[a])[t](n),oe.apply(r,n.get());return this.pushStack(r)}});var ot=/^margin/,at=new RegExp("^("+Re+")(?!px)[a-z%]+$","i"),st=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ye.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Ye.removeChild(a),s=null}}var n,r,i,o,a=te.createElement("div"),s=te.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",pe.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),he.extend(pe,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var ut=/^(none|table(?!-c[ea]).+)/,ct={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","Moz","ms"],pt=te.createElement("div").style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function e(t,n,r,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,s,u=he.camelCase(n),e=t.style;return n=he.cssProps[u]||(he.cssProps[u]=I(u)||u),s=he.cssHooks[n]||he.cssHooks[u],void 0===r?s&&"get"in s&&void 0!==(o=s.get(t,!1,i))?o:e[n]:(a="undefined"==typeof r?"undefined":_typeof(r),"string"===a&&(o=He.exec(r))&&o[1]&&(r=h(t,n,o),a="number"),null!=r&&r===r&&("number"===a&&(r+=o&&o[3]||(he.cssNumber[u]?"":"px")),pe.clearCloneStyle||""!==r||0!==n.indexOf("background")||(e[n]="inherit"),s&&"set"in s&&void 0===(r=s.set(t,r,i))||(e[n]=r)),void 0)}},css:function(e,t,n,r){var i,o,a,s=he.camelCase(t);return t=he.cssProps[s]||(he.cssProps[s]=I(s)||s),a=he.cssHooks[t]||he.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=_(e,t,r)),"normal"===i&&t in lt&&(i=lt[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),he.each(["height","width"],function(e,t){he.cssHooks[t]={get:function(e,n,r){return n?!ut.test(he.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?F(e,t,r):Ve(e,ct,function(){return F(e,t,r)}):void 0},set:function(e,n,r){var i,o=r&&st(e),a=r&&L(e,t,r,"border-box"===he.css(e,"boxSizing",!1,o),o);return a&&(i=He.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=he.css(e,t)),M(e,n,a)}}}),he.cssHooks.marginLeft=P(pe.reliableMarginLeft,function(e,t){return t?(parseFloat(_(e,"marginLeft"))||e.getBoundingClientRect().left-Ve(e,{
marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),he.each({margin:"",padding:"",border:"Width"},function(e,t){he.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+$e[r]+t]=o[r]||o[r-2]||o[0];return i}},ot.test(e)||(he.cssHooks[e+t].set=M)}),he.fn.extend({css:function(e,t){return Ie(this,function(e,t,n){var r,i,o={},a=0;if(he.isArray(t)){for(r=st(e),i=t.length;i>a;a++)o[t[a]]=he.css(e,t[a],!1,r);return o}return void 0!==n?he.style(e,t,n):he.css(e,t)},e,t,arguments.length>1)}}),he.Tween=D,D.prototype={constructor:D,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(he.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.pos=t=this.options.duration?he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&&!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=D.prototype.init,he.fx.step={};var dt,ht,mt=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;he.Animation=he.extend(W,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return h(n.elem,e,He.exec(t),n),n}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.match(Ne);for(var n,r=0,i=e.length;i>r;r++)n=e[r],W.tweeners[n]=W.tweeners[n]||[],W.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?W.prefilters.unshift(e):W.prefilters.push(e)}}),he.speed=function(e,t,n){var r=e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))?he.extend({},e):{complete:n||!n&&t||he.isFunction(e)&&e,duration:e,easing:n&&t||t&&!he.isFunction(t)&&t};return he.fx.off||te.hidden?r.duration=0:"number"!=typeof r.duration&&(r.duration=r.duration in he.fx.speeds?he.fx.speeds[r.duration]:he.fx.speeds._default),(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){he.isFunction(r.old)&&r.old.call(this),r.queue&&he.dequeue(this,r.queue)},r},he.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Be).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=he.isEmptyObject(e),o=he.speed(t,n,r),a=function(){var t=W(this,he.extend({},e),o);(i||Le.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=he.timers,a=Le.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&gt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&he.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Le.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=he.timers,a=r?r.length:0;for(n.finish=!0,he.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),he.each(["toggle","show","hide"],function(e,t){var n=he.fn[t];he.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,r,i)}}),he.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){he.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),he.timers=[],he.fx.tick=function(){var e,t=0,n=he.timers;for(dt=he.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||he.fx.stop(),dt=void 0},he.fx.timer=function(e){he.timers.push(e),e()?he.fx.start():he.timers.pop()},he.fx.interval=13,he.fx.start=function(){ht||(ht=e.requestAnimationFrame?e.requestAnimationFrame(q):e.setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ht):e.clearInterval(ht),ht=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(t,n){return t=he.fx?he.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=te.createElement("input"),t=te.createElement("select"),n=t.appendChild(te.createElement("option"));e.type="checkbox",pe.checkOn=""!==e.value,pe.optSelected=n.selected,e=te.createElement("input"),e.value="t",e.type="radio",pe.radioValue="t"===e.value}();var yt,vt=he.expr.attrHandle;he.fn.extend({attr:function(e,t){return Ie(this,he.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?he.prop(e,t,n):(1===o&&he.isXMLDoc(e)||(i=he.attrHooks[t.toLowerCase()]||(he.expr.match.bool.test(t)?yt:void 0)),void 0!==n?null===n?void he.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=he.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!pe.radioValue&&"radio"===t&&he.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Ne);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),yt={set:function(e,t,n){return t===!1?he.removeAttr(e,n):e.setAttribute(n,n),n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vt[t]||he.find.attr;vt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=vt[a],vt[a]=i,i=null!=n(e,t,r)?a:null,vt[a]=o),i}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return Ie(this,he.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[he.propFix[e]||e]})}}),he.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&he.isXMLDoc(e)||(t=he.propFix[t]||t,i=he.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),pe.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),he.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(he.isFunction(e))return this.each(function(t){he(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(Ne)||[];n=this[u++];)if(i=U(n),r=1===n.nodeType&&" "+z(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=z(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(he.isFunction(e))return this.each(function(t){he(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ne)||[];n=this[u++];)if(i=U(n),r=1===n.nodeType&&" "+z(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=z(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n="undefined"==typeof e?"undefined":_typeof(e);return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(he.isFunction(e)?function(n){he(this).toggleClass(e.call(this,n,U(this),t),t)}:function(){var t,r,i,o;if("string"===n)for(r=0,i=he(this),o=e.match(Ne)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(void 0===e||"boolean"===n)&&(t=U(this),t&&Le.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Le.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+z(U(n))+" ").indexOf(t)>-1)return!0;return!1}});var xt=/\r/g;he.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=he.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,he(this).val()):e,null==i?i="":"number"==typeof i?i+="":he.isArray(i)&&(i=he.map(i,function(e){return null==e?"":e+""})),t=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=he.valHooks[i.type]||he.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:z(he.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=0>o?u:a?o:0;u>r;r++)if(n=i[r],!(!n.selected&&r!==o||n.disabled||n.parentNode.disabled&&he.nodeName(n.parentNode,"optgroup"))){if(t=he(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=he.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=he.inArray(he.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(e,t){return he.isArray(t)?e.checked=he.inArray(he(e).val(),t)>-1:void 0}},pe.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Tt=/^(?:focusinfocus|focusoutblur)$/;he.extend(he.event,{trigger:function(t,n,r,i){var o,a,s,u,c,l,f,p=[r||te],d=ce.call(t,"type")?t.type:t,h=ce.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||te,3!==r.nodeType&&8!==r.nodeType&&!Tt.test(d+he.event.triggered)&&(d.indexOf(".")>-1&&(h=d.split("."),d=h.shift(),h.sort()),c=d.indexOf(":")<0&&"on"+d,t=t[he.expando]?t:new he.Event(d,"object"===("undefined"==typeof t?"undefined":_typeof(t))&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:he.makeArray(n,[t]),f=he.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!he.isWindow(r)){for(u=f.delegateType||d,Tt.test(u+d)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||te)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,l=(Le.get(a,"events")||{})[t.type]&&Le.get(a,"handle"),l&&l.apply(a,n),l=c&&a[c],l&&l.apply&&Me(a)&&(t.result=l.apply(a,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!Me(r)||c&&he.isFunction(r[d])&&!he.isWindow(r)&&(s=r[c],s&&(r[c]=null),he.event.triggered=d,r[d](),he.event.triggered=void 0,s&&(r[c]=s)),t.result}},simulate:function(e,t,n){var r=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(r,null,t)}}),he.fn.extend({trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?he.event.trigger(e,t,n,!0):void 0}}),he.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){he.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),pe.focusin="onfocusin"in e,pe.focusin||he.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){he.event.simulate(t,e.target,he.event.fix(e))};he.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Le.access(r,t);i||r.addEventListener(e,n,!0),Le.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Le.access(r,t)-1;i?Le.access(r,t,i):(r.removeEventListener(e,n,!0),Le.remove(r,t))}}});var St=e.location,Ot=he.now(),jt=/\?/;he.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&he.error("Invalid XML: "+t),n};var kt=/\[\]$/,Ct=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,r=[],i=function(e,t){var n=he.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(he.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){i(this.name,this.value)});else for(n in e)G(n,e[n],t,i);return r.join("&")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&Et.test(this.nodeName)&&!At.test(e)&&(this.checked||!ze.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:n.replace(Ct,"\r\n")}}).get()}});var Nt=/%20/g,_t=/#.*$/,Pt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lt=/^(?:GET|HEAD)$/,Ft=/^\/\//,Dt={},qt={},Rt="*/".concat("*"),Ht=te.createElement("a");Ht.href=St.href,he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:Mt.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,he.ajaxSettings),t):Y(he.ajaxSettings,e)},ajaxPrefilter:X(Dt),ajaxTransport:X(qt),ajax:function(t,n){function r(t,n,r,s){var c,p,d,w,x,T=n;l||(l=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",S.readyState=t>0?4:0,c=t>=200&&300>t||304===t,r&&(w=Z(h,S,r)),w=Q(h,w,S,c),c?(h.ifModified&&(x=S.getResponseHeader("Last-Modified"),x&&(he.lastModified[o]=x),x=S.getResponseHeader("etag"),x&&(he.etag[o]=x)),204===t||"HEAD"===h.type?T="nocontent":304===t?T="notmodified":(T=w.state,p=w.data,d=w.error,c=!d)):(d=T,(t||!T)&&(T="error",0>t&&(t=0))),S.status=t,S.statusText=(n||T)+"",c?y.resolveWith(m,[p,T,S]):y.rejectWith(m,[S,T,d]),S.statusCode(b),b=void 0,f&&g.trigger(c?"ajaxSuccess":"ajaxError",[S,h,c?p:d]),v.fireWith(m,[S,T]),f&&(g.trigger("ajaxComplete",[S,h]),--he.active||he.event.trigger("ajaxStop")))}"object"===("undefined"==typeof t?"undefined":_typeof(t))&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,c,l,f,p,d,h=he.ajaxSetup({},n),m=h.context||h,g=h.context&&(m.nodeType||m.jquery)?he(m):he.event,y=he.Deferred(),v=he.Callbacks("once memory"),b=h.statusCode||{},w={},x={},T="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=It.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(e,t){return null==l&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||T;return i&&i.abort(t),r(0,t),this}};if(y.promise(S),h.url=((t||h.url||St.href)+"").replace(Ft,St.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Ne)||[""],null==h.crossDomain){c=te.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=Ht.protocol+"//"+Ht.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=he.param(h.data,h.traditional)),J(Dt,h,n,S),l)return S;f=he.event&&h.global,f&&0===he.active++&&he.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Lt.test(h.type),o=h.url.replace(_t,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Nt,"+")):(d=h.url.slice(o.length),h.data&&(o+=(jt.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(o=o.replace(Pt,"$1"),d=(jt.test(o)?"&":"?")+"_="+Ot++ +d),h.url=o+d),h.ifModified&&(he.lastModified[o]&&S.setRequestHeader("If-Modified-Since",he.lastModified[o]),he.etag[o]&&S.setRequestHeader("If-None-Match",he.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",h.contentType),S.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Rt+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)S.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(h.beforeSend.call(m,S,h)===!1||l))return S.abort();if(T="abort",v.add(h.complete),S.done(h.success),S.fail(h.error),i=J(qt,h,n,S)){if(S.readyState=1,f&&g.trigger("ajaxSend",[S,h]),l)return S;h.async&&h.timeout>0&&(u=e.setTimeout(function(){S.abort("timeout")},h.timeout));try{l=!1,i.send(w,r)}catch(e){if(l)throw e;r(-1,e)}}else r(-1,"No Transport");return S},getJSON:function(e,t,n){return he.get(e,t,n,"json")},getScript:function(e,t){return he.get(e,void 0,t,"script")}}),he.each(["get","post"],function(e,t){he[t]=function(e,n,r,i){return he.isFunction(n)&&(i=i||r,r=n,n=void 0),he.ajax(he.extend({url:e,type:t,dataType:i,data:n,success:r},he.isPlainObject(e)&&e))}}),he._evalUrl=function(e){return he.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},he.fn.extend({wrapAll:function(e){var t;return this[0]&&(he.isFunction(e)&&(e=e.call(this[0])),t=he(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return this.each(he.isFunction(e)?function(t){he(this).wrapInner(e.call(this,t))}:function(){var t=he(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=he.isFunction(e);return this.each(function(n){he(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){he(this).replaceWith(this.childNodes)}),this}}),he.expr.pseudos.hidden=function(e){return!he.expr.pseudos.visible(e)},he.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},he.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},Bt=he.ajaxSettings.xhr();pe.cors=!!Bt&&"withCredentials"in Bt,pe.ajax=Bt=!!Bt,he.ajaxTransport(function(t){var n,r;return pe.cors||Bt&&!t.crossDomain?{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o($t[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}:void 0}),he.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),he.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=he("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),te.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Vt=[],Wt=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||he.expando+"_"+Ot++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Wt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=he.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Wt,"$1"+i):t.jsonp!==!1&&(t.url+=(jt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||he.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?he(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Vt.push(i)),a&&he.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),pe.createHTMLDocument=function(){var e=te.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),he.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(pe.createHTMLDocument?(t=te.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=te.location.href,t.head.appendChild(r)):t=te),i=Se.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=b([e],t,o),o&&o.length&&he(o).remove(),he.merge([],i.childNodes))},he.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=z(e.slice(s)),e=e.slice(0,s)),he.isFunction(t)?(n=t,t=void 0):t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&(i="POST"),a.length>0&&he.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?he("<div>").append(he.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.pseudos.animated=function(e){return he.grep(he.timers,function(t){return e===t.elem}).length},he.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c,l=he.css(e,"position"),f=he(e),p={};"static"===l&&(e.style.position="relative"),s=f.offset(),o=he.css(e,"top"),u=he.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),he.isFunction(t)&&(t=t.call(e,n,he.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},he.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){he.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),r.width||r.height?(i=o.ownerDocument,n=K(i),t=i.documentElement,{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===he.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],"html")||(r=e.offset()),r={top:r.top+he.css(e[0],"borderTopWidth",!0),left:r.left+he.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-he.css(n,"marginTop",!0),left:t.left-r.left-he.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===he.css(e,"position");)e=e.offsetParent;return e||Ye})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;he.fn[e]=function(r){return Ie(this,function(e,r,i){var o=K(e);return void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),he.each(["top","left"],function(e,t){he.cssHooks[t]=P(pe.pixelPosition,function(e,n){return n?(n=_(e,t),at.test(n)?he(e).position()[t]+"px":n):void 0})}),he.each({Height:"height",Width:"width"},function(e,t){he.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){he.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return Ie(this,function(t,n,i){var o;return he.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?he.css(t,n,s):he.style(t,n,i,s)},t,a?i:void 0,a)}})}),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),he.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he});var zt=e.jQuery,Ut=e.$;return he.noConflict=function(t){return e.$===he&&(e.$=Ut),t&&e.jQuery===he&&(e.jQuery=zt),he},t||(e.jQuery=e.$=he),he}),/*!
  * https://github.com/paulmillr/es6-shim
  * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
  *   and contributors,  MIT License
  * es6-shim: v0.35.1
  * see https://github.com/paulmillr/es6-shim/blob/0.35.1/LICENSE
  * Details and documentation:
  * https://github.com/paulmillr/es6-shim/
  */
function(e,t){"function"==typeof define&&define.amd?define("es6-shim",t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():e.returnExports=t()}(this,function(){var e,t=Function.call.bind(Function.apply),n=Function.call.bind(Function.call),r=Array.isArray,i=Object.keys,o=function(e){return function(){return!t(e,this,arguments)}},a=function(e){try{return e(),!1}catch(e){return!0}},s=function(e){try{return e()}catch(e){return!1}},u=o(a),c=function(){return!a(function(){Object.defineProperty({},"x",{get:function(){}})})},l=!!Object.defineProperty&&c(),f="foo"===function(){}.name,p=Function.call.bind(Array.prototype.forEach),d=Function.call.bind(Array.prototype.reduce),h=Function.call.bind(Array.prototype.filter),m=Function.call.bind(Array.prototype.some),g=function(e,t,n,r){!r&&t in e||(l?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}):e[t]=n)},y=function(e,t,n){p(i(t),function(r){var i=t[r];g(e,r,i,!!n)})},v=Function.call.bind(Object.prototype.toString),b="function"==typeof/abc/?function(e){return"function"==typeof e&&"[object Function]"===v(e)}:function(e){return"function"==typeof e},w={getter:function(e,t,n){if(!l)throw new TypeError("getters require true ES5 support");Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:n})},proxy:function(e,t,n){if(!l)throw new TypeError("getters require true ES5 support");var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,{configurable:r.configurable,enumerable:r.enumerable,get:function(){return e[t]},set:function(n){e[t]=n}})},redefine:function(e,t,n){if(l){var r=Object.getOwnPropertyDescriptor(e,t);r.value=n,Object.defineProperty(e,t,r)}else e[t]=n},defineByDescriptor:function(e,t,n){l?Object.defineProperty(e,t,n):"value"in n&&(e[t]=n.value)},preserveToString:function(e,t){t&&b(t.toString)&&g(e,"toString",t.toString.bind(t),!0)}},x=Object.create||function(e,t){var n=function(){};n.prototype=e;var r=new n;return"undefined"!=typeof t&&i(t).forEach(function(e){w.defineByDescriptor(r,e,t[e])}),r},T=function(e,t){return Object.setPrototypeOf?s(function(){var n=function t(n){var r=new e(n);return Object.setPrototypeOf(r,t.prototype),r};return Object.setPrototypeOf(n,e),n.prototype=x(e.prototype,{constructor:{value:n}}),t(n)}):!1},S=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")},O=S(),j=O.isFinite,k=Function.call.bind(String.prototype.indexOf),C=Function.apply.bind(Array.prototype.indexOf),A=Function.call.bind(Array.prototype.concat),E=Function.call.bind(String.prototype.slice),N=Function.call.bind(Array.prototype.push),_=Function.apply.bind(Array.prototype.push),P=Function.call.bind(Array.prototype.shift),I=Math.max,M=Math.min,L=Math.floor,F=Math.abs,D=Math.exp,q=Math.log,R=Math.sqrt,H=Function.call.bind(Object.prototype.hasOwnProperty),$=function(){},B=O.Symbol||{},V=B.species||"@@species",W=Number.isNaN||function(e){return e!==e},z=Number.isFinite||function(e){return"number"==typeof e&&j(e)},U=b(Math.sign)?Math.sign:function(e){var t=Number(e);return 0===t?t:W(t)?t:0>t?-1:1},G=function(e){return"[object Arguments]"===v(e)},X=function(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==v(e)&&"[object Function]"===v(e.callee)},J=G(arguments)?G:X,Y={primitive:function(e){return null===e||"function"!=typeof e&&"object"!==("undefined"==typeof e?"undefined":_typeof(e))},string:function(e){return"[object String]"===v(e)},regex:function(e){return"[object RegExp]"===v(e)},symbol:function(e){return"function"==typeof O.Symbol&&"symbol"===("undefined"==typeof e?"undefined":_typeof(e))}},Z=function(e,t,n){var r=e[t];g(e,t,n,!0),w.preserveToString(e[t],r)},Q="function"==typeof B&&"function"==typeof B.for&&Y.symbol(B()),K=Y.symbol(B.iterator)?B.iterator:"_es6-shim iterator_";O.Set&&"function"==typeof(new O.Set)["@@iterator"]&&(K="@@iterator"),O.Reflect||g(O,"Reflect",{},!0);var ee=O.Reflect,te=String,ne={Call:function(e,n){var r=arguments.length>2?arguments[2]:[];if(!ne.IsCallable(e))throw new TypeError(e+" is not a function");return t(e,n,r)},RequireObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||"Cannot call method on "+e);return e},TypeIsObject:function(e){return void 0===e||null===e||e===!0||e===!1?!1:"function"==typeof e||"object"===("undefined"==typeof e?"undefined":_typeof(e))},ToObject:function(e,t){return Object(ne.RequireObjectCoercible(e,t))},IsCallable:b,IsConstructor:function(e){return ne.IsCallable(e)},ToInt32:function(e){return ne.ToNumber(e)>>0},ToUint32:function(e){return ne.ToNumber(e)>>>0},ToNumber:function(e){if("[object Symbol]"===v(e))throw new TypeError("Cannot convert a Symbol value to a number");return+e},ToInteger:function(e){var t=ne.ToNumber(e);return W(t)?0:0!==t&&z(t)?(t>0?1:-1)*L(F(t)):t},ToLength:function(e){var t=ne.ToInteger(e);return 0>=t?0:t>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?0===e?1/e===1/t:!0:W(e)&&W(t)},SameValueZero:function(e,t){return e===t||W(e)&&W(t)},IsIterable:function(e){return ne.TypeIsObject(e)&&("undefined"!=typeof e[K]||J(e))},GetIterator:function(t){if(J(t))return new e(t,"value");var n=ne.GetMethod(t,K);if(!ne.IsCallable(n))throw new TypeError("value is not an iterable");var r=ne.Call(n,t);if(!ne.TypeIsObject(r))throw new TypeError("bad iterator");return r},GetMethod:function(e,t){var n=ne.ToObject(e)[t];if(void 0===n||null===n)return void 0;if(!ne.IsCallable(n))throw new TypeError("Method not callable: "+t);return n},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var n=ne.GetMethod(e,"return");if(void 0!==n){var r,i;try{r=ne.Call(n,e)}catch(e){i=e}if(!t){if(i)throw i;if(!ne.TypeIsObject(r))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ne.TypeIsObject(t))throw new TypeError("bad iterator");return t},IteratorStep:function(e){var t=ne.IteratorNext(e),n=ne.IteratorComplete(t);return n?!1:t},Construct:function(e,t,n,r){var i="undefined"==typeof n?e:n;if(!r&&ee.construct)return ee.construct(e,t,i);var o=i.prototype;ne.TypeIsObject(o)||(o=Object.prototype);var a=x(o),s=ne.Call(e,a,t);return ne.TypeIsObject(s)?s:a},SpeciesConstructor:function(e,t){var n=e.constructor;if(void 0===n)return t;if(!ne.TypeIsObject(n))throw new TypeError("Bad constructor");var r=n[V];if(void 0===r||null===r)return t;if(!ne.IsConstructor(r))throw new TypeError("Bad @@species");return r},CreateHTML:function(e,t,n,r){var i=ne.ToString(e),o="<"+t;if(""!==n){var a=ne.ToString(r),s=a.replace(/"/g,"&quot;");o+=" "+n+'="'+s+'"'}var u=o+">",c=u+i;return c+"</"+t+">"},IsRegExp:function(e){if(!ne.TypeIsObject(e))return!1;var t=e[B.match];return"undefined"!=typeof t?!!t:Y.regex(e)},ToString:function(e){return te(e)}};if(l&&Q){var re=function(e){if(Y.symbol(B[e]))return B[e];var t=B.for("Symbol."+e);return Object.defineProperty(B,e,{configurable:!1,enumerable:!1,writable:!1,value:t}),t};if(!Y.symbol(B.search)){var ie=re("search"),oe=String.prototype.search;g(RegExp.prototype,ie,function(e){return ne.Call(oe,e,[this])});var ae=function(e){var t=ne.RequireObjectCoercible(this);if(null!==e&&"undefined"!=typeof e){var n=ne.GetMethod(e,ie);if("undefined"!=typeof n)return ne.Call(n,e,[t])}return ne.Call(oe,t,[ne.ToString(e)])};Z(String.prototype,"search",ae)}if(!Y.symbol(B.replace)){var se=re("replace"),ue=String.prototype.replace;g(RegExp.prototype,se,function(e,t){return ne.Call(ue,e,[this,t])});var ce=function(e,t){var n=ne.RequireObjectCoercible(this);if(null!==e&&"undefined"!=typeof e){var r=ne.GetMethod(e,se);if("undefined"!=typeof r)return ne.Call(r,e,[n,t])}return ne.Call(ue,n,[ne.ToString(e),t])};Z(String.prototype,"replace",ce)}if(!Y.symbol(B.split)){var le=re("split"),fe=String.prototype.split;g(RegExp.prototype,le,function(e,t){return ne.Call(fe,e,[this,t])});var pe=function(e,t){var n=ne.RequireObjectCoercible(this);if(null!==e&&"undefined"!=typeof e){var r=ne.GetMethod(e,le);if("undefined"!=typeof r)return ne.Call(r,e,[n,t])}return ne.Call(fe,n,[ne.ToString(e),t])};Z(String.prototype,"split",pe)}var de=Y.symbol(B.match),he=de&&function(){var e={};return e[B.match]=function(){return 42},42!=="a".match(e)}();if(!de||he){var me=re("match"),ge=String.prototype.match;g(RegExp.prototype,me,function(e){return ne.Call(ge,e,[this])});var ye=function(e){var t=ne.RequireObjectCoercible(this);if(null!==e&&"undefined"!=typeof e){var n=ne.GetMethod(e,me);if("undefined"!=typeof n)return ne.Call(n,e,[t])}return ne.Call(ge,t,[ne.ToString(e)])};Z(String.prototype,"match",ye)}}var ve=function(e,t,n){w.preserveToString(t,e),Object.setPrototypeOf&&Object.setPrototypeOf(e,t),l?p(Object.getOwnPropertyNames(e),function(r){r in $||n[r]||w.proxy(e,r,t)}):p(Object.keys(e),function(r){r in $||n[r]||(t[r]=e[r])}),t.prototype=e.prototype,w.redefine(e.prototype,"constructor",t)},be=function(){return this},we=function(e){l&&!H(e,V)&&w.getter(e,V,be)},xe=function(e,t){var n=t||function(){return this};g(e,K,n),!e[K]&&Y.symbol(K)&&(e[K]=n)},Te=function(e,t,n){l?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n},Se=function(e,t,n){if(Te(e,t,n),!ne.SameValue(e[t],n))throw new TypeError("property is nonconfigurable")},Oe=function(e,t,n,r){if(!ne.TypeIsObject(e))throw new TypeError("Constructor requires `new`: "+t.name);var i=t.prototype;ne.TypeIsObject(i)||(i=n);var o=x(i);for(var a in r)if(H(r,a)){var s=r[a];g(o,a,s,!0)}return o};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var je=String.fromCodePoint;Z(String,"fromCodePoint",function(){return ne.Call(je,this,arguments)})}var ke={fromCodePoint:function(){for(var e,t=[],n=0,r=arguments.length;r>n;n++){if(e=Number(arguments[n]),!ne.SameValue(e,ne.ToInteger(e))||0>e||e>1114111)throw new RangeError("Invalid code point "+e);65536>e?N(t,String.fromCharCode(e)):(e-=65536,N(t,String.fromCharCode((e>>10)+55296)),N(t,String.fromCharCode(e%1024+56320)))}return t.join("")},raw:function(e){var t=ne.ToObject(e,"bad callSite"),n=ne.ToObject(t.raw,"bad raw value"),r=n.length,i=ne.ToLength(r);if(0>=i)return"";for(var o,a,s,u,c=[],l=0;i>l&&(o=ne.ToString(l),s=ne.ToString(n[o]),N(c,s),!(l+1>=i));)a=l+1<arguments.length?arguments[l+1]:"",u=ne.ToString(a),N(c,u),l+=1;return c.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&Z(String,"raw",ke.raw),y(String,ke);var Ce=function e(t,n){if(1>n)return"";if(n%2)return e(t,n-1)+t;var r=e(t,n/2);return r+r},Ae=1/0,Ee={repeat:function(e){var t=ne.ToString(ne.RequireObjectCoercible(this)),n=ne.ToInteger(e);if(0>n||n>=Ae)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return Ce(t,n)},startsWith:function(e){var t=ne.ToString(ne.RequireObjectCoercible(this));if(ne.IsRegExp(e))throw new TypeError('Cannot call method "startsWith" with a regex');var n,r=ne.ToString(e);arguments.length>1&&(n=arguments[1]);var i=I(ne.ToInteger(n),0);return E(t,i,i+r.length)===r},endsWith:function(e){var t=ne.ToString(ne.RequireObjectCoercible(this));if(ne.IsRegExp(e))throw new TypeError('Cannot call method "endsWith" with a regex');var n,r=ne.ToString(e),i=t.length;arguments.length>1&&(n=arguments[1]);var o="undefined"==typeof n?i:ne.ToInteger(n),a=M(I(o,0),i);return E(t,a-r.length,a)===r},includes:function(e){if(ne.IsRegExp(e))throw new TypeError('"includes" does not accept a RegExp');var t,n=ne.ToString(e);return arguments.length>1&&(t=arguments[1]),-1!==k(this,n,t)},codePointAt:function(e){var t=ne.ToString(ne.RequireObjectCoercible(this)),n=ne.ToInteger(e),r=t.length;if(n>=0&&r>n){var i=t.charCodeAt(n),o=n+1===r;if(55296>i||i>56319||o)return i;var a=t.charCodeAt(n+1);return 56320>a||a>57343?i:1024*(i-55296)+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",1/0)!==!1&&Z(String.prototype,"includes",Ee.includes),String.prototype.startsWith&&String.prototype.endsWith){var Ne=a(function(){"/a/".startsWith(/a/)}),_e=s(function(){return"abc".startsWith("a",1/0)===!1});Ne&&_e||(Z(String.prototype,"startsWith",Ee.startsWith),Z(String.prototype,"endsWith",Ee.endsWith))}if(Q){var Pe=s(function(){var e=/a/;return e[B.match]=!1,"/a/".startsWith(e)});Pe||Z(String.prototype,"startsWith",Ee.startsWith);var Ie=s(function(){var e=/a/;return e[B.match]=!1,"/a/".endsWith(e)});Ie||Z(String.prototype,"endsWith",Ee.endsWith);var Me=s(function(){var e=/a/;return e[B.match]=!1,"/a/".includes(e)});Me||Z(String.prototype,"includes",Ee.includes)}y(String.prototype,Ee);var Le=["	\n\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join(""),Fe=new RegExp("(^["+Le+"]+)|(["+Le+"]+$)","g"),De=function(){return ne.ToString(ne.RequireObjectCoercible(this)).replace(Fe,"")},qe=["\x85","\u200b","\ufffe"].join(""),Re=new RegExp("["+qe+"]","g"),He=/^[\-+]0x[0-9a-f]+$/i,$e=qe.trim().length!==qe.length;g(String.prototype,"trim",De,$e);var Be=function(e){return{value:e,done:0===arguments.length}},Ve=function(e){ne.RequireObjectCoercible(e),this._s=ne.ToString(e),this._i=0};Ve.prototype.next=function(){var e=this._s,t=this._i;if("undefined"==typeof e||t>=e.length)return this._s=void 0,Be();var n,r,i=e.charCodeAt(t);return 55296>i||i>56319||t+1===e.length?r=1:(n=e.charCodeAt(t+1),r=56320>n||n>57343?1:2),this._i=t+r,Be(e.substr(t,r))},xe(Ve.prototype),xe(String.prototype,function(){return new Ve(this)});var We={from:function(e){var t,r=this;arguments.length>1&&(t=arguments[1]);var i,o;if("undefined"==typeof t)i=!1;else{if(!ne.IsCallable(t))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2]),i=!0}var a,s,u,c="undefined"!=typeof(J(e)||ne.GetMethod(e,K));if(c){s=ne.IsConstructor(r)?Object(new r):[];var l,f,p=ne.GetIterator(e);for(u=0;;){if(l=ne.IteratorStep(p),l===!1)break;f=l.value;try{i&&(f="undefined"==typeof o?t(f,u):n(t,o,f,u)),s[u]=f}catch(e){throw ne.IteratorClose(p,!0),e}u+=1}a=u}else{var d=ne.ToObject(e);a=ne.ToLength(d.length),s=ne.IsConstructor(r)?Object(new r(a)):new Array(a);var h;for(u=0;a>u;++u)h=d[u],i&&(h="undefined"==typeof o?t(h,u):n(t,o,h,u)),Se(s,u,h)}return s.length=a,s},of:function(){for(var e=arguments.length,t=this,n=r(t)||!ne.IsCallable(t)?new Array(e):ne.Construct(t,[e]),i=0;e>i;++i)Se(n,i,arguments[i]);return n.length=e,n}};y(Array,We),we(Array),e=function(e,t){this.i=0,this.array=e,this.kind=t},y(e.prototype,{next:function(){var t=this.i,n=this.array;if(!(this instanceof e))throw new TypeError("Not an ArrayIterator");if("undefined"!=typeof n)for(var r=ne.ToLength(n.length);r>t;t++){var i,o=this.kind;return"key"===o?i=t:"value"===o?i=n[t]:"entry"===o&&(i=[t,n[t]]),this.i=t+1,Be(i)}return this.array=void 0,Be()}}),xe(e.prototype);var ze=Array.of===We.of||function(){var e=function(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&2===t.length}();ze||Z(Array,"of",We.of);var Ue={copyWithin:function(e,t){var n,r=ne.ToObject(this),i=ne.ToLength(r.length),o=ne.ToInteger(e),a=ne.ToInteger(t),s=0>o?I(i+o,0):M(o,i),u=0>a?I(i+a,0):M(a,i);arguments.length>2&&(n=arguments[2]);var c="undefined"==typeof n?i:ne.ToInteger(n),l=0>c?I(i+c,0):M(c,i),f=M(l-u,i-s),p=1;for(s>u&&u+f>s&&(p=-1,u+=f-1,s+=f-1);f>0;)u in r?r[s]=r[u]:delete r[s],u+=p,s+=p,f-=1;return r},fill:function(e){var t;arguments.length>1&&(t=arguments[1]);var n;arguments.length>2&&(n=arguments[2]);var r=ne.ToObject(this),i=ne.ToLength(r.length);t=ne.ToInteger("undefined"==typeof t?0:t),n=ne.ToInteger("undefined"==typeof n?i:n);for(var o=0>t?I(i+t,0):M(t,i),a=0>n?i+n:n,s=o;i>s&&a>s;++s)r[s]=e;return r},find:function(e){var t=ne.ToObject(this),r=ne.ToLength(t.length);if(!ne.IsCallable(e))throw new TypeError("Array#find: predicate must be a function");for(var i,o=arguments.length>1?arguments[1]:null,a=0;r>a;a++)if(i=t[a],o){if(n(e,o,i,a,t))return i}else if(e(i,a,t))return i},findIndex:function(e){var t=ne.ToObject(this),r=ne.ToLength(t.length);if(!ne.IsCallable(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var i=arguments.length>1?arguments[1]:null,o=0;r>o;o++)if(i){if(n(e,i,t[o],o,t))return o}else if(e(t[o],o,t))return o;return-1},keys:function(){return new e(this,"key")},values:function(){return new e(this,"value")},entries:function(){return new e(this,"entry")}};if(Array.prototype.keys&&!ne.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ne.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[K]&&(y(Array.prototype,{values:Array.prototype[K]}),Y.symbol(B.unscopables)&&(Array.prototype[B.unscopables].values=!0)),f&&Array.prototype.values&&"values"!==Array.prototype.values.name){var Ge=Array.prototype.values;Z(Array.prototype,"values",function(){return ne.Call(Ge,this,arguments)}),g(Array.prototype,K,Array.prototype.values,!0)}y(Array.prototype,Ue),1/[!0].indexOf(!0,-0)<0&&g(Array.prototype,"indexOf",function(){var e=C(this,arguments);return 0===e&&0>1/e?0:e},!0),xe(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&xe(Object.getPrototypeOf([].values()));var Xe=function(){return s(function(){return 0===Array.from({length:-1}).length})}(),Je=function(){var e=Array.from([0].entries());return 1===e.length&&r(e[0])&&0===e[0][0]&&0===e[0][1]}();Xe&&Je||Z(Array,"from",We.from);var Ye=function(){return s(function(){return Array.from([0],void 0)})}();if(!Ye){var Ze=Array.from;Z(Array,"from",function(e){return arguments.length>1&&"undefined"!=typeof arguments[1]?ne.Call(Ze,this,arguments):n(Ze,this,e)})}var Qe=-(Math.pow(2,32)-1),Ke=function(e,t){var r={length:Qe};return r[t?(r.length>>>0)-1:0]=!0,s(function(){return n(e,r,function(){throw new RangeError("should not reach here")},[]),!0})};if(!Ke(Array.prototype.forEach)){var et=Array.prototype.forEach;Z(Array.prototype,"forEach",function(){return ne.Call(et,this.length>=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.map)){var tt=Array.prototype.map;Z(Array.prototype,"map",function(){return ne.Call(tt,this.length>=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.filter)){var nt=Array.prototype.filter;Z(Array.prototype,"filter",function(){return ne.Call(nt,this.length>=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.some)){var rt=Array.prototype.some;Z(Array.prototype,"some",function(){return ne.Call(rt,this.length>=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.every)){var it=Array.prototype.every;Z(Array.prototype,"every",function(){return ne.Call(it,this.length>=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.reduce)){var ot=Array.prototype.reduce;Z(Array.prototype,"reduce",function(){return ne.Call(ot,this.length>=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.reduceRight,!0)){var at=Array.prototype.reduceRight;Z(Array.prototype,"reduceRight",function(){return ne.Call(at,this.length>=0?this:[],arguments)},!0)}var st=8!==Number("0o10"),ut=2!==Number("0b10"),ct=m(qe,function(e){return 0===Number(e+0+e)});if(st||ut||ct){var lt=Number,ft=/^0b[01]+$/i,pt=/^0o[0-7]+$/i,dt=ft.test.bind(ft),ht=pt.test.bind(pt),mt=function(e){var t;if("function"==typeof e.valueOf&&(t=e.valueOf(),Y.primitive(t)))return t;if("function"==typeof e.toString&&(t=e.toString(),Y.primitive(t)))return t;throw new TypeError("No default value")},gt=Re.test.bind(Re),yt=He.test.bind(He),vt=function(){var e=function(t){var n;n=arguments.length>0?Y.primitive(t)?t:mt(t,"number"):0,"string"==typeof n&&(n=ne.Call(De,n),dt(n)?n=parseInt(E(n,2),2):ht(n)?n=parseInt(E(n,2),8):(gt(n)||yt(n))&&(n=0/0));var r=this,i=s(function(){return lt.prototype.valueOf.call(r),!0});return r instanceof e&&!i?new lt(n):lt(n)};return e}();ve(lt,vt,{}),y(vt,{NaN:lt.NaN,MAX_VALUE:lt.MAX_VALUE,MIN_VALUE:lt.MIN_VALUE,NEGATIVE_INFINITY:lt.NEGATIVE_INFINITY,POSITIVE_INFINITY:lt.POSITIVE_INFINITY}),Number=vt,w.redefine(O,"Number",vt)}var bt=Math.pow(2,53)-1;y(Number,{MAX_SAFE_INTEGER:bt,MIN_SAFE_INTEGER:-bt,EPSILON:2.220446049250313e-16,parseInt:O.parseInt,parseFloat:O.parseFloat,isFinite:z,isInteger:function(e){return z(e)&&ne.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&&F(e)<=Number.MAX_SAFE_INTEGER},isNaN:W}),g(Number,"parseInt",O.parseInt,Number.parseInt!==O.parseInt),[,1].find(function(e,t){return 0===t})||Z(Array.prototype,"find",Ue.find),0!==[,1].findIndex(function(e,t){return 0===t})&&Z(Array.prototype,"findIndex",Ue.findIndex);var wt=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),xt=function(e,t){l&&wt(e,t)&&Object.defineProperty(e,t,{enumerable:!1})},Tt=function(){for(var e=Number(this),t=arguments.length,n=t-e,r=new Array(0>n?0:n),i=e;t>i;++i)r[i-e]=arguments[i];return r},St=function(e){return function(t,n){return t[n]=e[n],t}},Ot=function(e,t){var n,r=i(Object(t));return ne.IsCallable(Object.getOwnPropertySymbols)&&(n=h(Object.getOwnPropertySymbols(Object(t)),wt(t))),d(A(r,n||[]),St(t),e)},jt={assign:function(e){var t=ne.ToObject(e,"Cannot convert undefined or null to object");return d(ne.Call(Tt,1,arguments),Ot,t)},is:function(e,t){return ne.SameValue(e,t)}},kt=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}}();if(kt&&Z(Object,"assign",jt.assign),y(Object,jt),l){var Ct={setPrototypeOf:function(e,t){var r,i=function(e,t){if(!ne.TypeIsObject(e))throw new TypeError("cannot set prototype on a non-object");if(null!==t&&!ne.TypeIsObject(t))throw new TypeError("can only set prototype to an object or null"+t)},o=function(e,t){return i(e,t),n(r,e,t),e};try{r=e.getOwnPropertyDescriptor(e.prototype,t).set,n(r,{},null)}catch(n){if(e.prototype!=={}[t])return;r=function(e){this[t]=e},o.polyfill=o(o({},null),e.prototype)instanceof e}return o}(Object,"__proto__")};y(Object,Ct)}Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&!function(){var e=Object.create(null),t=Object.getPrototypeOf,n=Object.setPrototypeOf;Object.getPrototypeOf=function(n){var r=t(n);return r===e?null:r},Object.setPrototypeOf=function(t,r){var i=null===r?e:r;return n(t,i)},Object.setPrototypeOf.polyfill=!1}();var At=!a(function(){Object.keys("foo")});if(!At){var Et=Object.keys;Z(Object,"keys",function(e){return Et(ne.ToObject(e))}),i=Object.keys}var Nt=a(function(){Object.keys(/a/g)});if(Nt){var _t=Object.keys;Z(Object,"keys",function(e){if(Y.regex(e)){var t=[];for(var n in e)H(e,n)&&N(t,n);return t}return _t(e)}),i=Object.keys}if(Object.getOwnPropertyNames){var Pt=!a(function(){Object.getOwnPropertyNames("foo")});if(!Pt){var It="object"===("undefined"==typeof window?"undefined":_typeof(window))?Object.getOwnPropertyNames(window):[],Mt=Object.getOwnPropertyNames;Z(Object,"getOwnPropertyNames",function(e){var t=ne.ToObject(e);if("[object Window]"===v(t))try{return Mt(t)}catch(e){return A([],It)}return Mt(t)})}}if(Object.getOwnPropertyDescriptor){var Lt=!a(function(){Object.getOwnPropertyDescriptor("foo","bar")});if(!Lt){var Ft=Object.getOwnPropertyDescriptor;Z(Object,"getOwnPropertyDescriptor",function(e,t){return Ft(ne.ToObject(e),t)})}}if(Object.seal){var Dt=!a(function(){Object.seal("foo")});if(!Dt){var qt=Object.seal;Z(Object,"seal",function(e){return ne.TypeIsObject(e)?qt(e):e})}}if(Object.isSealed){var Rt=!a(function(){Object.isSealed("foo")});if(!Rt){var Ht=Object.isSealed;Z(Object,"isSealed",function(e){return ne.TypeIsObject(e)?Ht(e):!0})}}if(Object.freeze){var $t=!a(function(){Object.freeze("foo")});if(!$t){var Bt=Object.freeze;Z(Object,"freeze",function(e){return ne.TypeIsObject(e)?Bt(e):e})}}if(Object.isFrozen){var Vt=!a(function(){Object.isFrozen("foo")});if(!Vt){var Wt=Object.isFrozen;Z(Object,"isFrozen",function(e){return ne.TypeIsObject(e)?Wt(e):!0})}}if(Object.preventExtensions){var zt=!a(function(){Object.preventExtensions("foo")});if(!zt){var Ut=Object.preventExtensions;Z(Object,"preventExtensions",function(e){return ne.TypeIsObject(e)?Ut(e):e})}}if(Object.isExtensible){var Gt=!a(function(){Object.isExtensible("foo")});if(!Gt){var Xt=Object.isExtensible;Z(Object,"isExtensible",function(e){return ne.TypeIsObject(e)?Xt(e):!1})}}if(Object.getPrototypeOf){var Jt=!a(function(){Object.getPrototypeOf("foo")});if(!Jt){var Yt=Object.getPrototypeOf;Z(Object,"getPrototypeOf",function(e){return Yt(ne.ToObject(e))})}}var Zt=l&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&ne.IsCallable(e.get)}();if(l&&!Zt){var Qt=function(){if(!ne.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e};w.getter(RegExp.prototype,"flags",Qt)}var Kt=l&&s(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),en=Q&&l&&function(){var e=/./;return e[B.match]=!1,RegExp(e)===e}(),tn=s(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),nn=tn&&s(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!tn||!nn){var rn=RegExp.prototype.toString;g(RegExp.prototype,"toString",function(){var e=ne.RequireObjectCoercible(this);if(Y.regex(e))return n(rn,e);var t=te(e.source),r=te(e.flags);return"/"+t+"/"+r},!0),w.preserveToString(RegExp.prototype.toString,rn)}if(l&&(!Kt||en)){var on=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,an=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},sn=function(){return this.source},un=ne.IsCallable(an.get)?an.get:sn,cn=RegExp,ln=function(){return function e(t,n){var r=ne.IsRegExp(t),i=this instanceof e;if(!i&&r&&"undefined"==typeof n&&t.constructor===e)return t;var o=t,a=n;return Y.regex(t)?(o=ne.Call(un,t),a="undefined"==typeof n?ne.Call(on,t):n,new e(o,a)):(r&&(o=t.source,a="undefined"==typeof n?t.flags:n),new cn(t,n))}}();ve(cn,ln,{$input:!0}),RegExp=ln,w.redefine(O,"RegExp",ln)}if(l){var fn={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};p(i(fn),function(e){e in RegExp&&!(fn[e]in RegExp)&&w.getter(RegExp,fn[e],function(){return RegExp[e]})})}we(RegExp);var pn=1/Number.EPSILON,dn=function(e){return e+pn-pn},hn=Math.pow(2,-23),mn=Math.pow(2,127)*(2-hn),gn=Math.pow(2,-126),yn=Math.E,vn=Math.LOG2E,bn=Math.LOG10E,wn=Number.prototype.clz;delete Number.prototype.clz;var xn={acosh:function(e){var t=Number(e);return W(t)||1>e?0/0:1===t?0:t===1/0?t:q(t/yn+R(t+1)*R(t-1)/yn)+1},asinh:function e(t){var n=Number(t);return 0!==n&&j(n)?0>n?-e(-n):q(n+R(n*n+1)):n},atanh:function(e){var t=Number(e);return W(t)||-1>t||t>1?0/0:-1===t?-(1/0):1===t?1/0:0===t?t:.5*q((1+t)/(1-t))},cbrt:function(e){var t=Number(e);if(0===t)return t;var n,r=0>t;return r&&(t=-t),t===1/0?n=1/0:(n=D(q(t)/3),n=(t/(n*n)+2*n)/3),r?-n:n},clz32:function(e){var t=Number(e),n=ne.ToUint32(t);return 0===n?32:wn?ne.Call(wn,n):31-L(q(n+.5)*vn)},cosh:function(e){var t=Number(e);return 0===t?1:W(t)?0/0:j(t)?(0>t&&(t=-t),t>21?D(t)/2:(D(t)+D(-t))/2):1/0},expm1:function(e){var t=Number(e);if(t===-(1/0))return-1;if(!j(t)||0===t)return t;if(F(t)>.5)return D(t)-1;for(var n=t,r=0,i=1;r+n!==r;)r+=n,i+=1,n*=t/i;return r},hypot:function(){for(var e=0,t=0,n=0;n<arguments.length;++n){var r=F(Number(arguments[n]));r>t?(e*=t/r*(t/r),e+=1,t=r):e+=r>0?r/t*(r/t):r}return t===1/0?1/0:t*R(e)},log2:function(e){return q(e)*vn},log10:function(e){return q(e)*bn},log1p:function(e){var t=Number(e);return-1>t||W(t)?0/0:0===t||t===1/0?t:-1===t?-(1/0):1+t-1===0?t:t*(q(1+t)/(1+t-1))},sign:U,sinh:function(e){var t=Number(e);return j(t)&&0!==t?F(t)<1?(Math.expm1(t)-Math.expm1(-t))/2:(D(t-1)-D(-t-1))*yn/2:t},tanh:function(e){var t=Number(e);return W(t)||0===t?t:t>=20?1:-20>=t?-1:(Math.expm1(t)-Math.expm1(-t))/(D(t)+D(-t))},trunc:function(e){var t=Number(e);return 0>t?-L(-t):L(t)},imul:function(e,t){var n=ne.ToUint32(e),r=ne.ToUint32(t),i=n>>>16&65535,o=65535&n,a=r>>>16&65535,s=65535&r;return o*s+(i*s+o*a<<16>>>0)|0},fround:function(e){var t=Number(e);if(0===t||t===1/0||t===-(1/0)||W(t))return t;var n=U(t),r=F(t);if(gn>r)return n*dn(r/gn/hn)*gn*hn;var i=(1+hn/Number.EPSILON)*r,o=i-(i-r);return o>mn||W(o)?n*(1/0):n*o}};y(Math,xn),g(Math,"log1p",xn.log1p,-1e-17!==Math.log1p(-1e-17)),g(Math,"asinh",xn.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),g(Math,"tanh",xn.tanh,-2e-17!==Math.tanh(-2e-17)),g(Math,"acosh",xn.acosh,Math.acosh(Number.MAX_VALUE)===1/0),g(Math,"cbrt",xn.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON>8),g(Math,"sinh",xn.sinh,-2e-17!==Math.sinh(-2e-17));var Tn=Math.expm1(10);g(Math,"expm1",xn.expm1,Tn>22025.465794806718||22025.465794806718>Tn);var Sn=Math.round,On=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(-.5+Number.EPSILON/3.99),jn=pn+1,kn=2*pn-1,Cn=[jn,kn].every(function(e){return Math.round(e)===e});g(Math,"round",function(e){var t=L(e),n=-1===t?-0:t+1;return.5>e-t?t:n},!On||!Cn),w.preserveToString(Math.round,Sn);var An=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=xn.imul,w.preserveToString(Math.imul,An)),2!==Math.imul.length&&Z(Math,"imul",function(){return ne.Call(An,Math,arguments)});var En=function(){var e=O.setTimeout;if("function"==typeof e||"object"===("undefined"==typeof e?"undefined":_typeof(e))){ne.IsPromise=function(e){return ne.TypeIsObject(e)?"undefined"==typeof e._promise?!1:!0:!1};var t,r=function(e){if(!ne.IsConstructor(e))throw new TypeError("Bad promise constructor");var t=this,n=function(e,n){if(void 0!==t.resolve||void 0!==t.reject)throw new TypeError("Bad Promise implementation!");t.resolve=e,t.reject=n};if(t.resolve=void 0,t.reject=void 0,t.promise=new e(n),!ne.IsCallable(t.resolve)||!ne.IsCallable(t.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ne.IsCallable(window.postMessage)&&(t=function(){var e=[],t="zero-timeout-message",n=function(n){N(e,n),window.postMessage(t,"*")},r=function(n){if(n.source===window&&n.data===t){if(n.stopPropagation(),0===e.length)return;var r=P(e);r()}};return window.addEventListener("message",r,!0),n});var i,o,a=function(){var e=O.Promise,t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}},s=ne.IsCallable(O.setImmediate)?O.setImmediate:"object"===("undefined"==typeof process?"undefined":_typeof(process))&&process.nextTick?process.nextTick:a()||(ne.IsCallable(t)?t():function(t){e(t,0)}),u=function(e){return e},c=function(e){throw e},l=0,f=1,p=2,d=0,h=1,m=2,g={},v=function(e,t,n){s(function(){b(e,t,n)})},b=function(e,t,n){var r,i;if(t===g)return e(n);try{r=e(n),i=t.resolve}catch(e){r=e,i=t.reject}i(r)},w=function(e,t){var n=e._promise,r=n.reactionLength;if(r>0&&(v(n.fulfillReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r>1))for(var i=1,o=0;r>i;i++,o+=3)v(n[o+d],n[o+m],t),e[o+d]=void 0,e[o+h]=void 0,e[o+m]=void 0;n.result=t,n.state=f,n.reactionLength=0},x=function(e,t){var n=e._promise,r=n.reactionLength;if(r>0&&(v(n.rejectReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r>1))for(var i=1,o=0;r>i;i++,o+=3)v(n[o+h],n[o+m],t),e[o+d]=void 0,e[o+h]=void 0,e[o+m]=void 0;n.result=t,n.state=p,n.reactionLength=0},T=function(e){var t=!1,n=function(n){var r;if(!t){if(t=!0,n===e)return x(e,new TypeError("Self resolution"));if(!ne.TypeIsObject(n))return w(e,n);try{r=n.then}catch(t){return x(e,t)}return ne.IsCallable(r)?void s(function(){j(e,n,r)}):w(e,n)}},r=function(n){return t?void 0:(t=!0,x(e,n))};return{resolve:n,reject:r}},S=function(e,t,r,i){e===o?n(e,t,r,i,g):n(e,t,r,i)},j=function(e,t,n){var r=T(e),i=r.resolve,o=r.reject;try{S(n,t,i,o)}catch(e){o(e)}},k=function(){var e=function(t){if(!(this instanceof e))throw new TypeError('Constructor Promise requires "new"');

if(this&&this._promise)throw new TypeError("Bad construction");if(!ne.IsCallable(t))throw new TypeError("not a valid resolver");var n=Oe(this,e,i,{_promise:{result:void 0,state:l,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),r=T(n),o=r.reject;try{t(r.resolve,o)}catch(e){o(e)}return n};return e}();i=k.prototype;var C=function(e,t,n,r){var i=!1;return function(o){if(!i&&(i=!0,t[e]=o,0===--r.count)){var a=n.resolve;a(t)}}},A=function(e,t,n){for(var r,i,o=e.iterator,a=[],s={count:1},u=0;;){try{if(r=ne.IteratorStep(o),r===!1){e.done=!0;break}i=r.value}catch(t){throw e.done=!0,t}a[u]=void 0;var c=t.resolve(i),l=C(u,a,n,s);s.count+=1,S(c.then,c,l,n.reject),u+=1}if(0===--s.count){var f=n.resolve;f(a)}return n.promise},E=function(e,t,n){for(var r,i,o,a=e.iterator;;){try{if(r=ne.IteratorStep(a),r===!1){e.done=!0;break}i=r.value}catch(t){throw e.done=!0,t}o=t.resolve(i),S(o.then,o,n.resolve,n.reject)}return n.promise};return y(k,{all:function(e){var t=this;if(!ne.TypeIsObject(t))throw new TypeError("Promise is not object");var n,i,o=new r(t);try{return n=ne.GetIterator(e),i={iterator:n,done:!1},A(i,t,o)}catch(e){var a=e;if(i&&!i.done)try{ne.IteratorClose(n,!0)}catch(e){a=e}var s=o.reject;return s(a),o.promise}},race:function(e){var t=this;if(!ne.TypeIsObject(t))throw new TypeError("Promise is not object");var n,i,o=new r(t);try{return n=ne.GetIterator(e),i={iterator:n,done:!1},E(i,t,o)}catch(e){var a=e;if(i&&!i.done)try{ne.IteratorClose(n,!0)}catch(e){a=e}var s=o.reject;return s(a),o.promise}},reject:function(e){var t=this;if(!ne.TypeIsObject(t))throw new TypeError("Bad promise constructor");var n=new r(t),i=n.reject;return i(e),n.promise},resolve:function(e){var t=this;if(!ne.TypeIsObject(t))throw new TypeError("Bad promise constructor");if(ne.IsPromise(e)){var n=e.constructor;if(n===t)return e}var i=new r(t),o=i.resolve;return o(e),i.promise}}),y(i,{catch:function(e){return this.then(null,e)},then:function(e,t){var n=this;if(!ne.IsPromise(n))throw new TypeError("not a promise");var i,o=ne.SpeciesConstructor(n,k),a=arguments.length>2&&arguments[2]===g;i=a&&o===k?g:new r(o);var s,y=ne.IsCallable(e)?e:u,b=ne.IsCallable(t)?t:c,w=n._promise;if(w.state===l){if(0===w.reactionLength)w.fulfillReactionHandler0=y,w.rejectReactionHandler0=b,w.reactionCapability0=i;else{var x=3*(w.reactionLength-1);w[x+d]=y,w[x+h]=b,w[x+m]=i}w.reactionLength+=1}else if(w.state===f)s=w.result,v(y,i,s);else{if(w.state!==p)throw new TypeError("unexpected Promise state");s=w.result,v(b,i,s)}return i.promise}}),g=new r(k),o=i.then,k}}();if(O.Promise&&(delete O.Promise.accept,delete O.Promise.defer,delete O.Promise.prototype.chain),"function"==typeof En){y(O,{Promise:En});var Nn=T(O.Promise,function(e){return e.resolve(42).then(function(){})instanceof e}),_n=!a(function(){O.Promise.reject(42).then(null,5).then(null,$)}),Pn=a(function(){O.Promise.call(3,$)}),In=function(e){var t=e.resolve(5);t.constructor={};var n=e.resolve(t);try{n.then(null,$).then(null,$)}catch(e){return!0}return t===n}(O.Promise),Mn=l&&function(){var e=0,t=Object.defineProperty({},"then",{get:function(){e+=1}});return Promise.resolve(t),1===e}(),Ln=function e(t){var n=new Promise(t);t(3,function(){}),this.then=n.then,this.constructor=e};Ln.prototype=Promise.prototype,Ln.all=Promise.all;var Fn=s(function(){return!!Ln.all([1,2])});if(Nn&&_n&&Pn&&!In&&Mn&&!Fn||(Promise=En,Z(O,"Promise",En)),1!==Promise.all.length){var Dn=Promise.all;Z(Promise,"all",function(){return ne.Call(Dn,this,arguments)})}if(1!==Promise.race.length){var qn=Promise.race;Z(Promise,"race",function(){return ne.Call(qn,this,arguments)})}if(1!==Promise.resolve.length){var Rn=Promise.resolve;Z(Promise,"resolve",function(){return ne.Call(Rn,this,arguments)})}if(1!==Promise.reject.length){var Hn=Promise.reject;Z(Promise,"reject",function(){return ne.Call(Hn,this,arguments)})}xt(Promise,"all"),xt(Promise,"race"),xt(Promise,"resolve"),xt(Promise,"reject"),we(Promise)}var $n=function(e){var t=i(d(e,function(e,t){return e[t]=!0,e},{}));return e.join(":")===t.join(":")},Bn=$n(["z","a","bb"]),Vn=$n(["z",1,"a","3",2]);if(l){var Wn=function(e){return Bn?"undefined"==typeof e||null===e?"^"+ne.ToString(e):"string"==typeof e?"$"+e:"number"==typeof e?Vn?e:"n"+e:"boolean"==typeof e?"b"+e:null:null},zn=function(){return Object.create?Object.create(null):{}},Un=function(e,t,i){if(r(i)||Y.string(i))p(i,function(e){if(!ne.TypeIsObject(e))throw new TypeError("Iterator value "+e+" is not an entry object");t.set(e[0],e[1])});else if(i instanceof e)n(e.prototype.forEach,i,function(e,n){t.set(n,e)});else{var o,a;if(null!==i&&"undefined"!=typeof i){if(a=t.set,!ne.IsCallable(a))throw new TypeError("bad map");o=ne.GetIterator(i)}if("undefined"!=typeof o)for(;;){var s=ne.IteratorStep(o);if(s===!1)break;var u=s.value;try{if(!ne.TypeIsObject(u))throw new TypeError("Iterator value "+u+" is not an entry object");n(a,t,u[0],u[1])}catch(e){throw ne.IteratorClose(o,!0),e}}}},Gn=function(e,t,i){if(r(i)||Y.string(i))p(i,function(e){t.add(e)});else if(i instanceof e)n(e.prototype.forEach,i,function(e){t.add(e)});else{var o,a;if(null!==i&&"undefined"!=typeof i){if(a=t.add,!ne.IsCallable(a))throw new TypeError("bad set");o=ne.GetIterator(i)}if("undefined"!=typeof o)for(;;){var s=ne.IteratorStep(o);if(s===!1)break;var u=s.value;try{n(a,t,u)}catch(e){throw ne.IteratorClose(o,!0),e}}}},Xn={Map:function(){var e={},t=function(e,t){this.key=e,this.value=t,this.next=null,this.prev=null};t.prototype.isRemoved=function(){return this.key===e};var r=function(e){return!!e._es6map},i=function(e,t){if(!ne.TypeIsObject(e)||!r(e))throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ne.ToString(e))},o=function(e,t){i(e,"[[MapIterator]]"),this.head=e._head,this.i=this.head,this.kind=t};o.prototype={next:function(){var e=this.i,t=this.kind,n=this.head;if("undefined"==typeof this.i)return Be();for(;e.isRemoved()&&e!==n;)e=e.prev;for(var r;e.next!==n;)if(e=e.next,!e.isRemoved())return r="key"===t?e.key:"value"===t?e.value:[e.key,e.value],this.i=e,Be(r);return this.i=void 0,Be()}},xe(o.prototype);var a,s=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var n=Oe(this,e,a,{_es6map:!0,_head:null,_storage:zn(),_size:0}),r=new t(null,null);return r.next=r.prev=r,n._head=r,arguments.length>0&&Un(e,n,arguments[0]),n};return a=s.prototype,w.getter(a,"size",function(){if("undefined"==typeof this._size)throw new TypeError("size method called on incompatible Map");return this._size}),y(a,{get:function(e){i(this,"get");var t=Wn(e);if(null!==t){var n=this._storage[t];return n?n.value:void 0}for(var r=this._head,o=r;(o=o.next)!==r;)if(ne.SameValueZero(o.key,e))return o.value},has:function(e){i(this,"has");var t=Wn(e);if(null!==t)return"undefined"!=typeof this._storage[t];for(var n=this._head,r=n;(r=r.next)!==n;)if(ne.SameValueZero(r.key,e))return!0;return!1},set:function(e,n){i(this,"set");var r,o=this._head,a=o,s=Wn(e);if(null!==s){if("undefined"!=typeof this._storage[s])return this._storage[s].value=n,this;r=this._storage[s]=new t(e,n),a=o.prev}for(;(a=a.next)!==o;)if(ne.SameValueZero(a.key,e))return a.value=n,this;return r=r||new t(e,n),ne.SameValue(-0,e)&&(r.key=0),r.next=this._head,r.prev=this._head.prev,r.prev.next=r,r.next.prev=r,this._size+=1,this},delete:function(t){i(this,"delete");var n=this._head,r=n,o=Wn(t);if(null!==o){if("undefined"==typeof this._storage[o])return!1;r=this._storage[o].prev,delete this._storage[o]}for(;(r=r.next)!==n;)if(ne.SameValueZero(r.key,t))return r.key=r.value=e,r.prev.next=r.next,r.next.prev=r.prev,this._size-=1,!0;return!1},clear:function(){i(this,"clear"),this._size=0,this._storage=zn();for(var t=this._head,n=t,r=n.next;(n=r)!==t;)n.key=n.value=e,r=n.next,n.next=n.prev=t;t.next=t.prev=t},keys:function(){return i(this,"keys"),new o(this,"key")},values:function(){return i(this,"values"),new o(this,"value")},entries:function(){return i(this,"entries"),new o(this,"key+value")},forEach:function(e){i(this,"forEach");for(var t=arguments.length>1?arguments[1]:null,r=this.entries(),o=r.next();!o.done;o=r.next())t?n(e,t,o.value[1],o.value[0],this):e(o.value[1],o.value[0],this)}}),xe(a,a.entries),s}(),Set:function(){var e,t=function(e){return e._es6set&&"undefined"!=typeof e._storage},r=function(e,n){if(!ne.TypeIsObject(e)||!t(e))throw new TypeError("Set.prototype."+n+" called on incompatible receiver "+ne.ToString(e))},o=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var n=Oe(this,t,e,{_es6set:!0,"[[SetData]]":null,_storage:zn()});if(!n._es6set)throw new TypeError("bad set");return arguments.length>0&&Gn(t,n,arguments[0]),n};e=o.prototype;var a=function(e){var t=e;if("^null"===t)return null;if("^undefined"===t)return void 0;var n=t.charAt(0);return"$"===n?E(t,1):"n"===n?+E(t,1):"b"===n?"btrue"===t:+t},s=function(e){if(!e["[[SetData]]"]){var t=e["[[SetData]]"]=new Xn.Map;p(i(e._storage),function(e){var n=a(e);t.set(n,n)}),e["[[SetData]]"]=t}e._storage=null};return w.getter(o.prototype,"size",function(){return r(this,"size"),this._storage?i(this._storage).length:(s(this),this["[[SetData]]"].size)}),y(o.prototype,{has:function(e){r(this,"has");var t;return this._storage&&null!==(t=Wn(e))?!!this._storage[t]:(s(this),this["[[SetData]]"].has(e))},add:function(e){r(this,"add");var t;return this._storage&&null!==(t=Wn(e))?(this._storage[t]=!0,this):(s(this),this["[[SetData]]"].set(e,e),this)},delete:function(e){r(this,"delete");var t;if(this._storage&&null!==(t=Wn(e))){var n=H(this._storage,t);return delete this._storage[t]&&n}return s(this),this["[[SetData]]"].delete(e)},clear:function(){r(this,"clear"),this._storage&&(this._storage=zn()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return r(this,"values"),s(this),this["[[SetData]]"].values()},entries:function(){return r(this,"entries"),s(this),this["[[SetData]]"].entries()},forEach:function(e){r(this,"forEach");var t=arguments.length>1?arguments[1]:null,i=this;s(i),this["[[SetData]]"].forEach(function(r,o){t?n(e,t,o,o,i):e(o,o,i)})}}),g(o.prototype,"keys",o.prototype.values,!0),xe(o.prototype,o.prototype.values),o}()};if(O.Map||O.Set){var Jn=s(function(){return 2===new Map([[1,2]]).get(1)});if(!Jn){var Yn=O.Map;O.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new Yn;return arguments.length>0&&Un(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,O.Map.prototype),t},O.Map.prototype=x(Yn.prototype),g(O.Map.prototype,"constructor",O.Map,!0),w.preserveToString(O.Map,Yn)}var Zn=new Map,Qn=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);return e.set(-0,e),e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}(),Kn=Zn.set(1,2)===Zn;if(!Qn||!Kn){var er=Map.prototype.set;Z(Map.prototype,"set",function(e,t){return n(er,this,0===e?0:e,t),this})}if(!Qn){var tr=Map.prototype.get,nr=Map.prototype.has;y(Map.prototype,{get:function(e){return n(tr,this,0===e?0:e)},has:function(e){return n(nr,this,0===e?0:e)}},!0),w.preserveToString(Map.prototype.get,tr),w.preserveToString(Map.prototype.has,nr)}var rr=new Set,ir=function(e){return e.delete(0),e.add(-0),!e.has(0)}(rr),or=rr.add(1)===rr;if(!ir||!or){var ar=Set.prototype.add;Set.prototype.add=function(e){return n(ar,this,0===e?0:e),this},w.preserveToString(Set.prototype.add,ar)}if(!ir){var sr=Set.prototype.has;Set.prototype.has=function(e){return n(sr,this,0===e?0:e)},w.preserveToString(Set.prototype.has,sr);var ur=Set.prototype.delete;Set.prototype.delete=function(e){return n(ur,this,0===e?0:e)},w.preserveToString(Set.prototype.delete,ur)}var cr=T(O.Map,function(e){var t=new e([]);return t.set(42,42),t instanceof e}),lr=Object.setPrototypeOf&&!cr,fr=function(){try{return!(O.Map()instanceof O.Map)}catch(e){return e instanceof TypeError}}();if(0!==O.Map.length||lr||!fr){var pr=O.Map;O.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new pr;return arguments.length>0&&Un(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},O.Map.prototype=pr.prototype,g(O.Map.prototype,"constructor",O.Map,!0),w.preserveToString(O.Map,pr)}var dr=T(O.Set,function(e){var t=new e([]);return t.add(42,42),t instanceof e}),hr=Object.setPrototypeOf&&!dr,mr=function(){try{return!(O.Set()instanceof O.Set)}catch(e){return e instanceof TypeError}}();if(0!==O.Set.length||hr||!mr){var gr=O.Set;O.Set=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');var t=new gr;return arguments.length>0&&Gn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},O.Set.prototype=gr.prototype,g(O.Set.prototype,"constructor",O.Set,!0),w.preserveToString(O.Set,gr)}var yr=new O.Map,vr=!s(function(){return yr.keys().next().done});if(("function"!=typeof O.Map.prototype.clear||0!==(new O.Set).size||0!==yr.size||"function"!=typeof O.Map.prototype.keys||"function"!=typeof O.Set.prototype.keys||"function"!=typeof O.Map.prototype.forEach||"function"!=typeof O.Set.prototype.forEach||u(O.Map)||u(O.Set)||"function"!=typeof yr.keys().next||vr||!cr)&&y(O,{Map:Xn.Map,Set:Xn.Set},!0),O.Set.prototype.keys!==O.Set.prototype.values&&g(O.Set.prototype,"keys",O.Set.prototype.values,!0),xe(Object.getPrototypeOf((new O.Map).keys())),xe(Object.getPrototypeOf((new O.Set).keys())),f&&"has"!==O.Set.prototype.has.name){var br=O.Set.prototype.has;Z(O.Set.prototype,"has",function(e){return n(br,this,e)})}}y(O,Xn),we(O.Map),we(O.Set)}var wr=function(e){if(!ne.TypeIsObject(e))throw new TypeError("target must be an object")},xr={apply:function(){return ne.Call(ne.Call,null,arguments)},construct:function(e,t){if(!ne.IsConstructor(e))throw new TypeError("First argument must be a constructor.");var n=arguments.length>2?arguments[2]:e;if(!ne.IsConstructor(n))throw new TypeError("new.target must be a constructor.");return ne.Construct(e,t,n,"internal")},deleteProperty:function(e,t){if(wr(e),l){var n=Object.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return!1}return delete e[t]},has:function(e,t){return wr(e),t in e}};Object.getOwnPropertyNames&&Object.assign(xr,{ownKeys:function(e){wr(e);var t=Object.getOwnPropertyNames(e);return ne.IsCallable(Object.getOwnPropertySymbols)&&_(t,Object.getOwnPropertySymbols(e)),t}});var Tr=function(e){return!a(e)};if(Object.preventExtensions&&Object.assign(xr,{isExtensible:function(e){return wr(e),Object.isExtensible(e)},preventExtensions:function(e){return wr(e),Tr(function(){Object.preventExtensions(e)})}}),l){var Sr=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(!r){var i=Object.getPrototypeOf(e);return null===i?void 0:Sr(i,t,n)}return"value"in r?r.value:r.get?ne.Call(r.get,n):void 0},Or=function(e,t,r,i){var o=Object.getOwnPropertyDescriptor(e,t);if(!o){var a=Object.getPrototypeOf(e);if(null!==a)return Or(a,t,r,i);o={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if("value"in o){if(!o.writable)return!1;if(!ne.TypeIsObject(i))return!1;var s=Object.getOwnPropertyDescriptor(i,t);return s?ee.defineProperty(i,t,{value:r}):ee.defineProperty(i,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}return o.set?(n(o.set,i,r),!0):!1};Object.assign(xr,{defineProperty:function(e,t,n){return wr(e),Tr(function(){Object.defineProperty(e,t,n)})},getOwnPropertyDescriptor:function(e,t){return wr(e),Object.getOwnPropertyDescriptor(e,t)},get:function(e,t){wr(e);var n=arguments.length>2?arguments[2]:e;return Sr(e,t,n)},set:function(e,t,n){wr(e);var r=arguments.length>3?arguments[3]:e;return Or(e,t,n,r)}})}if(Object.getPrototypeOf){var jr=Object.getPrototypeOf;xr.getPrototypeOf=function(e){return wr(e),jr(e)}}if(Object.setPrototypeOf&&xr.getPrototypeOf){var kr=function(e,t){for(var n=t;n;){if(e===n)return!0;n=xr.getPrototypeOf(n)}return!1};Object.assign(xr,{setPrototypeOf:function(e,t){if(wr(e),null!==t&&!ne.TypeIsObject(t))throw new TypeError("proto must be an object or null");return t===ee.getPrototypeOf(e)?!0:ee.isExtensible&&!ee.isExtensible(e)?!1:kr(e,t)?!1:(Object.setPrototypeOf(e,t),!0)}})}var Cr=function(e,t){if(ne.IsCallable(O.Reflect[e])){var n=s(function(){return O.Reflect[e](1),O.Reflect[e](0/0),O.Reflect[e](!0),!0});n&&Z(O.Reflect,e,t)}else g(O.Reflect,e,t)};Object.keys(xr).forEach(function(e){Cr(e,xr[e])});var Ar=O.Reflect.getPrototypeOf;if(f&&Ar&&"getPrototypeOf"!==Ar.name&&Z(O.Reflect,"getPrototypeOf",function(e){return n(Ar,O.Reflect,e)}),O.Reflect.setPrototypeOf&&s(function(){return O.Reflect.setPrototypeOf(1,{}),!0})&&Z(O.Reflect,"setPrototypeOf",xr.setPrototypeOf),O.Reflect.defineProperty&&(s(function(){var e=!O.Reflect.defineProperty(1,"test",{value:1}),t="function"!=typeof Object.preventExtensions||!O.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})||Z(O.Reflect,"defineProperty",xr.defineProperty)),O.Reflect.construct&&(s(function(){var e=function(){};return O.Reflect.construct(function(){},[],e)instanceof e})||Z(O.Reflect,"construct",xr.construct)),"Invalid Date"!==String(new Date(0/0))){var Er=Date.prototype.toString,Nr=function(){var e=+this;return e!==e?"Invalid Date":ne.Call(Er,this)};Z(Date.prototype,"toString",Nr)}var _r={anchor:function(e){return ne.CreateHTML(this,"a","name",e)},big:function(){return ne.CreateHTML(this,"big","","")},blink:function(){return ne.CreateHTML(this,"blink","","")},bold:function(){return ne.CreateHTML(this,"b","","")},fixed:function(){return ne.CreateHTML(this,"tt","","")},fontcolor:function(e){return ne.CreateHTML(this,"font","color",e)},fontsize:function(e){return ne.CreateHTML(this,"font","size",e)},italics:function(){return ne.CreateHTML(this,"i","","")},link:function(e){return ne.CreateHTML(this,"a","href",e)},small:function(){return ne.CreateHTML(this,"small","","")},strike:function(){return ne.CreateHTML(this,"strike","","")},sub:function(){return ne.CreateHTML(this,"sub","","")},sup:function(){return ne.CreateHTML(this,"sup","","")}};p(Object.keys(_r),function(e){var t=String.prototype[e],r=!1;if(ne.IsCallable(t)){var i=n(t,"",' " '),o=A([],i.match(/"/g)).length;r=i!==i.toLowerCase()||o>2}else r=!0;r&&Z(String.prototype,e,_r[e])});var Pr=function(){if(!Q)return!1;var e="object"===("undefined"==typeof JSON?"undefined":_typeof(JSON))&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!e)return!1;if("undefined"!=typeof e(B()))return!0;if("[null]"!==e([B()]))return!0;var t={a:B()};return t[B()]=!0,"{}"!==e(t)?!0:!1}(),Ir=s(function(){return Q?"{}"===JSON.stringify(Object(B()))&&"[{}]"===JSON.stringify([Object(B())]):!0});if(Pr||!Ir){var Mr=JSON.stringify;Z(JSON,"stringify",function(e){if("symbol"!==("undefined"==typeof e?"undefined":_typeof(e))){var t;arguments.length>1&&(t=arguments[1]);var i=[e];if(r(t))i.push(t);else{var o=ne.IsCallable(t)?t:null,a=function(e,t){var r=o?n(o,this,e,t):t;return"symbol"!==("undefined"==typeof r?"undefined":_typeof(r))?Y.symbol(r)?St({})(r):r:void 0};i.push(a)}return arguments.length>2&&i.push(arguments[2]),Mr.apply(this,i)}})}return O}),define("jqueryplugins",["jquery"],function(e){e.prototype.extend({popAttr:function(e){var t=this.attr(e);return this.removeAttr(e),t},popData:function(e){var t=this.data(e);return this.removeData(e),t},tag:function(){return this[0]&&this[0].tagName&&this[0].tagName.toLowerCase()},textNodes:function(){return 1===this.length&&this[0]instanceof Text?[this[0]]:Array.from(this.add(this.contents().add(this.find("*").contents())).filter(function(){return this instanceof Text})).sort(function(e,t){return 2&e.compareDocumentPosition(t)?1:-1})},findAndFilter:function(e){return this.filter(e).add(this.find(e))}})}),function(){function e(){for(var e=0;e<arguments.length;e++)for(var t in arguments[e])this[t]=arguments[e][t]}function t(e,t){e.childAt=e.childAt||{};for(var n=t.start;n<t.end;n+=1)e.childAt[n]=t}function n(e,t,n,r){return!(e.canFollow&&!(e.canFollow.indexOf(n&&n.type)>-1)||e.cannotFollow&&(-1!==e.cannotFollow.indexOf(n&&n.type)||e.cannotFollow.indexOf("text")>-1&&r)||e.peek&&e.peek.toLowerCase()!==t.slice(0,e.peek.length).toLowerCase())}function r(e){for(var t=e.innerText,r=[],o=0,s=o,u=t.length,c=null;u>o;){for(var l=t.slice(o),f=(r.length?r[0]:e).innerMode,p=0,d=f.length;d>p;p+=1){var h=a[f[p]];if(n(h,l,c,o>s)&&h.pattern.test(l)){var m=h.pattern.exec(l),g=h.fn(m),y=!1,v=0;if(g.matches){for(;v<r.length;v+=1){var b=r[v].type;if(b in g.matches){y=!0;break}0===b.indexOf("verbatim")&&(b="verbatimOpener"),g.cannotCross&&g.cannotCross.indexOf(b)>-1&&(v=r.length-1)}if(v>=r.length&&!g.isFront)continue}o>s&&e.addChild({type:"text",text:t.slice(s,o),innerMode:f}),c=e.addChild(g),o+=c.text.length,s=o,y&&(i(e,c,r[v]),r=r.slice(v+1)),c.isFrontToken()&&r.unshift(c);break}}p===d&&(o+=1,null===c&&(c={type:"text"}))}for(o>s&&e.addChild({type:"text",text:t.slice(s,o),innerMode:(r.length?r[0]:e).innerMode});r.length>0;)r.shift().demote();return e}function i(e,n,r){var i=e.children.indexOf(n),o=e.children.indexOf(r);n.children=e.children.splice(o+1,i-(o+1)),n.children.forEach(function(e){t(n,e)}),n.type=n.matches[r.type],n.innerText="";for(var a=0,s=n.children.length;s>a;a++)n.innerText+=n.children[a].text;n.start=r.start,n.text=r.text+n.innerText+n.text,Object.keys(r).forEach(function(e){Object.hasOwnProperty.call(n,e)||(n[e]=r[e])}),n.isFront&&(n.isFront=!1),e.children.splice(o,1),t(e,n)}var o=void 0,a={};e.prototype={constructor:e,addChild:function(n){var i=this.lastChildEnd(),o=new e({start:i,end:n.text&&i+n.text.length,children:[]},n);return o.innerText&&r(o),this.children.push(o),t(this,o),o},lastChild:function(){return this.children?this.children[this.children.length-1]||null:null},lastChildEnd:function(){var e=this.lastChild();return e?e.end:this.start+Math.max(0,this.text.indexOf(this.innerText))},tokenAt:function(e){if(e<this.start||e>=this.end)return null;if(this.childAt)return this.childAt[e]&&this.childAt[e].tokenAt(e)||this;if(this.children.length)for(var t=0;t<this.children.length;t+=1){var n=this.children[t].tokenAt(e);if(n)return n}return this},pathAt:function(e){if(e<this.start||e>=this.end)return[];if(this.childAt)return(this.childAt[e]&&this.childAt[e].pathAt(e)||[]).concat(this);var t=[];if(this.children.length)for(var n=0;n<this.children.length;n+=1){var r=this.children[n].pathAt(e);if(r.length){t.concat(r);break}}return t.concat(this)},nearestTokenAt:function(e){return e<this.start||e>=this.end?null:this.children?this.children.reduce(function(t,n){return t||(e>=n.start&&e<n.end?n:null)},null):this},everyLeaf:function(e){return this.children&&0!==this.children.length?this.children.reduce(function(t,n){return n.everyLeaf(e)&&t},!0):!!e(this)},isWhitespace:function(){return this.everyLeaf(function(e){return"whitespace"===e.type||!e.text.trim()})},isFrontToken:function(){return this.isFront},isBackToken:function(){return"matches"in this},demote:function(){this.type="text"},error:function(e){this.type="error",this.message=e},toString:function(){var e=this.type+"("+this.start+"\u2192"+this.end+")";return this.children&&this.children.length>0&&(e+="["+this.children+"]"),e}},o={lex:function(t,n){return r(new e({type:"root",start:n||0,end:t.length,text:t,innerText:t,children:[],childAt:{},innerMode:o.modes.start}))},rules:a,modes:{}},"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=o:"function"==typeof define&&define.amd?define("lexer",[],function(){return o}):this&&this.loaded?(this.modules||(this.modules={}),this.modules.Lexer=o):this.TwineLexer=o}.call(eval("this")||("undefined"!=typeof global?global:window)),function(){function e(t){return t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))?(Object.keys(t).forEach(function(n){t[n]=e(t[n])}),t):(t+"").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function t(){return"[^"+Array.apply(0,arguments).map(e).join("")+"]*"}function n(e){return function(){return"("+e+Array.apply(0,arguments).join("|")+")"}}var r=void 0,i=n("?:"),o=n("?!"),a=n("?="),s="[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*",u=s.replace("*","+"),c="\\b",l="\\\\\\n\\\\?|\\n\\\\",f="\\n(?!\\\\)",p="[\\w\\-\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]",d=p.replace("\\-",""),h=i("\\n","$"),m="("+i(l,"[^\\n]")+"+)",g="\\*",y=s+"("+g+"+)"+u+m+h,v="(?:0\\.)",b=s+"("+v+"+)"+u+m+h,w=s+"-{3,}"+s+h,x=s+"(#{1,6})"+s+m+h,T=s+"(==+>|<=+|=+><=+|<==+>)"+s+h,S=s+"(=+\\|+|\\|+=+|=+\\|+=+|\\|=+\\|)"+s+h,O={opener:"\\[\\[(?!\\[)",text:"("+t("]")+")",rightSeparator:i("\\->","\\|"),leftSeparator:"<\\-",closer:"\\]\\]",legacySeparator:"\\|",legacyText:"("+i("[^\\|\\]]","\\]"+o("\\]"))+"+)"},j=d+"*"+d.replace("\\w","a-zA-Z")+d+"*",k="\\$("+j+")",C="'s"+u+"("+j+")",A="("+j+")"+u+"of"+c+o("it"+c),E="'s"+u,N="of"+c,_=i("it","time")+c,P="its"+u+"("+j+")",I="its"+u,M="("+j+")"+u+"of"+u+"it"+c,L="of"+c+u+"it"+c,F={opener:"\\(",name:"("+i(p+"+",k)+"):"+o("\\/"),closer:"\\)"},D="<<[^>\\s]+\\s*(?:\\\\.|'(?:[^'\\\\]*\\\\.)*[^'\\\\]*'|\"(?:[^\"\\\\]*\\\\.)*[^\"\\\\]*\"|[^'\"\\\\>]|>(?!>))*>>",q=i("=<","=>","[gl]te?"+c,"n?eq"+c,"isnot"+c,"are"+c,"x"+c),R={name:"[a-zA-Z][\\w\\-]*",attrs:"(?:\"[^\"]*\"|'[^']*'|[^'\">])*?"},H="\\|("+p+"+)(>|\\))",$="(<|\\()("+p+"+)\\|",B="_("+j+")"+c,V="\\b(\\d+(?:\\.\\d+)?(?:[eE][+\\-]?\\d+)?)"+o("m?s")+c;O.main=O.opener+i(O.text+O.rightSeparator,O.text.replace("*","*?")+O.leftSeparator)+O.text,r={upperLetter:"[A-Z\\u00c0-\\u00de\\u0150\\u0170]",lowerLetter:"[a-z0-9_\\-\\u00df-\\u00ff\\u0151\\u0171]",anyLetter:p,anyLetterStrict:d,whitespace:u,escapedLine:l,br:f,commentFront:"<!--",commentBack:"-->",tag:"<\\/?"+R.name+R.attrs+">",tagPeek:"<",scriptStyleTag:"<("+i("script","style")+")"+R.attrs+">[^]*?<\\/\\1>",scriptStyleTagOpener:"<",url:"("+i("https?","mailto","javascript","ftp","data")+":\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])",bullet:g,hr:w,heading:x,align:T,column:S,bulleted:y,numbered:b,strikeOpener:e("~~"),italicOpener:e("//"),boldOpener:e("''"),supOpener:e("^^"),strongFront:e("**"),strongBack:e("**"),emFront:e("*"),emBack:e("*"),verbatimOpener:"`+",collapsedFront:"{",collapsedBack:"}",hookAppendedFront:"\\[",hookPrependedFront:H+"\\[",hookFront:"\\[",hookBack:"\\]"+o($),hookAppendedBack:"\\]"+$,passageLink:O.main+O.closer,passageLinkPeek:"[[",legacyLink:O.opener+O.legacyText+O.legacySeparator+O.legacyText+O.closer,legacyLinkPeek:"[[",simpleLink:O.opener+O.legacyText+O.closer,simpleLinkPeek:"[[",macroFront:F.opener+a(F.name),macroFrontPeek:"(",macroName:F.name,groupingFront:"\\("+o(F.name),groupingFrontPeek:"(",groupingBack:"\\)",twine1Macro:D,twine1MacroPeek:"<<",property:C,propertyPeek:"'s",belongingProperty:A,possessiveOperator:E,belongingOperator:N,belongingOperatorPeek:"of",itsOperator:I,itsOperatorPeek:"its",belongingItOperator:L,belongingItOperatorPeek:"of",variable:k,variablePeek:"$",tempVariable:B,tempVariablePeek:"_",hookRef:"\\?("+p+"+)\\b",hookRefPeek:"?",cssTime:"(\\d+\\.?\\d*|\\d*\\.?\\d+)(m?s)"+c,colour:i(i("Red","Orange","Yellow","Lime","Green","Cyan","Aqua","Blue","Navy","Purple","Fuchsia","Magenta","White","Gray","Grey","Black"),"#[\\dA-Fa-f]{3}(?:[\\dA-Fa-f]{3})?"),number:V,boolean:i("true","false")+c,identifier:_,itsProperty:P,itsPropertyPeek:"its",belongingItProperty:M,escapedStringChar:"\\\\[^\\n]",singleStringOpener:"'",doubleStringOpener:'"',is:"is"+o(u+"not",u+"in",u+"<",u+">")+c,isNot:"is"+u+"not"+c,and:"and"+c,or:"or"+c,not:"not"+c,inequality:"((?:is(?:"+u+"not)?"+s+")*)("+i("<(?!=)","<=",">(?!=)",">=")+")",isIn:"is"+u+"in"+c,contains:"contains"+c,addition:e("+")+o("="),subtraction:e("-")+o("="),multiplication:e("*")+o("="),division:i("/","%")+o("="),comma:",",spread:"\\.\\.\\."+o("\\."),to:i("to"+c,"="),into:"into"+c,making:"making"+c,where:"where"+c,via:"via"+c,with:"with"+c,each:"each"+c,augmentedAssign:i("\\+","\\-","\\*","\\/","%")+"=",incorrectOperator:q},"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=r:"function"==typeof define&&define.amd?define("patterns",[],function(){return r}):this&&this.loaded?(this.modules||(this.modules={}),this.modules.Patterns=r):this.Patterns=r}.call(eval("this")||("undefined"!=typeof global?global:window)),function(){function e(e){function t(e){return e=e||"innerText",function(t){var n=t.reduceRight(function(e,t,n){return e||(n?t:"")},""),r={};return r[e]=n,r}}function r(e,t){var n={};return n[e]=t,function(){return{isFront:!0,matches:n,cannotCross:["verbatimOpener"]}}}function i(e,t){return Object.keys(t).forEach(function(n){var r=t[n].fn;t[n].fn=function(t){var i=r(t);return i.text||(i.text=t[0]),i.type||(i.type=n),i.innerMode||(i.innerMode=e),i}}),t}var o=Object.bind(0,null),a=[],s=[],u=i(a,{hr:{fn:o},bulleted:{fn:function(e){return{depth:e[1].length,innerText:e[2]}}},numbered:{fn:function(e){return{depth:e[1].length/2,innerText:e[2]}}},heading:{fn:function(e){return{depth:e[1].length,innerText:e[2]}}},align:{fn:function(e){var t=void 0,n=e[1],r=n.indexOf("><");return~r?(t=Math.round(r/(n.length-2)*50),25===t&&(t="center")):"<"===n[0]&&">"===n.slice(-1)?t="justify":n.indexOf(">")>-1?t="right":n.indexOf("<")>-1&&(t="left"),{align:t}}},column:{fn:function(e){var t=void 0,n=e[1],r=n.indexOf("|");return r&&r<n.length-1?t="center":"|"===n[0]&&"|"===n.slice(-1)?t="none":r===n.length-1?t="right":r||(t="left"),{column:t,width:/\|+/.exec(n)[0].length,marginLeft:/^=*/.exec(n)[0].length,marginRight:/=*$/.exec(n)[0].length}}}});Object.keys(u).forEach(function(e){u[e].canFollow=[null,"br","hr","bulleted","numbered","heading","align"],u[e].cannotFollow=["text"]});var c=i(a,{twine1Macro:{fn:function(){return{type:"error",message:"Harlowe macros use a different syntax to Twine 1 and SugarCube macros."}}},emBack:{fn:function(){return{matches:{emFront:"em"},cannotCross:["verbatimOpener"]}}},strongBack:{fn:function(){return{matches:{strongFront:"strong"},cannotCross:["verbatimOpener"]}}},strongFront:{fn:function(){return{isFront:!0}}},emFront:{fn:function(){return{isFront:!0}}},boldOpener:{fn:r("boldOpener","bold")},italicOpener:{fn:r("italicOpener","italic")},strikeOpener:{fn:r("strikeOpener","strike")},supOpener:{fn:r("supOpener","sup")},commentFront:{fn:function(){return{isFront:!0}}},commentBack:{fn:function(){return{matches:{commentFront:"comment"}}}},scriptStyleTag:{fn:o},tag:{fn:o},url:{fn:o},hookPrependedFront:{fn:function(e){return{name:e[1],hidden:")"===e[2],isFront:!0,tagPosition:"prepended"}}},hookFront:{fn:function(){return{isFront:!0}}},hookBack:{fn:function(){return{matches:{hookPrependedFront:"hook",hookFront:"hook"},cannotCross:["verbatimOpener"]}}},hookAppendedBack:{fn:function(e){return{name:e[2],hidden:"("===e[1],tagPosition:"appended",matches:{hookFront:"hook"},cannotCross:["verbatimOpener"]}}},verbatimOpener:{fn:function(e){var t=e[0].length,n={};return n["verbatim"+t]="verbatim",{type:"verbatim"+t,isFront:!0,matches:n}}},collapsedFront:{fn:function(){return{isFront:!0}}},collapsedBack:{fn:function(){return{matches:{collapsedFront:"collapsed"},cannotCross:["verbatimOpener"]}}},escapedLine:{fn:o},legacyLink:{fn:function(e){return{type:"twineLink",innerText:e[1],passage:e[2]}}},br:{fn:o}}),l=i(s,{macroFront:{fn:function(e){return{isFront:!0,name:e[1]}}},groupingBack:{fn:function(){return{matches:{groupingFront:"grouping",macroFront:"macro"},cannotCross:["singleStringOpener","doubleStringOpener"]}}},passageLink:{fn:function(e){var t=e[1],n=e[2],r=e[3];return{type:"twineLink",innerText:n?r:t,passage:t?r:n}}},simpleLink:{fn:function(e){return{type:"twineLink",innerText:e[1],passage:e[1]}}},variable:{fn:t("name")},tempVariable:{fn:t("name")}}),f=i(s,Object.assign({macroName:{canFollow:["macroFront"],fn:function(e){return e[2]?{isMethodCall:!0,innerText:e[2]}:{isMethodCall:!1}}},groupingFront:{fn:function(){return{isFront:!0}}},property:{fn:t("name"),canFollow:["variable","hookRef","property","tempVariable","colour","itsProperty","belongingItProperty","macro","grouping","string","boolean","number"]},possessiveOperator:{
fn:o},itsProperty:{cannotFollow:["text"],fn:t("name")},itsOperator:{cannotFollow:["text"],fn:o},belongingItProperty:{cannotFollow:["text"],fn:t("name")},belongingItOperator:{cannotFollow:["text"],fn:o},belongingProperty:{cannotFollow:["text"],fn:t("name")},belongingOperator:{cannotFollow:["text"],fn:o},escapedStringChar:{fn:function(){return{type:"text"}}},singleStringOpener:{fn:function(){return{isFront:!0,matches:{singleStringOpener:"string"}}}},doubleStringOpener:{fn:function(){return{isFront:!0,matches:{doubleStringOpener:"string"}}}},hookRef:{fn:t("name")},cssTime:{fn:function(e){return{value:+e[1]*("s"===e[2].toLowerCase()?1e3:1)}}},colour:{cannotFollow:["text"],fn:function(e){var t,n=e[0].toLowerCase(),r={red:"e61919",orange:"e68019",yellow:"e5e619",lime:"80e619",green:"19e619",cyan:"19e5e6",aqua:"19e5e6",blue:"197fe6",navy:"1919e6",purple:"7f19e6",fuchsia:"e619e5",magenta:"e619e5",white:"fff",black:"000",gray:"888",grey:"888"};return t=Object.hasOwnProperty.call(r,n)?"#"+r[n]:n,{colour:t}}},number:{fn:function(e){return{value:parseFloat(e[0])}}},addition:{fn:o},subtraction:{fn:o},multiplication:{fn:o},division:{fn:o},inequality:{fn:function(e){return{operator:e[2],negate:e[1].indexOf("not")>-1}}},augmentedAssign:{fn:function(e){return{operator:e[0][0]}}},identifier:{fn:t("name"),cannotFollow:["text"]},whitespace:{fn:o,cannotFollow:"text"},incorrectOperator:{fn:function(e){var t={"=>":">=","=<":"<=",gte:">=",lte:"<=",gt:">",lt:"<",eq:"is",isnot:"is not",neq:"is not",are:"is",x:"*"}[e[0].toLowerCase()];return{type:"error",message:"Please say "+(t?"'"+t+"'":"something else")+" instead of '"+e[0]+"'."}},cannotFollow:"text"}},["boolean","is","to","into","where","via","with","making","each","and","or","not","isNot","contains","isIn"].reduce(function(e,t){return e[t]={fn:o,cannotFollow:["text"]},e},{}),["comma","spread","addition","subtraction","multiplication","division"].reduce(function(e,t){return e[t]={fn:o},e},{})));a.push.apply(a,_toConsumableArray(Object.keys(u)).concat(_toConsumableArray(Object.keys(l)),_toConsumableArray(Object.keys(c)))),s.push.apply(s,_toConsumableArray(Object.keys(l)).concat(_toConsumableArray(Object.keys(f))));var p=Object.assign({},u,c,l,f);return Object.keys(p).forEach(function(e){var t=n[e];p[e].pattern="string"!=typeof t?t:new RegExp("^(?:"+t+")","i"),n[e+"Peek"]&&(p[e].peek=n[e+"Peek"])}),Object.assign(e.rules,p),e.modes.start=e.modes.markup=a,e.modes.macro=s,e}function t(t){return Object.freeze({lex:e(t).lex,Patterns:n})}var n=void 0;Object.assign=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},"object"===("undefined"==typeof module?"undefined":_typeof(module))?(n=require("./patterns"),module.exports=t(require("./lexer"))):"function"==typeof define&&define.amd?define("markup",["lexer","patterns"],function(e,r){return n=r,t(e)}):this&&this.loaded&&this.modules?(n=this.modules.Patterns,this.modules.Markup=t(this.modules.Lexer)):(n=this.Patterns,this.TwineMarkup=t(this.TwineLexer))}.call(eval("this")||("undefined"!=typeof global?global:window)),define("utils/selectors",[],function(){return Object.freeze({passage:"tw-passage",story:"tw-story",sidebar:"tw-sidebar",internalLink:"tw-link",brokenLink:"tw-broken-link",hook:"tw-hook",enchantment:"tw-enchantment",expression:"tw-expression",script:"[role=script]",stylesheet:"[role=stylesheet]",storyData:"tw-storydata",passageData:"tw-passagedata",collapsed:"tw-collapsed"})}),define("utils/polyfills",[],function(){var e=Array.prototype;"function"!=typeof e.includes&&(e.includes=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Number.isNaN(t)&&Number.isFinite(n)&&"undefined"!=typeof t)return e.indexOf.call(this,t,n)>-1;var r=Object(this),i=parseInt(r.length);if(0>=i)return!1;for(var o=n>=0?n:Math.max(0,i+n);i>o;){if(Object.is(t,r[o]))return!0;o+=1}return!1})}),define("utils",["jquery","markup","utils/selectors","utils/polyfills"],function(e,t,n){function r(t,n){var r=o[n];if(!r[t]){var i=e("<p>").appendTo(document.body).attr("data-t8n",t).addClass(n);r[t]=c.cssTimeUnit(i.css("animation-duration"))+c.cssTimeUnit(i.css("animation-delay")),i.remove()}return r[t]}var i={configurable:0,writable:0},o={"transition-in":Object.create(null),"transition-out":Object.create(null)},a="audio,blockquote,canvas,div,h1,h2,h3,h4,h5,hr,ol,p,pre,table,ul,video,tw-align,tw-story,tw-passage".split(","),s="a,b,i,em,strong,sup,sub,abbr,acronym,s,strike,del,big,small,script,img,button,input,tw-link,tw-broken-link,tw-verbatim,tw-collapsed,tw-error".split(","),u=["audio"],c=void 0,l=void 0;return c={lockProperty:function(e,t,n){var r=Object.create(i);return n&&(r.value=n),Object.defineProperty(e,t,r),e},toJSLiteral:function(e){return e instanceof Map?"(new Map("+c.toJSLiteral([].concat(_toConsumableArray(e.entries())))+"))":e instanceof Set?"(new Set("+c.toJSLiteral([].concat(_toConsumableArray(e.values())))+"))":JSON.stringify(e)},cssTimeUnit:function(e){return e=e.toLowerCase(),"ms"===e.slice(-2)?+e.slice(0,-2)||0:"s"===e.slice(-1)?1e3*+e.slice(0,-1)||0:0},nth:function(e){var t=(+e+"").slice(-1);return e+("1"===t?"st":"2"===t?"nd":"3"===t?"rd":"th")},plural:function(e,t){return e+" "+t+(e>1?"s":"")},andList:function(e){return 1===e.length?e[0]:e.slice(0,-1).join(", ")+" and "+e[e.length-1]},realWhitespace:"[ \\n\\r\\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]",anyRealLetter:"[\\dA-Za-z\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]",unescape:function(e){return e.replace(/&(?:amp|lt|gt|quot|nbsp|zwnj|#39|#96);/g,function(e){return{"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'","&nbsp;":String.fromCharCode(160),"&zwnj;":String.fromCharCode(8204)}[e]})},escape:function(e){return e.replace(/[&><"']/g,function(e){return{"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"}[e]})},insensitiveName:function(e){return(e+"").toLowerCase().replace(/-|_/g,"")},childrenProbablyInline:function(e){var t=[];return Array.prototype.every.call(e.find("*"),function(e){return e.hidden||/none|inline/.test(e.style.display)?!0:a.includes(e.tagName.toLowerCase())||/none|inline/.test(e.style.display)?!1:s.includes(e.tagName.toLowerCase())?!0:(t.push(e),!0)})&&t.every(function(e){return/none|inline/.test(e.style.display)})},transitionReplace:function(t,r,i){var o=t.closest(n.hook);o.length>0&&(t=o);var a=e("<tw-transition-container>").css("position","relative");a.insertBefore(t.first());var s=void 0;r&&(s=e("<tw-transition-container>").appendTo(a),r.appendTo(s));var u=e("<tw-transition-container>").css("position","absolute").prependTo(a);t.detach().appendTo(u),c.transitionOut(u,i),r&&c.transitionIn(s,i,function(){s.unwrap().children().first().unwrap()})},transitionOut:function(e,t,n){function i(){e.remove()}var o=c.childrenProbablyInline(e),a=e.length>1||!o||!["tw-hook","tw-passage"].includes(e.tag());a&&(e=e.wrapAll("<tw-transition-container>").parent()),e.attr("data-t8n",t).addClass("transition-out"),c.childrenProbablyInline(e)&&e.css("display","inline-block"),"number"==typeof n&&e.css("animation-duration",n+"ms");var s=n||r(t,"transition-out");s?window.setTimeout(i,s):i()},transitionIn:function(e,t,n){function i(){var t=0===e.findAndFilter(u.join(",")).length;a&&t?e.contents().unwrap():e.removeClass("transition-in").removeAttr("data-t8n")}var o=c.childrenProbablyInline(e),a=e.length>1||!o||!["tw-hook","tw-passage"].includes(e.tag());a&&(e=e.wrapAll("<tw-transition-container>").parent()),e.attr("data-t8n",t).addClass("transition-in"),"number"==typeof n&&e.css("animation-duration",n+"ms"),c.childrenProbablyInline(e)&&e.css("display","inline-block");var s=n||r(t,"transition-in");s?window.setTimeout(i,s):i()},$:function(t,n){return e(t,n||c.storyElement).not(".transition-out, .transition-out *")},impossible:function(e,t){window.console&&console.error(e+"(): "+t)},assertMustHave:function(e,t){if(window.console)for(var n=0;n<t.length;n+=1)t[n]in e||console.error("Assertion failed: object lacks property "+t[n])},assertOnlyHas:function(e,t){if(window.console)for(var n in e)t.includes(n)||console.error("Assertion failed: object had unexpected property '"+n+"'!")},get storyElement(){return l}},e(function(){return l=e(n.story)}),Object.freeze(c)}),define("passages",["jquery","utils","utils/selectors"],function(e,t,n){function r(e){return Object.assign(new Map([["source",i(e.html())],["tags",(e.attr("tags")||"").split(/\s/)||[]],["name",e.attr("name")]]),{TwineScript_TypeName:"passage datamap",TwineScript_ObjectName:"a passage datamap"})}var i=t.unescape,o=Object.assign(new Map,{TwineScript_ObjectName:"the Passages datamap",getTagged:function(e){var t=[];return this.forEach(function(n){var r=n instanceof Map&&n.get("tags");Array.isArray(r)&&r.includes(e)&&t.push(n)}),t.sort(function(e,t){return e.get("name")>t.get("name")})},create:r});return e(function(){Array.from(e(n.storyData+" > "+n.passageData)).forEach(function(t){t=e(t),o.set(t.attr("name"),new r(t))})}),o}),define("datatypes/hookset",["jquery","utils","utils/selectors","markup"],function(e,t,n,r){function i(e,t,n){var r=e.textContent.length;if(!(t>=r)){var i=void 0,o=[i=0===t?e:e.splitText(t)];return n&&(0>=n&&(n=r-n),r>n&&o.push(i.splitText(n-t))),o}}function o(e,t){var n=[],r="",a=[];if(!e.length||!t)return a;for(;e.length>0;){n.push(e[0]),r+=e[0].textContent,e.shift();var s=r.indexOf(t);if(s>-1){for(var u,c=r.length-(s+t.length);s>=n[0].textContent.length;)s-=n[0].textContent.length,n.shift();if(1===n.length){var l=i(n[0],s,s+t.length);a.push(l[0]),l[1]&&e.unshift(l[1]);break}a.push(i(n[0],s,n[0].length)[0]),(u=a).push.apply(u,_toConsumableArray(n.slice(1,-1)));var f=i(n[n.length-1],0,n[n.length-1].textContent.length-c);a.push(f[0]),f[1]&&e.unshift(f[1]),a=a.filter(Boolean);break}}return[a].concat(_toConsumableArray(o(e,t)))}function a(t,n,r){var i=o(n.textNodes(),t),a=e();return i.forEach(function(t){a=a.add(e(t).wrapAll(r))}),a.parent()}function s(e){e=t.insensitiveName(e).replace(/\?/g,"").replace(/"/g,"&quot;");var r=n.hook+'[name="'+e+'"]';return r+={page:", tw-story",passage:", tw-passage",sidebar:", tw-sidebar",link:", tw-link, .enchantment-link"}[e]||""}function u(n){var r=n.dom,i=e();this.prev&&(i=i.add(u.call(this.prev,{dom:r})));var o=function(t,n){return Array.isArray(n)?n.reduce(function(e,n){return e.add(t.get(n))},e()):e(t.get(n))};if(this.selector){var c=void 0;c=this.selector.match("^"+f.hookRef+"$")?r.add(r.parentsUntil(t.storyElement.parent())).findAndFilter(s(this.selector)):a(this.selector,r,"<tw-pseudo-hook>"),i=i.add(this.properties.length?this.properties.reduce(o,c):c)}return this.base&&(i=i.add(this.properties.reduce(o,u.call(this.base,{dom:r})))),i}function c(e){var n=e.dom;t.$("tw-pseudo-hook",n).contents().unwrap().parent().each(function(){this.normalize()})}function l(e){if(!e)return[];var n=e.selector,r=e.base,i=e.properties,o=e.prev;return[JSON.stringify([t.insensitiveName(n)||"",l(r),[].concat(_toConsumableArray(i)).sort()])].concat(_toConsumableArray(l(o))).sort()}var f=r.Patterns,p=Object.freeze({forEach:function(t,n){var r=u.call(this,t).each(function(t){n(e(this),t)});return c.call(this,t),r},get TwineScript_ObjectName(){return this.properties.length>0||this.prev?"a complex hook name":this.selector+" (a hook name)"},TwineScript_TypeName:"a hook name (like ?this)",TwineScript_Unstorable:!0,"TwineScript_+":function(e){var t=e.TwineScript_Clone();return t.prev=this,t},TwineScript_is:function(e){return l(this)+""==l(e)+""},TwineScript_GetElement:function(e){return p.create(void 0,this,[e],void 0)},TwineScript_Clone:function(){return p.create(this.selector,this.base,this.properties,this.prev)},create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return Object.assign(Object.create(this||p),{selector:e,base:t,properties:n,prev:r})},from:function(e){return p.isPrototypeOf(e)?e:p.create(e)}});return p}),define("internaltypes/twineerror",["jquery","utils"],function(e,t){var n=t.impossible,r=t.escape,i={syntax:"The markup seems to contain a mistake.",saving:"I tried to save or load the game, but I couldn't do it.",operation:"I tried to perform an operation on some data, but the data's type was incorrect.",macrocall:"I tried to use a macro, but its call wasn't written correctly.",datatype:"I tried to use a macro, but was given the wrong type of data to it.",keyword:"I was given a keyword in a way that I didn't understand.",infinite:"I almost ended up doing the same thing over and over, forever.",property:"I tried to access a value in a string/array/datamap, but I couldn't find it.",unimplemented:"I currently don't have this particular feature. I'm sorry.",javascript:"This error message was reported by your browser's Javascript engine. I don't understand it either, but it usually means that an expression was badly written."},o={create:function(e,t,r){return t||n("TwineError.create","called with only 1 string."),r||e in i||n("TwineError.create","no error explanation given"),Object.assign(Object.create(this),{type:e,message:t,explanation:r})},fromError:function(e){return o.create("javascript","\u2615 "+e.message)},containsError:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t.reduce(function(e,t){return e?e:t instanceof Error?t:o.isPrototypeOf(t)?t:Array.isArray(t)?o.containsError.apply(o,_toConsumableArray(t)):!1},!1)},createWarning:function(e,t){return Object.assign(this.create(e,t),{warning:!0})},render:function(t){t=t||"";var n=e("<tw-error class='"+("javascript"===this.type?"javascript ":"")+(this.warning?"warning":"error")+"' title='"+r(t)+"'>"+r(this.message)+"</tw-error>"),o=e("<tw-error-explanation>").text(this.explanation||i[this.type]).hide(),a=e("<tw-error-explanation-button tabindex=0>").html("<span class='folddown-arrowhead'>&#9658;</span>");return a.on("click",function(){o.toggle(),a.children(".folddown-arrowhead").css("transform","rotate("+(o.is(":visible")?"90deg":"0deg")+")")}),n.append(a).append(o),n}};return o}),define("utils/operationutils",["utils","datatypes/hookset","internaltypes/twineerror"],function(e,t,n){function r(e){return!!e&&("object"===("undefined"==typeof e?"undefined":_typeof(e))||"function"==typeof e)}function i(e){return Array.isArray(e)?"array":e instanceof Map?"datamap":e instanceof Set?"dataset":"string"==typeof e?"string":e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))?"object":""}function o(e,t){if(e instanceof Map||g("isValidDatamapName","called with non-Map"),"string"!=typeof t&&"number"!=typeof t)return n.create("property","Only strings and numbers can be used as data names for "+l(e)+", not "+l(t)+".");var r="string"==typeof t?+t:""+t;return!Number.isNaN(r)&&e.has(r)?n.create("property","You mustn't use both "+l(t)+" and "+l(r)+" as data names in the same datamap."):!0}function a(e,t){if(null===t)return void 0===e;if(t.innerType){if("optional"===t.pattern||"zero or more"===t.pattern)return void 0===e?!0:a(e,t.innerType);if("either"===t.pattern)return t.innerType.some(function(t){return a(e,t)});if("lambda"===t.pattern&&a(e,t.innerType))return"string"!=typeof t.clauses&&g("singleTypeCheck","lambda signature had non-string clauses"),t.clauses.includes("where")==="where"in e&&t.clauses.includes("making")==="making"in e&&t.clauses.includes("via")==="via"in e&&t.clauses.includes("with")==="with"in e;if("wrapped"===t.pattern)return a(e,t.innerType)}return void 0!==t&&void 0===e?!1:"anything"!==t.TwineScript_TypeName||void 0===e||e.TwineScript_Unstorable?t===String?"string"==typeof e:t===Boolean?"boolean"==typeof e:t===parseInt?"number"==typeof e&&!Number.isNaN(e)&&!(e+"").includes("."):t===Number?"number"==typeof e&&!Number.isNaN(e):t===Array?Array.isArray(e):t===Map||t===Set?e instanceof t:Object.isPrototypeOf.call(t,e):!0}function s(e){return"string"==typeof e||Array.isArray(e)||t.isPrototypeOf(e)}function u(e){if(!r(e))return e;if("function"==typeof e.TwineScript_Clone)return e.TwineScript_Clone();if(Array.isArray(e))return[].concat(_toConsumableArray(e));if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if("function"==typeof e)return Object.assign(e.bind(),e);switch(Object.getPrototypeOf(e)){case Object.prototype:return Object.assign({},e);case null:return Object.assign(Object.create(null),e)}return g("OperationUtils.clone","The value "+(e.toSource?e.toSource():e)+" cannot be cloned!"),e}function c(e,t,n){return"string"==typeof t&&r(n)&&"TwineScript_ToString"in n?e(t,n.TwineScript_ToString()):"string"==typeof n&&r(t)&&"TwineScript_ToString"in t?e(t.TwineScript_ToString(),n):!1}function l(e){return r(e)&&"TwineScript_ObjectName"in e?e.TwineScript_ObjectName:Array.isArray(e)?"an array":e instanceof Map?"a datamap":e instanceof Set?"a dataset":"boolean"==typeof e?"the boolean value '"+e+"'":"string"==typeof e||"number"==typeof e?"the "+("undefined"==typeof e?"undefined":_typeof(e))+" "+y(e):void 0===e?"an empty variable":"...whatever this is"}function f(e){return e.innerType?"either"===e.pattern?(Array.isArray(e.innerType)||g("typeName",'"either" pattern had non-array inner type'),e.innerType.map(f).join(" or ")):"optional"===e.pattern?"(an optional) "+f(e.innerType):f(e.innerType):e===String||e===Number||e===Boolean?"a "+_typeof(e()):e===parseInt?"a non-fractional number":e===Map?"a datamap":e===Set?"a dataset":e===Array?"an array":r(e)&&"TwineScript_TypeName"in e?e.TwineScript_TypeName:l(e)}function p(e,t){return"object"!==("undefined"==typeof e?"undefined":_typeof(e))&&"object"!==("undefined"==typeof t?"undefined":_typeof(t))?e===t:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:e.every(function(e,n){return p(t[n],e)}):e instanceof Map&&t instanceof Map?p(Array.from(e.entries()).sort(),Array.from(t.entries()).sort()):e instanceof Set&&t instanceof Set?p([].concat(_toConsumableArray(e)),[].concat(_toConsumableArray(t))):e&&"function"==typeof e.TwineScript_is?e.TwineScript_is(t):e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype?p(Object.getOwnPropertyNames(e).map(function(t){return[t,e[t]]}),Object.getOwnPropertyNames(t).map(function(e){return[e,t[e]]})):Object.is(e,t)}function d(e,t){if(e){if("string"==typeof e)return e.includes(t);if(Array.isArray(e))return e.some(function(e){return p(e,t)});if(e instanceof Set||e instanceof Map)return Array.from(e.keys()).some(function(e){return p(e,t)})}return n.create("operation",l(e)+" cannot contain any values, let alone "+l(t))}function h(e,t,r){if(!t||!r)return n.create("macrocall","The sub"+i(e)+" index values must not be 0 or NaN.");if(0>t&&(t=e.length+t+1),0>r&&(r=e.length+r+1),t>r)return h(e,r,t);var o="string"==typeof e;o&&(e=Array.from(e));var a=e.slice(t>0?t-1:t,r).map(u);return o?a.join(""):a}function m(e){return n.containsError(e)?e:e&&"function"==typeof e.TwineScript_Print?e.TwineScript_Print():e instanceof Map?(e=Array.from(e.entries()),n.containsError(e)?e:e.reduce(function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return e+"<tr><td>`"+m(r)+"`</td><td>`"+m(i)+"`</td></tr>"},"<table class=datamap>")+"</table>"):e instanceof Set?Array.from(e.values()).map(m)+"":Array.isArray(e)?e.map(m)+"":r(e)?n.create("unimplemented","I don't know how to print this value yet."):e+""}var g=e.impossible,y=e.toJSLiteral,v=Object.freeze({isObject:r,singleTypeCheck:a,isValidDatamapName:o,collectionType:i,isSequential:s,clone:u,coerceToString:c,objectName:l,typeName:f,is:p,contains:d,subset:h,printBuiltinValue:m,numericIndex:/^(?:[1-9]\d*|0)$/,unique:function(e,t,n){return!n.slice(t+1).some(function(t){return p(e,t)})}});return v}),define("twinescript/compiler",["utils"],function(e){function t(e,t){for(var n=0;n<e.length;n+=1)if(t.includes(e[n].type))return n;return 0/0}function n(e,n){return e.length-1-t.apply(void 0,[[].concat(_toConsumableArray(e)).reverse(),n])}function r(e,r){var i=[];return e.length?([["error"],["comma"],["spread"],["to"],["into"],{rightAssociative:["where","via"]},{rightAssociative:["with","making","each"]},["augmentedAssign"],["and","or"],["is","isNot"],["contains","isIn"],["inequality"],["addition","subtraction"],["multiplication","division"],["not"],["belongingProperty"],["belongingOperator","belongingItOperator"],{rightAssociative:["property"]},{rightAssociative:["itsProperty"]},["belongingItProperty"],{rightAssociative:["possessiveOperator","itsOperator"]},["twineLink"],["macro"],["grouping"]]["most"===r?"reverse":"valueOf"]().some(function(r){var o=void 0;return o=r.rightAssociative?n(e,r.rightAssociative):t(e,r),!Number.isNaN(o)&&o>-1?(i=[e[o],o],!0):void 0}),i):i}function i(e){if("inequality"===e.type){var t=e.operator;return e.negate?{">":"<=","<":">=",">=":"<","<=":">"}[t]:t}return e.type}function o(e){var t=i(e);return{">":"<","<":">",">=":"<=","<=":">=",contains:"isIn",isIn:"contains",is:"isNot",isNot:"is"}[t]}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isVarRef,c=t.whitespaceError,l=t.elidedComparison;if(e=[].concat(e),!e.length)return n&&c?"TwineError.create('operation',"+s(c)+")":"";var f=e[0];if(1===e.length){if("identifier"===f.type)return n?"VarRef.create(Operations.Identifiers,"+s(f.text)+")":" Operations.Identifiers."+f.text.toLowerCase()+" ";if("variable"===f.type)return"VarRef.create(State.variables,"+s(f.name)+")"+(n?"":".get()");if("tempVariable"===f.type)return"VarRef.create(section.stack[0].tempVariables,"+s(f.name)+")"+(n?"":".get()");if("hookRef"===f.type)return" HookSet.create('?"+f.name+"') ";if("string"===f.type)return f.text.replace(/\n/g,"\\n");if("colour"===f.type)return"Colour.create("+s(f.colour)+")";if("root"===f.type)return a(f.children);if("whitespace"===f.type&&n&&c)return"TwineError.create('operation',"+s(c)+")"}var p=void 0,d=r(e,"least"),h=_slicedToArray(d,2);f=h[0],p=h[1];var m=(f||{}).type,g=function(e){return{isVarRef:!0,whitespaceError:"I need usable data to be on the "+e+' of "'+f.text+'".'}},y=void 0,v=void 0,b=void 0,w=void 0,x=void 0,T=void 0,S=!0,O=!0,j=!1;if(m){if("error"===m)return"TwineError.create('syntax',"+s(f.message)+")";if("comma"===m)b=",",O=!1;else if("spread"===m)b="Operations.makeSpreader(",v=a(e.slice(p+1))+")",S=!1;else if("to"===m)x="to",v=a(e.slice(p+1),g("right")),y="Operations.setIt("+a(e.slice(0,p),g("left"))+")";else if("into"===m)x="into",v=a(e.slice(0,p),g("left")),y="Operations.setIt("+a(e.slice(p+1),g("right"))+")";else if("where"===m||"via"===m)y="Lambda.create("+(a(e.slice(0,p),{isVarRef:!0,whitespaceError:null}).trim()||"undefined")+",",b=s(f.type)+",",v=s(a(e.slice(p+1)))+")";else if("with"===m||"making"===m||"each"===m){var k=e.slice(p+1);![2,3].includes(k.length)||"whitespace"!==k[0].type||"tempVariable"!==k[1].type||k[2]&&"whitespace"!==k[2].type?(y="TwineError.create('operation','I need a temporary variable to the right of \\'",b=f.type,v="\\'.')"):"each"===m?(y="Lambda.create(",b=a(k,g("right")).trim(),v=",'where','true')"):(y="Lambda.create("+(a(e.slice(0,p),{isVarRef:!0,whitespaceError:null}).trim()||"undefined")+",",b=s(f.type)+",",v=s(k[1].name)+")")}else if("augmentedAssign"===m)x=f.operator,y=a(e.slice(0,p),g("left")),v="Operations['"+x+"']("+(a(e.slice(0,p))+","+a(e.slice(p+1)))+")";else if("and"===m||"or"===m){var C=function(){var t=function e(t){var n=r(t,"least"),i=_slicedToArray(n,2),o=i[0],a=i[1];if(o)return["inequality","is","isNot","isIn","contains"].includes(o.type)?o:["and","or"].includes(o.type)?e(t.slice(0,a))||e(t.slice(a+1)):void 0},u=t(e.slice(0,p)),c=t(e.slice(p+1)),d="TwineError.create('operation', 'This use of \"is not\" and \""+m+"\" is grammatically ambiguous','Maybe try rewriting this as \"__ is not __ "+m+" __ is not __\"') ";if(w=f.type,l===f.type)w="",y=a(e.slice(0,p),{isVarRef:n,elidedComparison:l}).trim(),b=",",v=a(e.slice(p+1),{elidedComparison:l}).trim();else if(u&&!c){var h=r(e.slice(0,p),"least"),g=_slicedToArray(h,1),x=g[0],T=s(i(x));if("isNot"===x.type)return{v:d};v="Operations.elidedComparisonOperator("+s(f.type)+","+T+","+a(e.slice(p+1),{elidedComparison:m})+")"}else if(!u&&c){var S=c,O=e.indexOf(S),j=s(o(S));if("isNot"===S.type)return{v:d};v="Operations.elidedComparisonOperator("+s(f.type)+","+j+","+a(e.slice(0,p),{elidedComparison:m})+")",y=a([].concat(_toConsumableArray(e.slice(O+1)),[Object.assign(Object.create(S),_defineProperty({},"inequality"===S.type?"operator":"type",o(S)))],_toConsumableArray(e.slice(p+1,O))))}}();if("object"===("undefined"==typeof C?"undefined":_typeof(C)))return C.v}else if("is"===m||"isNot"===m||"contains"===m||"isIn"===m||"inequality"===m)j=!0,w=i(f);else if("addition"===m||"subtraction"===m)w=f.text,y=a(e.slice(0,p)),y.trim()||(y="0");else if("multiplication"===m||"division"===m)w=f.text;else if("not"===m)b=" ",v="Operations.not("+a(e.slice(p+1))+")",S=!1;else if("belongingProperty"===m)v="VarRef.create("+a(e.slice(p+1),g("right"))+","+s(f.name)+")"+(n?"":".get()"),b=" ",S=O=!1;else if("belongingOperator"===m||"belongingItOperator"===m)f.type.includes("It")?(v="Operations.Identifiers.it",O=!1):v=a(e.slice(p+1),g("right")),T="belonging";else if("property"===m)y="VarRef.create("+a(e.slice(0,p),g("left"))+","+s(f.name)+")"+(n?"":".get()"),b=" ",S=O=!1;else if("itsProperty"===m||"belongingItProperty"===m)y="VarRef.create(Operations.Identifiers.it,"+s(f.name)+").get()",b=" ",S=O=!1;else if("possessiveOperator"===m||"itsOperator"===m)f.type.includes("it")&&(y="Operations.Identifiers.it",S=!1),T="possessive";else if("twineLink"===m)b='Macros.run("link-goto", [section,'+s(f.innerText)+","+s(f.passage)+"])",S=O=!1;else if("macro"===m){var A=f.children[0];"macroName"!==A.type&&u("Compiler.compile","macro token had no macroName child token"),b="Macros.run("+(A.isMethodCall?a(A.children):'"'+f.name+'"')+", [section,"+a(f.children.slice(1))+"])",S=O=!1}else"grouping"===m&&(b="("+a(f.children,{isVarRef:n})+")",S=O=!1)}else;return p>-1?(w&&(n=!1),y=y||a(e.slice(0,p),{isVarRef:n}).trim(),v=v||a(e.slice(p+1)).trim(),j&&!y&&(y=" Operations.Identifiers.it "),S&&!y||O&&!v?"TwineError.create('operation','I need some code to be "+(S?"left ":"")+(S&&O?"and ":"")+(O?"right ":"")+'of "'+f.text+"\"')":b?y+b+v:x?"Operations.makeAssignmentRequest("+[y,v,s(x)]+")":T?"VarRef.create("+("belonging"===T?v:y)+",{computed:true,value:"+("belonging"===T?y:v)+"})"+(n?"":".get()"):w?" Operations["+s(w)+"]("+y+","+v+") ":""):1===e.length?(("value"in e[0]?e[0].value:e[0].text)+"").trim()||" ":e.reduce(function(e,t){return e+a(t,{isVarRef:n})},"")}var s=e.toJSLiteral,u=e.impossible;return a}),define("renderer",["utils","markup","twinescript/compiler","internaltypes/twineerror"],function(e,t,n,r){function i(e,t){return"<"+t+">"+e+"</"+t+">"}function o(e,t){var n=l.render(e.children);return n&&i(n,t)}var a=e.escape,s=e.impossible,u=e.toJSLiteral,c=e.insensitiveName,l=void 0,f="text-align: center; max-width:50%; ";return l={options:{},exec:function(){var e=void 0,n=void 0;return function(r){return"string"!=typeof r?(s("Renderer.exec","source was not a string, but "+("undefined"==typeof r?"undefined":_typeof(r))),""):r===e?n:(e=r,n=l.render(t.lex(r).children))}}(),render:function e(s){var p="",d=[];if(!s)return p;for(var h=s.length,m=0;h>m;m+=1){var g=s[m];switch(g.type){case"error":p+=r.create("syntax",g.message).render(a(g.text))[0].outerHTML;break;case"numbered":case"bulleted":var y="numbered"===g.type?"ol":"ul";p+="<"+y+">";for(var v=1;h>m&&s[m]&&s[m].type===g.type;)p+=("<"+y+">").repeat(Math.max(0,s[m].depth-v)),p+=("</"+y+">").repeat(Math.max(0,v-s[m].depth)),v=s[m].depth,p+=o(s[m],"li"),m+=1;m-=1,p+=("</"+y+">").repeat(v+1);break;case"align":for(;g&&"align"===g.type;){var b=g,w=b.align,x=m+=1;if("left"===w){m-=1;break}for(;h>m&&s[m]&&"align"!==s[m].type;)m+=1;var T=e(s.slice(x,m)),S="";switch(w){case"center":S+=f+"margin-left: auto; margin-right: auto;";break;case"justify":case"right":S+="text-align: "+w+";";break;default:+w&&(S+=f+"margin-left: "+w+"%;")}p+="<tw-align "+(S?'style="'+S+'"':"")+(l.options.debug?' title="'+g.text+'"':"")+">"+T+"</tw-align>\n",g=s[m]}break;case"column":for(var O=[];g&&"column"===g.type;){var j=g,k=j.column,C=m+=1;if("none"===k){m-=1;break}for(;h>m&&s[m]&&"column"!==s[m].type;)m+=1;O.push({text:g.text,type:k,body:e(s.slice(C,m)),width:g.width,marginLeft:g.marginLeft,marginRight:g.marginRight}),g=s[m]}O.length&&!function(){var e=O.reduce(function(e,t){return e+t.width},0);p+="<tw-columns>"+O.map(function(t){return"<tw-column type="+t.type+'  style="width:'+t.width/e*100+"%; margin-left: "+t.marginLeft+"em; margin-right: "+t.marginRight+'em;" '+(l.options.debug?' title="'+t.text+'"':"")+">"+t.body+"</tw-column>\n"}).join("")+"</tw-columns>"}();break;case"heading":p+=o(g,"h"+g.depth);break;case"br":(!d.length||/td|th/.test(d[0]))&&(p+="<br>");break;case"hr":p+="<hr>";break;case"escapedLine":case"comment":break;case"inlineUrl":p+='<a class="link" href="'+a(g.text)+'">'+g.text+"</a>";break;case"scriptStyleTag":case"tag":var A=g.text.toLowerCase();/^<\/?(?:table|thead|tbody|tr|tfoot|td|th)\b/.test(A)&&d[g.text.startsWith("</")?"shift":"unshift"](A),p+=g.text.startsWith("</")?g.text:g.text.replace(/>$/," data-raw>");break;case"sub":case"sup":case"strong":case"em":p+=o(g,g.type);break;case"strike":p+=o(g,"s");break;case"bold":p+=o(g,"b");break;case"italic":p+=o(g,"i");break;case"twineLink":var E=t.lex("(link-goto:"+u(g.innerText)+","+u(g.passage)+")");p+=e(E.children);break;case"hook":p+="<tw-hook "+(g.hidden?"hidden ":"")+(g.name?'name="'+c(g.name)+'"':"")+(l.options.debug&&g.name?' title="Hook: ?'+g.name+'"':"")+' source="'+a(g.innerText)+'"></tw-hook>';break;case"verbatim":p+=i(a(g.innerText).replace(/\n/g,"<br>"),"tw-verbatim");break;case"collapsed":p+=o(g,"tw-collapsed");break;case"variable":case"tempVariable":case"macro":p+='<tw-expression type="'+g.type+'" name="'+a(g.name||g.text)+'"'+(l.options.debug?' title="'+a(g.text)+'"':"")+' js="'+a(n(g))+'"></tw-expression>';break;default:p+=g.children&&g.children.length?e(g.children):g.text}}return p}},Object.freeze(l)}),define("internaltypes/changedescriptor",["jquery","utils","renderer","datatypes/hookset"],function(e,t,n,r){var i=t.assertOnlyHas,o=t.impossible,a=t.transitionIn,s=n.exec,u=void 0,c={source:"",innerSource:"",enabled:!0,target:null,append:"append",newTargets:null,transition:"instant",transitionTime:null,loopVars:null,styles:null,attr:null,data:null,section:null,summary:function(){var e=this;return["source","innerSource","enabled","target","append","newTargets","transition","transitionTime"].filter(function(t){return e.hasOwnProperty(t)}).concat([this.attr.length&&"attr",this.styles.length&&"styles",Object.keys(this.loopVars).length&&"loopVars",Object.keys(this.data).length&&"data"].filter(Boolean))},create:function(e,t){var n=Object.assign(Object.create(this),{attr:[].concat(this.attr||[]),styles:[].concat(this.styles||[]),loopVars:this.loopVars||{},data:this.data||{}},e);return t&&t.run(n),n},update:function(){var e=this,t=this.section,n=this.newTargets,i=this.target,o=function(t){Array.isArray(e.styles)&&e.styles.length>0&&setTimeout(function(){return t.css(Object.assign.apply(Object,_toConsumableArray([{}].concat(e.styles))))}),e.attr&&e.attr.forEach(function(e){return t.attr(e)}),e.data&&t.data(e.data)};Array.isArray(n)&&n.length&&(i=n.map(function(e){return e.target})),[].concat(i).forEach(function(e){r.isPrototypeOf(e)?e.forEach(t,o):o(e)})},render:function(){var t=this,n=this.source,l=this.transition,f=this.transitionTime,p=this.enabled,d=this.section,h=this.newTargets,m=this.target,g=this.append;if(i(this,u),!p||void 0!==m.popAttr("hidden"))return c.create({target:m,data:{hiddenSource:n}}).update(),e();if(Array.isArray(h)&&h.length&&(m=h),!m)return o("ChangeDescriptor.render","ChangeDescriptor has source but not a target!"),e();var y=e(),v=function(e){return function(n){y=y.add(t.create({target:n,append:e,
newTargets:null}).render())}};if([].concat(m).forEach(function t(n,i,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g;r.isPrototypeOf(n)?n.forEach(d,v(a)):n.jquery&&n.length>1?Array.from(n).map(e).forEach(v(a)):n.target&&n.append&&t(n.target,i,o,n.append)}),y.length||Array.isArray(m)||r.isPrototypeOf(m))return y;if(!(g in m)){if("replace"!==g)return o("Section.render","The target doesn't have a '"+g+"' method."),e();m.empty(),g="append"}return y=e(n&&e.parseHTML(s(n),document,!0)),m[g](y.length?y:void 0),this.update(),l&&a("replace"===g?m:y,l,f),y}};return u=Object.keys(c),Object.seal(c)}),define("datatypes/changercommand",["utils","utils/operationutils","internaltypes/changedescriptor"],function(e,t,n){var r=e.impossible,i=t.is,o={},a={changer:!0,TwineScript_TypeName:"a changer command",TwineScript_Print:function(){return"`[A '"+this.macroName+"' command]`"},summary:function(){var e=n.create();return this.run(e),e.summary()},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Array.isArray(t)||r("ChangerCommand.create","params was not an array"),Object.assign(Object.create(this),{macroName:e,params:t,next:n,TwineScript_ObjectName:"a ("+e+":) command"})},"TwineScript_+":function(e){for(var t=this.TwineScript_Clone(),n=t;n.next;)n=n.next;return n.next=e,t},TwineScript_is:function(e){return a.isPrototypeOf(e)?this.macroName===e.macroName&&i(this.params,e.params)&&i(this.next,e.next):void 0},TwineScript_Clone:function(){return this.create(this.macroName,this.params,this.next)},run:function(e){o[this.macroName].apply(o,[e].concat(_toConsumableArray(this.params))),this.next&&this.next.run(e)},register:function(e,t){o[e]=t}};return Object.freeze(a)}),define("state",["utils","passages","datatypes/changercommand","internaltypes/twineerror","utils/operationutils"],function(e,t,n,r,i){function o(e){p=(l[f]||c).create(e)}var a=e.impossible,s=i.objectName,u={TwineScript_ObjectName:"this story's variables",TwineScript_VariableStore:!0},c={passage:"",variables:u,create:function(e,t){var n=Object.create(c);return n.passage=e||"",n.variables=Object.assign(Object.create(this.variables),t),n}},l=[],f=-1,p=c.create(),d=void 0,h={forward:[],back:[],load:[]},m=Object.assign({get passage(){return p.passage},get variables(){return p.variables},get pastLength(){return f},get futureLength(){return l.length-1-f},passageNameVisited:function(e){var n=0;if(!t.get(e))return 0;for(var r=0;f>=r;r++)n+=+(e===l[r].passage);return n},passageNameLastVisited:function(e){if(!t.get(e))return 1/0;if(e===p.passage)return 0;for(var n=f;n>0;n--)if(l[n].passage===e)return f-n+1;return 1/0},pastPassageNames:function(){for(var e=[],t=f-1;t>=0;t--)e.unshift(l[t].passage);return e},play:function(e){p||a("State.play","present is undefined!"),p.passage=e,l=l.slice(0,f+1).concat(p),f+=1,o(e),h.forward.forEach(function(t){return t(e)})},rewind:function(e){var t=1,n=!1;if(e)if("string"==typeof e){if(t=this.passageNameLastVisited(e),t===1/0)return}else"number"==typeof e&&(t=e);for(;t>0&&f>0;t--)n=!0,f-=1;return n&&(o(l[f].passage),h.back.forEach(function(e){return e()})),n},fastForward:function(e){var t=1,n=!1;for("number"==typeof e&&(t=e);t>0&&l.length>0;t--)n=!0,f+=1;return n&&(o(l[f].passage),h.forward.forEach(function(e){return e(l[f].passage,"fastForward")})),n},on:function(e,t){return e in h?("function"!=typeof t||h[e].includes(t)||h[e].push(t),m):void a("State.on","invalid event name")},reset:function(){window.jasmine&&(l=[],f=-1,p=c.create(),d=void 0,h.load.forEach(function(e){return e(l)}))}},function(){function e(t){return"number"==typeof t||"boolean"==typeof t||"string"==typeof t||null===t||Array.isArray(t)&&t.every(e)||t instanceof Set&&Array.from(t).every(e)||t instanceof Map&&Array.from(t.values()).every(e)||n.isPrototypeOf(t)}function t(e,t){return t instanceof Set?{"(dataset:)":Array.from(t)}:t instanceof Map?{"(datamap:)":Array.from(t)}:n.isPrototypeOf(t)?{changer:{name:t.macroName,params:t.params,next:t.next}}:t}function i(e,t){if(t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))){if(Array.isArray(t["(dataset:)"]))return new Set(t["(dataset:)"]);if(Array.isArray(t["(datamap:)"]))return new Map(t["(datamap:)"]);if(t.changer&&"object"===_typeof(t.changer)){var r=t.changer,i=r.name,o=r.params,a=r.next;return n.create(i,o,a)}}return t}function a(){var n=l.slice(0,f+1),i=n.map(function(t){return Object.keys(t.variables).filter(function(n){return t.variables[n]&&!e(t.variables[n])}).map(function(e){return[e,t.variables[e]]})});if(d||(d=i.reduce(function(e,t,n){var r=_slicedToArray(t,2),i=r[0],o=r[1];return e||i&&[i,o,n+1]},void 0)),d){var o=d,a=_slicedToArray(o,3),u=a[0],c=a[1],p=a[2];return r.create("saving","The variable $"+u+" holds "+s(c)+" (which is, or contains, a complex data value) on turn "+p+"; the game can no longer be saved.")}try{return JSON.stringify(n,t)}catch(e){return!1}}function p(e){var t=void 0,n=u;try{t=JSON.parse(e,i)}catch(e){return!1}return Array.isArray(t)?(t=t.map(function(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&e.hasOwnProperty("passage")&&e.hasOwnProperty("variables")?(e.variables=Object.assign(Object.create(n),e.variables),n=e.variables,Object.assign(Object.create(c),e)):!1})).includes(!1)?!1:(l=t,h.load.forEach(function(e){return e(l)}),f=l.length-1,void o(l[f].passage)):!1}return{serialise:a,deserialise:p}}());return Object.seal(c),Object.freeze(m)}),define("datatypes/colour",["jquery"],function(e){function t(t){if(t in s)return s[t];var n=e("<p>").css("background-color",t).css("background-color");return n=n.startsWith("rgb")?n.match(/\d+/g).reduce(function(e,t,n){return e["rgb"[n]]=+t,e},{}):{r:192,g:192,b:192},s[t]=n,n}function n(e){return"string"!=typeof e?e:(e=e.replace("#",""),e=e.replace(o,"$1$1$2$2$3$3"),{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)})}function r(e){var t=e.r,n=e.g,r=e.b,i=e.a;t/=255,n/=255,r/=255;var o=Math.max(t,n,r),a=Math.min(t,n,r),s=(o+a)/2,u=o-a;if(o===a)return{h:0,s:0,l:s};var c=void 0;switch(o){case t:c=(n-r)/u+(r>n?6:0);break;case n:c=(r-t)/u+2;break;case r:c=(t-n)/u+4}c=Math.round(60*c);var l=s>.5?u/(2-o-a):u/(o+a);return{h:c,s:l,l:s,a:i}}function i(e){function t(e){return 0>e&&(e+=1),e>1&&(e-=1),1/6>e?u+6*(s-u)*e:.5>e?s:2/3>e?u+(s-u)*(2/3-e)*6:u}var n=e.h,r=e.s,i=e.l,o=e.a;if(0===r){var a=Math.floor(255*i);return{r:a,g:a,b:a}}n/=360;var s=.5>i?i*(1+r):i+r-i*r,u=2*i-s;return{r:Math.floor(255*t(n+1/3)),g:Math.floor(255*t(n)),b:Math.floor(255*t(n-1/3)),a:o}}var o=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,a=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,s=Object.create(null),u=Object.freeze({TwineScript_TypeName:"a colour",TwineScript_ObjectName:"a colour","TwineScript_+":function(e){var t=this,n=e;return u.create({r:Math.min(Math.round(.6*(t.r+n.r)),255),g:Math.min(Math.round(.6*(t.g+n.g)),255),b:Math.min(Math.round(.6*(t.b+n.b)),255),a:(t.a+n.a)/2})},TwineScript_Print:function(){return"<tw-colour style='background-color:rgba("+[this.r,this.g,this.b,this.a].join(",")+");'></span>"},TwineScript_is:function(e){return u.isPrototypeOf(e)&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a},TwineScript_Clone:function(){return u.create(this)},toRGBAString:function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},get h(){return r(this).h},get s(){return r(this).s},get l(){return r(this).l},create:function(e){return"string"==typeof e?this.create(u.isHexString(e)?n(e):t(e)):!("h"in e&&"s"in e&&"l"in e)||"r"in e||"g"in e||"b"in e?("a"in e&&"number"==typeof e.a||(e.a=1),Object.assign(Object.create(this),e)):this.create(i(e))},isHexString:function(e){return"string"==typeof e&&"#"===e[0]&&(e.slice(1).match(o)||e.slice(1).match(a))},isCSS3Function:function(e){return"string"==typeof e&&/^(?:rgb|hsl)a?\(\s*\d+\s*,\s*\d+%?\s*,\s*\d+%?(?:,\s*\d+(?:\.\d+)?\s*)?\)$/.test(e)}});return u}),define("internaltypes/varref",["state","internaltypes/twineerror","utils","utils/operationutils","datatypes/hookset","datatypes/colour"],function(e,t,n,r,i,o){function a(e,n){var r=void 0;if(e instanceof Map&&(r=t.containsError(j(e,n))))return r;if(w(e)){var o=void 0;if("number"==typeof n){if(0===n)return t.create("property","You can't access elements at position 0 of "+x(e)+".","Only positive and negative position values exist.");n>0&&(n-=1)}else if("string"==typeof n&&(o=/(\d+)(?:st|[nr]d|th)last/i.exec(n)))n=-o[1]+"";else if("string"==typeof n&&(o=/(\d+)(?:st|[nr]d|th)/i.exec(n)))n=o[1]-1+"";else if("last"===n)n=-1;else if(!["length","any","all"].includes(n)||i.isPrototypeOf(e))return t.create("property","You can only access position strings/numbers ('4th', 'last', '2ndlast', (2), etc.)"+(i.isPrototypeOf(e)?"":", 'length', 'any' and 'all'")+" of "+x(e)+", not "+x(n)+".")}else if(e instanceof Set){if(!["length","any","all"].includes(n))return t.create("property","You can only get the 'length', 'any' and 'all' of a "+x(e)+".","To check contained values, use the 'contains' operator.");"length"===n&&(n="size")}else if("number"==typeof e||"boolean"==typeof e)return t.create("property","You can't get data values from "+x(e)+".");return n}function s(e,n){var r=n.reduce(function(r,i,o){i.computed&&(i=i.value),k.isPrototypeOf(i)&&(i=i.get()),i=Array.isArray(i)?i.map(function(t){return a(e,t)}):a(e,i);var s=void 0;return(s=t.containsError(r,i))?s:(o<n.length-1&&(e=g(e,i)),r.push(i),r)},[]);return{compiledPropertyChain:r,deepestObject:e}}function u(e,t){return 0>t-0&&Math.abs(t)<=e.length?e.length+(t-0):t}function c(e,t){var n={any:"'any' value of ",all:"'all' values of "}[t];return{determiner:t,array:[].concat(_toConsumableArray(e)),TwineScript_ObjectName:n+x(e),TwineScript_TypeName:n+"a data structure",TwineScript_Unstorable:!0,TwineScript_Print:function(){return"`["+this.TwineScript_TypeName+"]`"}}}function l(e,t){if(void 0===e)return e;if(e instanceof Map)return e.get(t);if(w(e)&&(t=u(e,t)),"any"===t||"all"===t)return c(e,t);if(e.TwineScript_GetElement&&Number.isFinite(+t))return e.TwineScript_GetElement(t);var n=e[t];return"function"!=typeof n?n:void 0}function f(e){return e.computed?"string"==typeof e.value?"('"+e.value+"')":"("+e.value+")":"'"+e+"'"}function p(e,n){if(Array.isArray(n))return n.map(function(t){return p(e,t)});if(i.isPrototypeOf(e))return t.create("operation","I can't modify "+x(e),"You should alter hooks indirectly using macros like (replace:) or (enchant:).");if(e instanceof Set)return t.create("operation","I can't modify "+x(e),"You should use an (array:) if you need to modify the data inside this dataset.");if(o.isPrototypeOf(e))return t.create("operation","I can't modify the components of "+x(e));if(e instanceof Map)return!0;if(w(e)){if(["length","any","all"].includes(n))return t.create("operation","I can't forcibly alter the '"+n+"' of "+x(e)+".");if(+n!==(0|n))return t.create("property",x(e)+" can only have position keys ('3rd', '1st', (5), etc.), not "+f(n)+".")}return e.TwineScript_Identifiers&&n in e?t.create("keyword","I can't alter the value of the '"+n+"' identifier.","You can only alter data in variables and hooks, not fixed identifiers."):"number"==typeof e||"boolean"==typeof e?t.create("operation","You can't alter the data values of "+x(e)+"."):!0}function d(e,t,n){var r=t;e instanceof Map?e.set(t,n):(w(e)&&(t=u(e,t)),e.TwineScript_Set?e.TwineScript_Set(t):e[t]=n),A.set.forEach(function(t){return t(e,r,n)})}function h(e,t){var n=t;w(e)&&(t=u(e,t)),Array.isArray(e)&&O.exec(t)?e.splice(t,1):e instanceof Map||e instanceof Set?e.delete(t):delete e[t],A.delete.forEach(function(t){return t(e,n)})}function m(e){function t(){return e}return{get:t,set:t,delete:t,varref:!0}}function g(n,r,o){if(Array.isArray(r))return i.isPrototypeOf(n)?n.TwineScript_GetElement(r):r.map(function(e){return g(n,e,e)})["string"==typeof n?"join":"valueOf"]("");"string"==typeof n&&(n=[].concat(_toConsumableArray(n)));var a=l(n,r);return void 0===a?n===e.variables?C:n.TwineScript_VariableStore?t.create("property","There isn't a temp variable named _"+o+" in this place.","Temp variables only exist inside the same passage and hook in which they're (set:)."):t.create("property","I can't find a "+f(o)+" data name in "+x(n)):a}function y(e,n){var r=this,i=this.compiledPropertyChain.reduce(function(e,t){var n=void 0;return n=0===e.length?r.object:g.apply(void 0,_toConsumableArray(e[e.length-1])),e.push([n,t])&&e},[]).reduceRight(e,n);return t.containsError(i)?i:void 0}var v=n.impossible,b=r.isObject,w=r.isSequential,x=r.objectName,T=r.typeName,S=r.clone,O=r.numericIndex,j=r.isValidDatamapName,k=void 0,C=0,A={set:[],delete:[]};return k=Object.freeze({varref:!0,get:function(){return g(this.deepestObject,this.compiledPropertyChain.slice(-1)[0],this.propertyChain.slice(-1)[0])},set:function(e){return!this.object||this.object.TwineScript_VariableStore||this.object.TwineScript_Identifiers?y.call(this,function(e,n,r){var i=_slicedToArray(n,2),o=i[0],a=i[1],s=void 0;if(s=t.containsError(e,o,a)||t.containsError(p(o,a)))return s;if(e&&e.TwineScript_Unstorable)return t.create("operation",T(e)+" can't be stored.");if(r>0&&(o=S(o)),"string"==typeof o){var u=function(){if("string"!=typeof e||e.length!==(Array.isArray(a)?a.length:1))return{v:t.create("datatype","I can't put this non-string value, "+x(e)+", in a string.")};o=[].concat(_toConsumableArray(o));var n=[].concat(_toConsumableArray(e));[].concat(a).forEach(function(e){0>0+e&&(e=o.length+(0+e)),o=[].concat(_toConsumableArray(o.slice(0,e)),[n.shift()],_toConsumableArray(o.slice(e+1)))}),o=o.join("")}();if("object"===("undefined"==typeof u?"undefined":_typeof(u)))return u.v}else b(o)&&(Array.isArray(a)&&w(e)?("string"==typeof e&&(e=[].concat(_toConsumableArray(e))),a.map(function(t,n){return[t,e[n]]}).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return d(o,n,r)})):d(o,a,e));return o},e):t.create("macrocall","I can't (set:) "+x(this)+", if the "+(x(this.object).match(/ (.+$)/)||["","value"])[1]+" isn't stored in a variable.","Modifying data structures that aren't in variables won't change the game state at all.")},delete:function(){return y.call(this,function(e,n,r){var i=_slicedToArray(n,2),o=i[0],a=i[1],s=void 0;if(s=t.containsError(e,o,a)||t.containsError(p(o,a)))return s;if(r>0&&(o=S(o)),null===e){var c="string"==typeof o;c&&(o=[].concat(_toConsumableArray(o))),Array.isArray(a)?(w(o)&&(a=[].concat(_toConsumableArray(new Set(a))),a.sort(function(e,t){return u(o,t)-u(o,e)})),a.forEach(function(e){return h(o,e)})):h(o,a),c&&(o=o.join(""))}else d(o,a,e);return o},null)},create:function(e,n){var r=void 0;if(r=t.containsError(e))return m(r);n=[].concat(n),k.isPrototypeOf(e)&&(n=e.propertyChain.concat(n),e=e.object);var i=s(e,n),o=i.compiledPropertyChain,a=i.deepestObject;return(r=t.containsError(o,a))?m(r):Object.assign(Object.create(k),{object:e,propertyChain:n,compiledPropertyChain:o,deepestObject:a})},get TwineScript_ObjectName(){var t=this,n=function(n,r){return r||t.object!==e.variables&&!t.object.TwineScript_VariableStore?f(n):n};return(this.object===e.variables?"$":this.object.TwineScript_VariableStore?"_":x(this.object)+"'s ")+(1===this.propertyChain.length?n(this.propertyChain[0]):this.propertyChain.reduce(function(e,t,r){return e+"'s "+n(t,r)}))+(this.object.TwineScript_VariableStore?" in "+this.object.TwineScript_VariableStoreName:"")},on:function(e,t){return e in A?("function"!=typeof t||A[e].includes(t)||A[e].push(t),k):void v("VarRef.on","invalid event name")}})}),define("utils/naturalsort",[],function(){return function(e){return function t(n,r){var i,o,a,s,u=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,c=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,f=/^0x[0-9a-f]+$/i,p=/^0/,d=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},h=d(n).replace(c,"")||"",m=d(r).replace(c,"")||"",g=h.replace(u,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),y=m.replace(u,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),v=parseInt(h.match(f))||1!==g.length&&h.match(l)&&Date.parse(h),b=parseInt(m.match(f))||v&&m.match(l)&&Date.parse(m)||null;if(e&&window.Intl&&window.Intl.Collator&&(a=window.Intl.Collator(e)),b){if(b>v)return-1;if(v>b)return 1}for(var w=0,x=Math.max(g.length,y.length);x>w;w++){if(i=!(g[w]||"").match(p)&&parseFloat(g[w])||g[w]||0,o=!(y[w]||"").match(p)&&parseFloat(y[w])||y[w]||0,isNaN(i)!==isNaN(o))return isNaN(i)?1:-1;if(("undefined"==typeof i?"undefined":_typeof(i))!==("undefined"==typeof o?"undefined":_typeof(o)))i+="",o+="";else if("string"==typeof i&&a&&(s=a.compare(i,o),0!==s))return s;if(o>i)return-1;if(i>o)return 1}return 0}}}),define("internaltypes/varscope",[],function(){return{TwineScript_ObjectName:"the temporary variables",TwineScript_VariableStore:!0}}),define("datatypes/lambda",["utils","utils/operationutils","internaltypes/varscope","internaltypes/twineerror"],function(e,t,n,r){var i=e.toJSLiteral,o=e.insensitiveName,a=(e.plural,t.typeName,t.objectName,t.singleTypeCheck,Object.freeze({lambda:!0,TwineScript_TypeName:"a lambda",TwineScript_ObjectName:function(){return'a "'+("making"in this?"making ... ":"")+("with"in this?"with ... ":"")+("where"in this?"where ... ":"")+("via"in this?"via ... ":"")+'" lambda'},TwineScript_Print:function(){return"`[A lambda]`"},TwineScript_is:function(e){return e===this},TypeSignature:function(e){return{pattern:"lambda",innerType:a,clauses:e}},create:function(e,t,i){var s=void 0;if(r.containsError(e))return e;if(a.isPrototypeOf(e)){if(t in e&&("where"!==t||"true"!==e[t]))return r.create("syntax","This lambda has two '"+t+"' clauses.");s=e}else{if(void 0!==e&&(!e||!e.varref||!n.isPrototypeOf(e.object)||e.propertyChain.length>1))return r.create("syntax","This lambda needs to start with a single temporary variable.");s=Object.create(this),s.loop=e?e.propertyChain[0]:""}s[t]=i;var u=[s.making,s.with,s.loop].filter(function(e,t,n){return e&&n.indexOf(o(e))!==t});return u.length?r.create("syntax","This lambda has two variables named '"+u[0]+"'.","Lambdas should have all-unique parameter names."):s},apply:function(e,t){var o=t.loop,a=t.with,s=t.making,u=t.fail,c=t.pass,l=t.ignoreVia,f=Object.create(n);[[this.loop,o],[this.with,a],[this.making,s]].forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return n&&(f[n]=r)}),e.stack.unshift(Object.assign(Object.create(null),{tempVariables:f})),e.eval("Operations").initialiseIt(!o||this.with||this.making?r.create("operation","I can't use 'it', or an implied 'it', in "+this.TwineScript_ObjectName()):o);var p=!l&&this.via,d=e.eval("where"in this?"Operations.where("+this.where+","+(p||i(c))+","+i(u)+")":p||i(c));return e.stack.shift(),d},filter:function(e,t){var n=this;return t.reduce(function(t,i){var o=void 0;if(o=r.containsError(t))return o;var a=n.apply(e,{loop:i,pass:!0,fail:!1,ignoreVia:!0});return(o=r.containsError(a))?o:t.concat(a?[i]:[])},[])}}));return a}),define("macros",["jquery","utils/naturalsort","utils","utils/operationutils","datatypes/changercommand","datatypes/lambda","datatypes/hookset","internaltypes/twineerror"],function(e,t,n,r,i,o,a,s){function u(e){return function(n){n=n.reduce(function(e,n){if(n&&n.spreader===!0){var r=n.value;if(Array.isArray(r)||"string"==typeof r)for(var i=0;i<r.length;i++)e.push(r[i]);else r instanceof Set?e.push.apply(e,_toConsumableArray(Array.from(r).sort(t("en")))):e.push(s.create("operation","I can't spread out "+g(r)+", because it is not a string, dataset, or array."))}else e.push(n);return e},[]);var r=s.containsError(n);return r?r:e.apply(void 0,_toConsumableArray(n))}}function c(e,t,n){n=[].concat(n||[]),e="("+(Array.isArray(e)&&e.length>1?e[0]:e)+":)";var r=void 0;return r=n.length>0?"The "+e+" macro must only be given "+n.map(y).reduce(function(e,t,n,r){return e+(0===n?"":n<r.length-1?", ":", and ")+t},"")+(n.length>1?", in that order":"."):"The macro must not be given any data - just write "+e+".",function(i){for(var a=arguments.length,u=Array(a>1?a-1:0),c=1;a>c;c++)u[c-1]=arguments[c];for(var l=void 0,f=(function(t){var i=n[t],a=u[t];return t>=n.length&&!l?{v:s.create("datatype",u.length-n.length+" too many values were given to this "+e+" macro.",r)}:(i||(i=l),!i.innerType||"rest"!==i.pattern&&"zero or more"!==i.pattern||(l=i.innerType,"rest"===i.pattern&&(i=i.innerType)),v(a,i)?void 0:void 0===a?{v:s.create("datatype","The "+e+" macro needs "+d(n.length-t,"more value")+".",r)}:a&&a.TwineScript_Unstorable&&(i===b.TypeSignature.Any||i.innerType&&i.innerType===b.TypeSignature.Any)?{v:s.create("datatype",e+"'s "+p(t+1)+" value, "+g(a)+", is not valid data for this macro.",r)}:a&&o.isPrototypeOf(a)&&"lambda"===i.pattern?{v:s.create("datatype",e+"'s "+p(t+1)+" value (a lambda) should have "+h(["where","making","via","with"].filter(function(e){return i.clauses.includes(e)}).map(function(e){return"a '"+e+"' clause"}))+", not "+h(["where","making","via","with"].filter(function(e){return e in a}).map(function(e){return"a '"+e+"' clause"}))+".")}:{v:s.create("datatype",e+"'s "+p(t+1)+" value is "+g(a)+", but should be "+y(i)+".",i.message||r)})}),m=0,w=Math.max(u.length,n.length);w>m;m+=1){var x=f(m,w);if("object"===("undefined"==typeof x?"undefined":_typeof(x)))return x.v}return t.apply(void 0,[i].concat(u))}}function l(e,t){Array.isArray(e)?e.forEach(function(e){return m(w,f(e),t)}):m(w,f(e),t)}var f=n.insensitiveName,p=n.nth,d=n.plural,h=n.andList,m=n.lockProperty,g=r.objectName,y=r.typeName,v=r.singleTypeCheck,b=void 0,w={};return b={has:function(e){return e=f(e),w.hasOwnProperty(e)},get:function(e){return e=f(e),w.hasOwnProperty(e)&&w[e]},add:function e(t,n,r){return l(t,u(c(t,n,r))),e},addChanger:function e(t,n,r,o){return l(t,u(c(t,n,o))),i.register(Array.isArray(t)?t[0]:t,r),e},TypeSignature:{optional:function(e){return{pattern:"optional",innerType:e}},zeroOrMore:function(e){return{pattern:"zero or more",innerType:e}},either:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return{pattern:"either",innerType:t}},rest:function(e){return{pattern:"rest",innerType:e}},wrapped:function(e,t){return{pattern:"wrapped",innerType:e,message:t}},Any:{TwineScript_TypeName:"anything"}},run:function(e,t){return s.containsError(e)?e:b.has(e)?b.get(e)(t):s.create("macrocall","I can't run the macro '"+e+"' because it doesn't exist.","Did you mean to run a macro? If you have a word written like (this:), it is regarded as a macro name.")}},Object.freeze(b)}),define("datatypes/assignmentrequest",["utils"],function(e){var t=e.assertMustHave,n=Object.freeze({assignmentRequest:!0,TwineScript_TypeName:"a 'to' or 'into' expression",TwineScript_ObjectName:"a 'to' or 'into' expression",TwineScript_Unstorable:!0,create:function(e,n,r){return t(e,["varref"]),Object.assign(Object.create(this),{dest:e,src:n,operator:r})}});return n}),define("twinescript/operations",["state","datatypes/colour","datatypes/assignmentrequest","utils/operationutils","internaltypes/twineerror"],function(e,t,n,r,i){function o(e,t,n,r){return n=n||"do this to",function(o,a){1===t.length&&(a=o);var s=void 0;return(s=i.containsError(o,a))?s:("undefined"==typeof o?"undefined":_typeof(o))!==e||("undefined"==typeof a?"undefined":_typeof(a))!==e?i.create("operation","I can only "+n+" "+e+"s, not "+m(("undefined"==typeof o?"undefined":_typeof(o))!==e?o:a)+".",r):t(o,a)}}function a(e){return function(t,n){var r=void 0;return(r=i.containsError(t,n))?r:t&&t.varref?i.create("operation","I can't give an expression a new value."):("undefined"==typeof t?"undefined":_typeof(t))!==("undefined"==typeof n?"undefined":_typeof(n))||c(t)!==c(n)?l(e,t,n)||i.create("operation",m(t)+" isn't the same type of data as "+m(n)):e(t,n)}}function s(e){var t=function t(n,r){var o=void 0;if(o=i.containsError(n,r))return o;if(y=n,n.determiner){var a=function(){var e="all"===n.determiner;return{v:n.array.reduce(function(n,o){var a=void 0,s=t(o,r);return(a=i.containsError(n,s))?a:e?n&&s:n||s},e)}}();if("object"===("undefined"==typeof a?"undefined":_typeof(a)))return a.v}else if(r.determiner){var s=function(){var e="all"===r.determiner;return{v:r.array.reduce(function(r,o){var a=void 0,s=t(n,o);return(a=i.containsError(r,s))?a:e?r&&s:r||s},e)}}();if("object"===("undefined"==typeof s?"undefined":_typeof(s)))return s.v}return e(n,r)};return t}var u=r.isObject,c=r.collectionType,l=r.coerceToString,f=r.is,p=r.clone,d=r.unique,h=r.contains,m=(r.typeName,r.objectName),g=void 0,y=0,v="If one of these values is a number, you may want to write a check that it 'is not 0'. Also, if one is a string, you may want to write a check that it 'is not \"\" '.";return g={create:function(e){var t=Object.create(this);return t.Identifiers={TwineScript_Identifiers:!0,get it(){return y},get time(){return Date.now()-e.timestamp}},t},elidedComparisonOperator:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;n>i;i++)r[i-2]=arguments[i];return r.reduce(function(n,r){return"boolean"==typeof r?r:g[e](n,g[t](y,r))},"and"===e)},and:o("boolean",a(function(e,t){return e&&t}),"use 'and' to join",v),or:o("boolean",a(function(e,t){return e||t}),"use 'or' to join",v),not:o("boolean",function(e){return!e},"use 'not' to invert",v),"+":a(function(e,t){if(Array.isArray(e))return[].concat(_toConsumableArray(e),_toConsumableArray(t));var n=void 0;return e instanceof Map?(n=new Map(e),t.forEach(function(e,t){return n.set(t,e)}),n):e instanceof Set?new Set([].concat(_toConsumableArray(e),_toConsumableArray(t)).filter(d).map(p)):"function"==typeof e["TwineScript_+"]?e["TwineScript_+"](t):"string|number|boolean".includes("undefined"==typeof e?"undefined":_typeof(e))?e+t:i.create("operation","I can't use + on "+m(e)+".")}),"-":a(function(e,t){if(Array.isArray(e))return e.filter(function(e){return!t.some(function(t){return f(e,t)})});if(e instanceof Set){var n=function(){var n=[].concat(_toConsumableArray(t));return{v:new Set([].concat(_toConsumableArray(e)).filter(function(e){return!n.some(function(t){return f(e,t)})}))}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v}return"string"==typeof e?e.split(t).join(""):"number"==typeof e?e-t:i.create("operation","I can't use - on "+m(e)+".")}),"*":o("number",a(function(e,t){return e*t}),"multiply"),"/":o("number",a(function(e,t){return 0===t?i.create("operation","I can't divide "+m(e)+" by zero."):e/t}),"divide"),"%":o("number",a(function(e,t){return 0===t?i.create("operation","I can't modulo "+m(e)+" by zero."):e%t}),"modulus"),"<":s(o("number",a(function(e,t){return t>e}),"do < to")),">":s(o("number",a(function(e,t){return e>t}),"do > to")),"<=":s(o("number",a(function(e,t){return t>=e}),"do <= to")),">=":s(o("number",a(function(e,t){return e>=t}),"do >= to")),is:s(f),isNot:s(function(e,t){return!g.is(e,t)}),contains:s(h),isIn:s(function(e,t){return h(t,e)}),where:function(e,t,n){var r=void 0;return(r=i.containsError(e))?r:"boolean"!=typeof e?i.create("operation","This lambda's 'where' clause must evaluate to true or false, not "+m(e)+"."):e?t:n},makeSpreader:function(e){return{value:e,spreader:!0}},makeAssignmentRequest:function(e,t,r){var o=i.containsError(e,t);return o?o:u(e)&&"varref"in e?n.create(e,t,r):i.create("operation","I can't store a new value inside "+m(e)+".")},setIt:function(e){return i.containsError(e)?e:e.varref?(y=e.get(),e):i.create("operation","I can't put a new value into "+m(e)+".")},initialiseIt:function(e){y=e}},Object.freeze(g)}),define("twinescript/environ",["macros","state","utils","datatypes/colour","datatypes/hookset","datatypes/lambda","internaltypes/varref","internaltypes/twineerror","twinescript/operations"],function(Macros,State,Utils,Colour,HookSet,Lambda,VarRef,TwineError,OperationsProto){return function(section){"object"===("undefined"==typeof section?"undefined":_typeof(section))&&section||Utils.impossible("TwineScript.environ","no Section argument was given!");var Operations=OperationsProto.create(section);return section.eval=function(){try{for(var _len5=arguments.length,args=Array(_len5),_key5=0;_len5>_key5;_key5++)args[_key5]=arguments[_key5];return eval(args.join(""))}catch(e){return e}},section}}),define("internaltypes/twinenotifier",["jquery","utils"],function(e,t){var n=t.impossible,r={create:function(e){return e||n("TwineNotifier.create","called with only 1 string."),Object.assign(Object.create(r),{message:e})},render:function(){return e("<tw-notifier>").attr("message",this.message)}};return r}),define("section",["jquery","utils","utils/selectors","renderer","twinescript/environ","twinescript/operations","state","utils/operationutils","datatypes/changercommand","datatypes/hookset","datatypes/colour","internaltypes/changedescriptor","internaltypes/varscope","internaltypes/twineerror","internaltypes/twinenotifier"],function(e,t,n,r,i,o,a,s,u,c,l,f,p,d,h){function m(e,n,r){if(n&&"object"===("undefined"==typeof n?"undefined":_typeof(n))&&n.changer){var i=this.renderInto(r.popAttr("source"),r,n);if(!i){var o=t.insensitiveName(e.attr("name"));return void(["if","elseif","unless","else"].includes(o)&&(e.addClass("false"),"elseif"!==o&&(this.stack[0].lastHookShown=!1)))}}else if(n&&"object"===("undefined"==typeof n?"undefined":_typeof(n))&&n.live)x.call(this,r,n.delay,n.event);else{if(n===!1)return r.attr("source")&&r.data("hiddenSource",r.popAttr("source")),e.addClass("false"),void(this.stack[0].lastHookShown=!1);n!==!0&&e.replaceWith(d.create("datatype",S(n)+" cannot be attached to this hook.","Only Booleans, changer commands, and the (live:) macro can be attached to hooks.").render(e.attr("title")))}this.stack[0].lastHookShown=!0}function g(t){var n=t instanceof e?t[0]:t,r=n.nextSibling;if(r&&(r instanceof Text&&!r.textContent.trim()||"br"===(r.tagName||"").toLowerCase())){var i=g(r),o=i.whitespace,a=i.nextElem;return{whitespace:e(r).add(o),nextElem:a}}return{whitespace:e(),nextElem:e(r)}}function y(r){var i=this.eval(r.popAttr("js")||""),a=void 0,s=void 0,c=e();for(s=r;u.isPrototypeOf(i);){var f=g(s);if(a=f.whitespace,s=f.nextElem,s[0]instanceof Text&&"+"===s[0].textContent.trim()){var p=void 0,y=s,v=g(y);if(p=v.whitespace,s=v.nextElem,s.is(n.expression)){var b=this.eval(s.popAttr("js"));if(d.containsError(b)){i=b;break}var w=o["+"](i,b);e(a).add(y).add(p).remove(),i=d.containsError(w)?d.create("operation","I can't combine "+S(i)+" with "+S(b)+"."):w;continue}}if(s.is(n.hook)){a.remove(),c=s;break}r.replaceWith(d.create("syntax","The ("+i.macroName+":) command should be assigned to a variable or attached to a hook.","Macros like this should appear to the left of a hook: "+r.attr("title")+"[Some text]").render(r.attr("title")));break}c=c.length?c:g(r).nextElem.filter(n.hook);var x=void 0;if(x=d.containsError(i))x instanceof Error&&(x=d.fromError(x)),r.replaceWith(x.render(r.attr("title"),r));else if(h.isPrototypeOf(i))r.append(i.render());else if(!c.length&&("string"==typeof i||"number"==typeof i||i instanceof Map||i instanceof Set||Array.isArray(i)||l.isPrototypeOf(i))||i&&i.TwineScript_Print&&!i.changer){if(i=T(i),i.earlyExit)return"earlyexit";i instanceof e?r.append(i):d.containsError(i)?(i instanceof Error&&(i=d.fromError(i)),r.replaceWith(i.render(r.attr("title"),r))):this.renderInto(i,r)}else c.length?m.call(this,r,i,c):i.changer||"boolean"==typeof i||t.impossible("Section.runExpression","The expression evaluated to an unknown value: "+i.toSource())}function v(e){var t=e.first()[0],n=e.parent();if(!n.length)return null;var r=n.textNodes().filter(function(e){var n=e.compareDocumentPosition(t);return 4&n&&!(8&n)});return r=r[r.length-1],r?r:v(n)}function b(e){var t=e.last()[0],n=e.parent();if(!n.length)return null;var r=n.textNodes().filter(function(e){var n=e.compareDocumentPosition(t);return 2&n&&!(8&n)})[0];return r?r:b(n)}function w(t){function n(t){return 0===e(this||t).parentsUntil("tw-collapsed").filter("tw-verbatim, tw-expression, [collapsing=false]").length}var r=v(t);e(r).parents("tw-collapsed").length||(r=null);

var i=b(t);e(i).parents("tw-collapsed").length||(i=null),t.findAndFilter("br:not([data-raw])").filter(n).replaceWith(document.createTextNode(" "));var o=t.textNodes(),a=0;o.reduce(function(e,t){return n(t)?(t.textContent=t.textContent.replace(/\s+/g," ")," "!==t.textContent[0]||e&&e.textContent&&!(e.textContent.search(/\s$/)>-1)||(t.textContent=t.textContent.slice(1)),t):document.createTextNode("A")},r),[].concat(_toConsumableArray(o)).reverse().every(function(e){return n(e)?e.textContent.match(/^\s*$/)?(a+=e.textContent.length,e.textContent="",!0):(e.textContent=e.textContent.replace(/\s+$/,function(e){return a+=e.length,""}),!1):!1}),a>0&&i&&(o[o.length-1].textContent+=" "),t[0]&&j()&&t[0].normalize()}function x(e,t){var r=this,i=e.popAttr("source")||"";t=void 0===t?20:t;var o=function o(){r.inDOM()&&(r.renderInto(i,e,{append:"replace"}),e.find(n.expression+"[name='stop']").length||r.inDOM()&&setTimeout(o,t))};setTimeout(o,t)}var T=s.printBuiltinValue,S=s.objectName,O=void 0,j=function(){var t=void 0;return function(){if(void 0!==t)return t;var n=e("<p>");return n[0].normalize?(n.append(document.createTextNode("0-"),document.createTextNode("2"),document.createTextNode(""))[0].normalize(),t=1===n.contents().length):t=!1}}();return O={create:function(n){n instanceof e&&1===n.length||t.impossible("Section.create","called with no DOM element");var r=Object.assign(Object.create(this),{timestamp:Date.now(),dom:n||t.storyElement,stack:[],enchantments:[]});return r=i(r)},inDOM:function(){return e(t.storyElement).find(this.dom).length>0},evaluateTwineMarkup:function(t){var n=e("<p>");this.renderInto(t,n);var r=void 0;return(r=n.find("tw-error")).length>0?r:n.text()},renderInto:function(t,r){for(var i=this,o=f.create({target:r,source:t,section:this}),a=arguments.length,s=Array(a>2?a-2:0),u=2;a>u;u++)s[u-2]=arguments[u];s.forEach(function(e){e.changer?e.run(o):Object.assign(o,e)}),r=o.target,this.stack.length>=50&&d.create("infinite","Printing this expression may have trapped me in an infinite loop.").render(r.attr("title")).replaceAll(r);var c=function(t,o){var a=t.render();i.stack.unshift(o);var s=i;a.findAndFilter(n.hook+","+n.expression).each(function(){var t=e(this);switch(t.tag()){case n.hook:if(t.attr("hidden")&&(t.removeAttr("hidden"),t.data("hiddenSource",t.popAttr("source"))),t.attr("source")&&s.renderInto(t.popAttr("source"),t),t.find("[earlyexit]").length)return!1;break;case n.expression:if(t.attr("js")){var r=y.call(s,t);return"earlyexit"===r?(a.attr("earlyexit",!0),!1):r}}}),a.length&&r instanceof e&&r.is(n.hook)&&r.parents("tw-collapsed").length>0&&w(a),a.findAndFilter(n.collapsed).each(function(){w(e(this))}),i.stack.shift()},l=Object.create(this.stack.length?this.stack[0].tempVariables:p),h=r&&r.tag();return l.TwineScript_VariableStoreName=h===n.hook?r.attr("name")?"?"+r.attr("name"):"an unnamed hook":h===n.expression?"a "+r.attr("type")+" expression":h===n.passage?"this passage":"an unknown scope",Object.keys(o.loopVars).length?!function(){for(var e=Object.assign({},o.loopVars),t=Math.min.apply(Math,_toConsumableArray(Object.keys(e).map(function(t){return e[t].length})));t>0;t-=1)c(o,{tempVariables:Object.keys(e).reduce(function(t,n){return t[n]=e[n].shift(),t},Object.create(l))})}():c(o,{tempVariables:l}),0===this.stack.length&&this.updateEnchantments(),o.enabled},updateEnchantments:function(){this.enchantments.forEach(function(e){e.disenchant(),e.enchantScope()})}},Object.preventExtensions(O)}),define("engine",["jquery","utils","utils/selectors","state","section","passages"],function(e,t,n,r,i,o){function a(){var t=e("<tw-passage><tw-sidebar>"),i=t.children(n.sidebar);h.permalink&&r.save&&i.append('<tw-icon tabindex=0 class="permalink" title="Permanent link to this passage"><a href="#'+r.save()+'">&sect;');var o=e('<tw-icon tabindex=0 class="undo" title="Undo">&#8630;</tw-icon>').click(d.goBack),a=e('<tw-icon tabindex=0 class="redo" title="Redo">&#8631;</tw-icon>').click(d.goForward);return r.pastLength<=0&&o.css("visibility","hidden"),r.futureLength<=0&&a.css("visibility","hidden"),i.append(o).append(a),t}function s(e,t){return"<tw-include type="+e+" title='"+c(t.get("name"))+"'>"+t.get("source")+"</tw-include>"}function u(u){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.assertOnlyHas(c,["stretch","transitionIn","transitionOut"]);var d=o.get(u),m=t.storyElement,g=m.parent(),y=c.stretch,v=c.transitionOut,b=c.transitionIn;if(v=v||"instant",g.is(n.enchantment)){var w=g.data("enchantedProperties");w&&m.css(w.reduce(function(e,t){return e[t]="",e},{})),g=m.unwrap().parent()}d&&d instanceof Map&&d.has("source")||l("Engine.showPassage","There's no passage with the name \""+u+'"!'),m.detach();var x=t.$(m.children(f));!y&&v&&(p(x,v),x.css("position","absolute"));var T=(d.get("tags")||[]).join(" "),S=a().appendTo(m).attr({tags:T});m.attr({tags:T});var O=i.create(S),j=d.get("source");j=o.getTagged("header").map(s.bind(0,"header")).join("")+(h.debug?o.getTagged("debug-header").map(s.bind(0,"debug-header")).join(""):"")+j+o.getTagged("footer").map(s.bind(0,"footer")).join("")+(h.debug?o.getTagged("debug-footer").map(s.bind(0,"debug-footer")).join(""):""),r.pastLength<=0&&(h.debug&&(j=o.getTagged("debug-startup").map(s.bind(0,"debug-startup")).join("")+j),j=o.getTagged("startup").map(s.bind(0,"startup")).join("")+j),O.renderInto(j,S,{transition:b||"dissolve"}),g.append(m.parents().length?m.parents().last():m),scroll(0,y?S.offset().top-.05*e(window).height():m.offset().top)}var c=t.escape,l=t.impossible,f=t.passageSelector,p=t.transitionOut,d=void 0,h=Object.create(null);return d={goBack:function(){r.rewind()&&u(r.passage)},goForward:function(){r.fastForward()&&u(r.passage)},goToPassage:function(e,t){r.play(e),u(e,{stretch:t})},showPassage:u,options:h},Object.freeze(d)}),define("debugmode",["jquery","utils","state","internaltypes/varref","utils/operationutils","engine"],function(e,t,n,r,i,o){{var a=i.objectName;i.typeName}return function(){function t(t,n,r){var i=l.children('[data-name="'+t+'"]'),o=a(n);i.length||(i=e('<div class="variable-row" data-name="'+t+'" data-value="'+o+'"></div>').appendTo(l)),i.empty().append("<span class='variable-name "+(r?"temporary":"")+"'>"+t+(r?"<span class='temporary-variable-scope'>"+r+"</span>":"")+"</span><span class='variable-value'>"+a(n)+"</span>");var s=l.children();c.text(s.length+" Variable"+(1!==s.length?"s":""))}function i(){var r=[];l.children().each(function(i,o){o=e(o);var s=o.attr("data-name"),u=o.attr("data-value");s.startsWith("TwineScript")||(s in n.variables?(r.push(s),a(n.variables[s])!==u&&t(s,n.variables[s])):o.remove())});for(var i in n.variables)i.startsWith("TwineScript")||r.includes(i)||t(i,n.variables[i])}var s=e("<tw-debugger><div class='variables'></div>Turns: <select disabled></select><button class='show-invisibles'>Debug View</button><button class='show-variables enabled'>0 Variables</button></tw-debugger>"),u=s.find(".show-invisibles");u.click(function(){e(document.documentElement).toggleClass("debug-mode"),u.toggleClass("enabled")});var c=s.find(".show-variables"),l=s.find(".variables");c.click(function(){l[c.is(".enabled")?"attr":"removeAttr"]("hidden",""),c.toggleClass("enabled")});var f=s.find("select");f.change(function(e){var t=e.target.value,r=t-n.pastLength;0!==r&&(n[0>r?"rewind":"fastForward"](Math.abs(r)),o.showPassage(n.passage))}),n.on("forward",function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1,i=n.pastLength;i>1&&f.removeAttr("disabled"),r||(f.children().each(function(t,n){t>=i&&e(n).remove()}),f.append("<option value="+i+">"+(i+1)+": "+t+"</option>").val(i))}).on("back",function(){n.pastLength<=1&&f.attr("disabled"),f.find("[selected]").removeAttr("selected"),f.val(n.pastLength)}).on("load",function(e){f.empty(),f[e.length<=1?"attr":"removeAttr"]("disabled"),e.forEach(function(e,t){return f.append("<option value="+t+">"+(t+1)+": "+e.passage+"</option>")})}),n.on("forward",i).on("back",i),r.on("set",function(e,r,i){(e===n.variables||e.TwineScript_VariableStore)&&t(r,i,e===n.variables?"":e.TwineScript_VariableStoreName)}).on("delete",function(e,t){e===n.variables&&l.find('[data-name="'+t+'"]:not(.temporary)').remove()}),e(document.body).append(s)}}),define("macrolib/values",["macros","utils","utils/operationutils","datatypes/colour","internaltypes/twineerror"],function(e,t,n,r,i){function o(e){return function(){var t=e.apply(void 0,arguments);return"number"!=typeof t||isNaN(t)?i.create("macrocall","This mathematical expression doesn't compute!"):t}}var a=t.realWhitespace,s=t.anyRealLetter,u=n.subset,c=n.objectName,l=e.TypeSignature,f=l.rest,p=l.zeroOrMore,d=l.Any;e.add(["text","string"],function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return t.join("")},[p(e.TypeSignature.either(String,Number,Boolean,Array))])("substring",function(e,t,n,r){return u(t,n,r)},[String,parseInt,parseInt])("lowercase",function(e,t){return t.toLowerCase()},[String])("uppercase",function(e,t){return t.toUpperCase()},[String])("lowerfirst",function(e,t){return t.replace(new RegExp(s+"+"),function(e){return e=Array.from(e),e[0].toLowerCase()+e.slice(1).join("").toLowerCase()})},[String])("upperfirst",function(e,t){return t.replace(new RegExp(s+"+"),function(e){return e=Array.from(e),e[0].toUpperCase()+e.slice(1).join("").toLowerCase()})},[String])("words",function(e,t){return t.split(new RegExp(a+"+")).filter(Boolean)},[String])(["num","number"],function(e,t){return Number.isNaN(+t)?i.create("macrocall","I couldn't convert "+c(t)+" to a number."):+t},[String])("rgb",function(){for(var e,t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1)if(e=arguments.length<=t+1?void 0:arguments[t+1],0>e||e>255)return i.create("macrocall","RGB values must be whole numbers between 0 and 255, not "+c(e)+".");return r.create({r:arguments.length<=1?void 0:arguments[1],g:arguments.length<=2?void 0:arguments[2],b:arguments.length<=3?void 0:arguments[3]})},[parseInt,parseInt,parseInt])("rgba",function(){for(var e,t=0;3>t;t+=1)if(e=arguments.length<=t+1?void 0:arguments[t+1],0>e||e>255)return i.create("macrocall","RGB values must be whole numbers between 0 and 255, not "+c(e)+".");return(arguments.length<=4?void 0:arguments[4])<0||(arguments.length<=4?void 0:arguments[4])>1?i.create("macrocall","Alpha values must be numbers between 0 and 1 inclusive, not "+c(arguments.length<=4?void 0:arguments[4])+"."):r.create({r:arguments.length<=1?void 0:arguments[1],g:arguments.length<=2?void 0:arguments[2],b:arguments.length<=3?void 0:arguments[3],a:arguments.length<=4?void 0:arguments[4]})},[parseInt,parseInt,parseInt,Number])("hsl",function(e,t,n,o){var a=" values must be numbers between 0 and 1 inclusive, not ";return 0>n||n>1?i.create("macrocall","Saturation"+a+c(n)+"."):0>o||o>1?i.create("macrocall","Lightness"+a+c(o)+"."):(t=Math.round(t)%360,0>t&&(t+=360),r.create({h:t,s:n,l:o}))},[Number,Number,Number])("hsla",function(e,t,n,o,a){var s=" values must be numbers between 0 and 1 inclusive, not ";return 0>n||n>1?i.create("macrocall","Saturation"+s+c(n)+"."):0>o||o>1?i.create("macrocall","Lightness"+s+c(o)+"."):0>a||a>1?i.create("macrocall","Alpha"+s+c(o)+"."):(t=Math.round(t)%360,0>t&&(t+=360),r.create({h:t,s:n,l:o,a:a}))},[Number,Number,Number,Number]),{weekday:[function(){return["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur"][(new Date).getDay()]+"day"},null],monthday:[function(){return(new Date).getDate()},null],currenttime:[function(){var e=new Date,t=e.getHours()<12,n=e.getHours()%12||12,r=(e.getMinutes()<10?"0":"")+e.getMinutes();return n+":"+r+" "+(t?"A":"P")+"M"},null],currentdate:[function(){return(new Date).toDateString()},null],min:[Math.min,f(Number)],max:[Math.max,f(Number)],abs:[Math.abs,Number],sign:[Math.sign,Number],sin:[Math.sin,Number],cos:[Math.cos,Number],tan:[Math.tan,Number],floor:[Math.floor,Number],round:[Math.round,Number],ceil:[Math.ceil,Number],pow:[o(Math.pow),[Number,Number]],exp:[Math.exp,Number],sqrt:[o(Math.sqrt),Number],log:[o(Math.log),Number],log10:[o(Math.log10),Number],log2:[o(Math.log2),Number],random:[function(e,t){var n=void 0,r=void 0;return t?(n=Math.min(e,t),r=Math.max(e,t)):(n=0,r=e),r+=1,~~(Math.random()*(r-n))+n},[parseInt,e.TypeSignature.optional(parseInt)]],either:[function(){var e;return e=~~(Math.random()*arguments.length),arguments.length<=e?void 0:arguments[e]},f(d)],"":function(){var t=this;Object.keys(this).forEach(function(n){n&&!function(){var r=t[n][0],i=t[n][1];e.add(n,function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return r.apply(void 0,t)},i)}()})}}[""]()}),function(e){!function(){if(!e.requestAnimationFrame){if(e.webkitRequestAnimationFrame)return e.requestAnimationFrame=e.webkitRequestAnimationFrame,void(e.cancelAnimationFrame=e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame);var t=0;e.requestAnimationFrame=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),o=e.setTimeout(function(){n(r+i)},i);return t=r+i,o},e.cancelAnimationFrame=function(e){clearTimeout(e)}}}(),"function"==typeof define&&define("requestAnimationFrame",[],function(){return e.requestAnimationFrame})}(window),define("macrolib/commands",["requestAnimationFrame","macros","utils","state","passages","engine","internaltypes/twineerror","datatypes/hookset","utils/operationutils"],function(e,t,n,r,i,o,a,s,u){function c(e){return"("+e+" "+o.options.ifid+") "}var l=n.toJSLiteral,f=n.unescape,p=u.printBuiltinValue,d=t.TypeSignature,h=d.Any,m=d.rest,g=d.optional,y=!!localStorage&&function(){try{return localStorage.setItem("test","1"),localStorage.removeItem("test"),!0}catch(e){return!1}}();t.add("display",function(e,t){return{TwineScript_ObjectName:"a (display: "+l(t)+") command",TwineScript_TypeName:"a (display:) command",TwineScript_Print:function(){return i.has(t)?f(i.get(t).get("source")):a.create("macrocall","I can't (display:) the passage '"+t+"' because it doesn't exist.")}}},[String])("print",function(e,t){return{TwineScript_ObjectName:"a (print:) command",TwineScript_TypeName:"a (print:) command",TwineScript_Print:function(){return p(t)}}},[h])("show",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return{TwineScript_ObjectName:"a (show:) command",TwineScript_TypeName:"a (show:) command",TwineScript_Print:function(){return n.forEach(function(t){return t.forEach(e,function(t){var n=t.data("hiddenSource");return void 0===n?a.create("operation","I can't reveal a hook which is already visible."):void e.renderInto(n,t)})}),""}}},[m(s)])("goto",function(t,n){return{TwineScript_ObjectName:"a (go-to: "+l(n)+") command",TwineScript_TypeName:"a (go-to:) command",TwineScript_Print:function(){return i.has(n)?(e(function(){return o.goToPassage(n)}),{earlyExit:1}):a.create("macrocall","I can't (go-to:) the passage '"+n+"' because it doesn't exist.")}}},[String])("goto-transition",function(t,n,r){return{TwineScript_ObjectName:"a (goto-transition: "+l(n)+","+l(r)+") command",TwineScript_TypeName:"a (goto-transition:) command",TwineScript_Print:function(){return i.has(n)?(e(function(){return o.goToPassage(n,{transitionIn:r,transitionOut:r})}),{earlyExit:1}):a.create("macrocall","I can't (goto-transition:) the passage '"+r+"' because it doesn't exist.")}}},[String,String])("undo",function(){return{TwineScript_ObjectName:"a (undo:) command",TwineScript_TypeName:"a (undo:) command",TwineScript_Print:function(){return r.pastLength<1?a.create("macrocall","I can't (undo:) on the first turn."):(e(function(){return o.goBack()}),{earlyExit:1})}}},[])("live",function(e,t){return{TwineScript_ObjectName:"a (live: "+t+") command",TwineScript_TypeName:"a (live:) command",live:!0,delay:t}},[g(Number)])("stop",function(){return{TwineScript_ObjectName:"a (stop:) command",TwineScript_TypeName:"a (stop:) command",TwineScript_Print:function(){return""}}},[])("savegame",function(e,t,n){if(n=n||"",!y)return!1;var i=r.serialise();if(a.containsError(i))return i;try{return localStorage.setItem(c("Saved Game")+t,i),localStorage.setItem(c("Saved Game Filename")+t,n),!0}catch(e){return!1}},[String,g(String)])("loadgame",function(t,n){return{TwineScript_ObjectName:"a (load-game:) command",TwineScript_TypeName:"a (load-game:) command",TwineScript_Print:function(){var t=localStorage.getItem(c("Saved Game")+n);return t?(r.deserialise(t),e(o.showPassage.bind(o,r.passage,!1)),{earlyExit:1}):a.create("saving","I can't find a save slot named '"+n+"'!")}}},[String])("alert",function(e,t){return{TwineScript_ObjectName:"an (alert:) command",TwineScript_TypeName:"an (alert:) command",TwineScript_Print:function(){return window.alert(t),""}}},[String])("prompt",function(e,t,n){return window.prompt(t,n)||""},[String,String])("confirm",function(e,t){return window.confirm(t)},[String])("openURL",function(e,t){return{TwineScript_ObjectName:"an (open-url:) command",TwineScript_TypeName:"an (open-url:) command",TwineScript_Print:function(){return window.open(t,""),""}}},[String])("reload",function(){return{TwineScript_ObjectName:"a (reload:) command",TwineScript_TypeName:"a (reload:) command",TwineScript_Print:function(){return r.pastLength<1?a.create("infinite","I mustn't (reload:) the page in the starting passage."):(window.location.reload(),{earlyExit:1})}}},[])("gotoURL",function(e,t){return{TwineScript_ObjectName:"a (goto-url:) command",TwineScript_TypeName:"a (goto-url:) command",TwineScript_Print:function(){return window.location.assign(t),{earlyExit:1}}}},[String])("pageURL",function(){return window.location.href},[])}),define("macrolib/datastructures",["jquery","utils/naturalsort","macros","utils/operationutils","state","engine","passages","datatypes/lambda","datatypes/assignmentrequest","internaltypes/twineerror","internaltypes/twinenotifier"],function(e,t,n,r,i,o,a,s,u,c,l){var f=r.objectName,p=(r.typeName,r.subset),d=r.collectionType,h=r.isValidDatamapName,m=r.is,g=r.unique,y=r.clone,v=n.TypeSignature,b=v.optional,w=v.rest,x=v.either,T=v.zeroOrMore,S=v.Any;n.add("set",function(){for(var e="",t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1){var n=arguments.length<=t+1?void 0:arguments[t+1];if("into"===n.operator)return c.create("macrocall","Please say 'to' when using the (set:) macro.");var r=void 0;if(n.src&&n.src.varref){var i=n.src.get(),a=void 0;if(a=c.containsError(i))return a;r=n.dest.set(i)}else r=n.dest.set(n.src);if(c.isPrototypeOf(r))return r;o.options.debug&&(e+=(e?"; ":"")+f(n.dest)+" is now "+f(n.src))}return{TwineScript_TypeName:"a (set:) operation",TwineScript_ObjectName:"a (set:) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return e&&l.create(e).render()}}},[w(u)])("put",function(){for(var e="",t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1){var n=arguments.length<=t+1?void 0:arguments[t+1];if("into"!==n.operator)return c.create("macrocall","Please say 'into' when using the (put:) macro.");var r=n.dest.set(n.src);if(c.isPrototypeOf(r))return r;o.options.debug&&(e+=(e?"; ":"")+f(n.dest)+" is now "+f(n.src))}return{TwineScript_TypeName:"a (put:) operation",TwineScript_ObjectName:"a (put:) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return e&&l.create(e).render()}}},[w(u)])("move",function(){for(var e="",t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1){var n=arguments.length<=t+1?void 0:arguments[t+1];if("into"!==n.operator)return c.create("macrocall","Please say 'into' when using the (move:) macro.");var r=void 0,i=void 0;if(n.src&&n.src.varref){var a=n.src.get();if(i=c.containsError(a))return i;if(r=n.dest.set(a),i=c.containsError(r))return i;n.src.delete()}else if(r=n.dest.set(n.src),i=c.containsError(r))return i;o.options.debug&&(e+=(e?"; ":"")+f(n.dest)+" is now "+f(n.src))}return{TwineScript_TypeName:"a (move:) operation",TwineScript_ObjectName:"a (move:) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return e&&l.create(e).render()}}},[w(u)])(["a","array"],function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return t},T(S))("range",function e(t,n,r){if(n>r)return e(t,r,n);var i=[n];for(r-=n;r-->0;)i.push(++n);return i},[parseInt,parseInt])("subarray",function(e,t,n,r){return p(t,n,r)},[Array,parseInt,parseInt])("shuffled",function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return t.reduce(function(e,t,n){var r=Math.random()*(n+1)|0;return r===n?e.push(t):(e.push(e[r]),e[r]=t),e},[]).map(y)},[S,w(S)])("sorted",function(){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return n.sort(t("en"))},[x(Number,String),w(x(Number,String))])("rotated",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;n>i;i++)r[i-2]=arguments[i];return t*=-1,0===t?c.create("macrocall","I can't rotate these values by 0 positions."):Math.abs(t)>=r.length?c.create("macrocall","I can't rotate these "+r.length+" values by "+t+" positions."):r.slice(t).concat(r.slice(0,t)).map(y)},[parseInt,S,w(S)])("repeated",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;n>i;i++)r[i-2]=arguments[i];if(0>=t)return c.create("macrocall","I can't repeat these values "+t+" times.");for(var o=[];t-->0;)o.push.apply(o,r);return o.map(y)},[parseInt,w(S)])("interlaced",function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];for(var r=Math.min.apply(Math,_toConsumableArray(t.map(function(e){return e.length}))),i=[],o=0;r>o;o+=1)for(var a=0;a<t.length;a+=1)i.push(y(t[a][o]));return i},[Array,w(Array)]),n.add("altered",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;n>i;i++)r[i-2]=arguments[i];return r.map(function(n){return t.apply(e,{loop:n})})},[s.TypeSignature("via"),w(S)])("find",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;n>i;i++)r[i-2]=arguments[i];return t.filter(e,r)},[s.TypeSignature("where"),w(S)])("all-pass",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;n>i;i++)r[i-2]=arguments[i];var o=t.filter(e,r);return c.containsError(o)||o.length===r.length},[s.TypeSignature("where"),w(S)])("some-pass",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;n>i;i++)r[i-2]=arguments[i];var o=t.filter(e,r);return c.containsError(o)||o.length>0},[s.TypeSignature("where"),w(S)])("none-pass",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;n>i;i++)r[i-2]=arguments[i];var o=t.filter(e,r);return c.containsError(o)||0===o.length},[s.TypeSignature("where"),w(S)])("folded",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;n>i;i++)r[i-2]=arguments[i];return"where"in t&&(r=t.filter(e,r)),c.containsError(r)||r.reduce(function(n,r){return t.apply(e,{making:n,loop:r})})},[x(s.TypeSignature("where via making"),s.TypeSignature("via making")),w(S)]),n.add("datanames",function(e,n){return Array.from(n.keys()).sort(t("en"))},[Map])("datavalues",function(e,n){return Array.from(n.entries()).sort(function(e,n){return[e[0],n[0]].sort(t("en"))[0]===e[0]?-1:1}).map(function(e){return y(e[1])})},[Map])("dataentries",function(e,n){return Array.from(n.entries()).sort(function(e,n){return[e[0],n[0]].sort(t("en"))[0]===e[0]?-1:1}).map(function(e){return new Map([["name",e[0]],["value",y(e[1])]])})},[Map])("history",function(){return i.pastPassageNames()},[])("passage",function(e,t){return y(a.get(t||i.passage))||c.create("macrocall","There's no passage named '"+t+"' in this story.")},[b(String)])("savedgames",function(){function e(e){return"("+e+" "+o.options.ifid+") "}var t=0,n=void 0,r=new Map;do{n=localStorage.key(t),t+=1;var i=e("Saved Game");n&&n.startsWith(i)&&(n=n.slice(i.length),r.set(n,localStorage.getItem(e("Saved Game Filename")+n)))}while(n);return r},[])(["datamap","dm"],function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];var r=void 0,i=new Map,o=t.reduce(function(e,t){var n=void 0;if(c.containsError(e))return e;if(void 0===r)r=t;else{if(n=c.containsError(h(i,r)))return n;if(i.has(r))return c.create("macrocall","You used the same data name ("+f(r)+") twice in the same (datamap:) call.");i.set(r,y(t)),r=void 0}return e},!0);return c.containsError(o)?o:void 0!==r?c.create("macrocall","This datamap has a data name without a value."):i},T(S))(["dataset","ds"],function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return new Set(t.filter(g).map(y))},T(S))("count",function e(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;r>o;o++)i[o-2]=arguments[o];if(i.length>1){var a=void 0,s=i.map(function(r){return e(t,n,r)});return(a=c.containsError(s))?a:s.reduce(function(e,t){return e+t},0)}var u=i[0];switch(d(n)){case"dataset":case"datamap":return c.create("macrocall","(count:) shouldn't be given a datamap or dataset.","You should use the 'contains' operator instead. For instance, write: $variable contains 'value'.");case"string":return"string"!=typeof u?c.create("macrocall",f(n)+" can't contain  "+f(u)+" because it isn't a string."):u?n.split(u).length-1:0;case"array":return n.reduce(function(e,t){return e+m(t,u)},0);default:return c.create("macrocall",f(n)+" can't contain values, let alone "+f(u)+".")}},[S,w(S)])}),define("macrolib/stylechangers",["jquery","macros","utils","utils/selectors","datatypes/colour","datatypes/changercommand","datatypes/lambda","internaltypes/changedescriptor","internaltypes/twineerror"],function(e,t,n,r,i,o,a,s,u){var c=t.TypeSignature,l=c.either,f=c.wrapped,p=c.rest,d=c.Any,h=[f(Boolean,'If you gave a number, you may instead want to check that the number is not 0. If you gave a string, you may instead want to check that the string is not "".')];e(function(){return e(n.storyElement).on("mouseenter.hover-macro","[hover=false]",function(){var t=e(this),n=t.data("hoverChanger");t.data({mouseoutStyle:t.attr("style")||""}),s.create({target:t},n).update(),t.attr("hover",!0)}).on("mouseleave.hover-macro","[hover=true]",function(){var t=e(this),n=t.data("mouseoutStyle");t.attr("style",n).removeData("mouseoutStyle").attr("hover",!1)})});var m=["dissolve","shudder","pulse"];t.addChanger("if",function(e,t){return o.create("if",[t])},function(e,t){return e.enabled=e.enabled&&t},h)("unless",function(e,t){return o.create("unless",[!t])},function(e,t){return e.enabled=e.enabled&&t},h)("elseif",function(e,t){return"lastHookShown"in e.stack[0]?o.create("elseif",[e.stack[0].lastHookShown===!1&&!!t]):u.create("macrocall","There's no (if:) or something else before this to do (else-if:) with.")},function(e,t){return e.enabled=e.enabled&&t},h)("else",function(e){return"lastHookShown"in e.stack[0]?o.create("else",[e.stack[0].lastHookShown===!1]):u.create("macrocall","There's nothing before this to do (else:) with.")},function(e,t){return e.enabled=e.enabled&&t},null)("hidden",function(){return o.create("hidden")},function(e){return e.enabled=!1},null)("hook",function(e,t){return o.create("hook",[t])},function(e,t){return e.attr.push({name:t})},[String])(["for","loop"],function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;n>i;i++)r[i-2]=arguments[i];return t.loop?o.create("for",[t,r]):u.create("macrocall","The lambda provided to (for:) must refer to a temp variable, not just 'it'.")},function(e,t,n){return e.loopVars[t.loop]=t.filter(e.section,n)},[a.TypeSignature("where"),p(d)])(["transition","t8n"],function(e,t){return t=n.insensitiveName(t),-1===m.indexOf(t)?u.create("macrocall","'"+t+"' is not a valid (transition:)","Only the following names are recognised (capitalisation and hyphens ignored): "+m.join(", ")):o.create("transition",[t])},function(e,t){return e.transition=t,e},[String])(["transition-time","t8n-time"],function(e,t){return 0>=t?u.create("macrocall","(transition-time:) should be a positive number of (milli)seconds, not "+t):o.create("transition-time",[t])},function(e,t){return e.transitionTime=t,e},[Number])("font",function(e,t){return o.create("font",[t])},function(e,t){return e.styles.push({"font-family":t}),e},[String])("align",function(e,t){var n=void 0,r=t.indexOf("><");if(!/^(==+>|<=+|=+><=+|<==+>)$/.test(t))return u.create("macrocall",'The (align:) macro requires an alignment arrow ("==>", "<==", "==><=" etc.) be provided, not "'+t+'"');if(~r){var i=Math.round(r/(t.length-2)*50);n=Object.assign({"text-align":"center","max-width":"50%"},25===i?{"margin-left":"auto","margin-right":"auto"}:{"margin-left":i+"%"})}else n="<"===t[0]&&">"===t.slice(-1)?{"text-align":"justify","max-width":"50%"}:t.includes(">")?{"text-align":"right"}:{"text-align":"left"};return n.display="block",o.create("align",[n])},function(e,t){e.styles.push(t)},[String])(["text-colour","text-color","color","colour"],function(e,t){return i.isPrototypeOf(t)&&(t=t.toRGBAString(t)),o.create("text-colour",[t])},function(e,t){return e.styles.push({color:t}),e},[l(String,i)])("text-rotate",function(e,t){return o.create("text-rotate",[t])},function(t,n){return t.styles.push({display:"inline-block",transform:function(){var t=e(this).css("transform")||"";return"none"===t&&(t=""),t+" rotate("+n+"deg)"}}),t},[Number])("background",function(e,t){return i.isPrototypeOf(t)&&(t=t.toRGBAString(t)),o.create("background",[t])},function(t,r){var o=void 0;return o=i.isHexString(r)||i.isCSS3Function(r)?{"background-color":r}:{"background-size":"cover","background-image":"url("+r+")"},t.styles.push(o,{display:function(){return n.childrenProbablyInline(e(this))?"initial":"block"}}),t},[l(String,i)]).apply(void 0,_toConsumableArray(function(){var t={color:"transparent"},r=Object.assign(Object.create(null),{none:{},bold:{"font-weight":"bold"},italic:{"font-style":"italic"},underline:{"text-decoration":"underline"},strike:{"text-decoration":"line-through"},superscript:{"vertical-align":"super","font-size":".83em"},subscript:{"vertical-align":"sub","font-size":".83em"},blink:{animation:"fade-in-out 1s steps(1,end) infinite alternate"},shudder:{animation:"shudder linear 0.1s 0s infinite",display:"inline-block"},mark:{"background-color":"hsla(60, 100%, 50%, 0.6)"},condense:{"letter-spacing":"-0.08em"},expand:{"letter-spacing":"0.1em"},outline:[{"text-shadow":function(){var t=e(this).css("color");return"-1px -1px 0 "+t+", 1px -1px 0 "+t+",-1px  1px 0 "+t+", 1px  1px 0 "+t}},{color:function(){for(var t=e(this);t.length&&t[0]!==document;t=t.parent()){var n=t.css("background-color");if("transparent"!==n&&!n.match(/^\w+a\(.+?,\s*0\s*\)$/))return n}return"#fff"}}],shadow:{"text-shadow":function(){return"0.08em 0.08em 0.08em "+e(this).css("color")}},emboss:{"text-shadow":function(){return"0.08em 0.08em 0em "+e(this).css("color")}},smear:[{"text-shadow":function(){var t=e(this).css("color");return"0em   0em 0.02em "+t+",-0.2em 0em  0.5em "+t+", 0.2em 0em  0.5em "+t}},t],blur:[{"text-shadow":function(){return"0em 0em 0.08em "+e(this).css("color")}},t],blurrier:[{"text-shadow":function(){return"0em 0em 0.2em "+e(this).css("color")},"user-select":"none"},t],mirror:{display:"inline-block",transform:"scaleX(-1)"},upsidedown:{display:"inline-block",transform:"scaleY(-1)"},fadeinout:{animation:"fade-in-out 2s ease-in-out infinite alternate"},rumble:{animation:"rumble linear 0.1s 0s infinite",display:"inline-block"}});return["text-style",function(e,t){return t=n.insensitiveName(t),t in r?o.create("text-style",[t]):u.create("macrocall","'"+t+"' is not a valid (text-style:)","Only the following names are recognised (capitalisation and hyphens ignored): "+Object.keys(r).join(", "))},function(e,t){return n.assertMustHave(r,[t]),e.styles="none"===t?[]:e.styles.concat(r[t]),e}]}()).concat([[String]]))("hover-style",function(e,t){var n=s.create(),r=(t.run(n),n.summary());return r+""=="styles"||r.every(function(e){return"styles"===e||"attr"===e})&&n.attr.every(function(e){return Object.keys(e)+""=="style"})?o.create("hover-style",[t]):u.create("macrocall","The changer given to (hover-style:) must only change the hook's style.")},function(e,t){return e.data.hoverChanger=t,e.attr.push({hover:!1}),e},[o])("css",function(e,t){return t.trim().endsWith(";")||(t+=";"),o.create("css",[t])},function(t,n){return t.attr.push({
style:function(){return(e(this).attr("style")||"")+n}}),t},[String])}),define("internaltypes/enchantment",["jquery","utils","internaltypes/changedescriptor"],function(e,t,n){var r={create:function(n){return t.assertOnlyHas(n,["scope","section","attr","data","changer","functions"]),Object.assign(Object.create(this),{enchantments:e()},n)},enchantScope:function(){var r=this,i=this.attr,o=this.data,a=this.functions,s=this.section,u=this.changer,c=this.scope;c instanceof e&&(c=Array.prototype.map.call(c,function(t){return e(t)})),this.enchantments=e(),c.forEach(s,function(e){var c=e.wrapAll("<tw-enchantment>").parent();if(i&&c.attr(i),o&&c.data(o),a&&a.forEach(function(e){return e(c)}),u){var l=n.create({section:s,target:c});if(u.run(l),l.update(),e.is(t.storyElement)){var f=Object.keys(Object.assign.apply(Object,[{}].concat(_toConsumableArray(l.styles))));e.css(f.reduce(function(e,t){return e[t]="inherit",e},{})),c.data({enchantedProperties:f})}}e.is(t.storyElement)&&c.css({width:"100%",height:"100%"}),r.enchantments=r.enchantments.add(c)})},disenchant:function(){this.enchantments.each(function(){var n=e(this).contents();n.unwrap();var r=e(this).data("enchantedProperties");r&&n.has(t.storyElement)&&t.storyElement.css(r.reduce(function(e,t){return e[t]="",e},{}))})}};return Object.freeze(r)}),define("macrolib/enchantments",["jquery","utils","utils/selectors","utils/operationutils","macros","datatypes/hookset","datatypes/changercommand","internaltypes/enchantment","internaltypes/twineerror"],function(e,t,n,r,i,o,a,s,u){function c(n,r){return e(function(){t.storyElement.on(n.event+".enchantment","."+n.classList.replace(/ /g,"."),function(){var t=e(this),n=t.data("enchantmentEvent");n&&n(t)})}),[function(){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];return t.every(Boolean)?a.create(r,t.map(o.from)):u.create("datatype","A string given to this ("+r+":) macro was empty.")},function(e,t){e.enabled=!1,n.rerender&&(e.newTargets=(e.newTargets||[]).concat({target:t,append:n.rerender}));var r=s.create({functions:[function(e){e.attr("class",e.children().is("tw-story, tw-sidebar, tw-passage")?n.blockClassList:n.classList)}],attr:(n.classList+"").match(/\b(?:link|enchantment-clickblock)\b/)?{tabIndex:"0"}:{},data:{enchantmentEvent:function(){if(n.once){var t=e.section.enchantments.indexOf(r);e.section.enchantments.splice(t,1),r.disenchant()}e.section.renderInto(e.source,null,Object.assign({},e,{enabled:!0}))}},scope:t,section:e.section});return e.section.enchantments.push(r),r.enchantScope(),e},p(o,String)]}var l=r.is,f=i.TypeSignature,p=f.either,d=f.rest;i.add("enchant",function(e,t,n){return{TwineScript_ObjectName:"an (enchant:) command",TwineScript_TypeName:"an (enchant:) command",TwineScript_Print:function(){var r=n.summary();if(r.includes("newTargets")||r.includes("target"))return u.create("macrocall","The changer given to (enchant:) can't include a revision command like (replace:) or (append:).");var i=s.create({scope:o.from(t),changer:n,section:e});return e.enchantments.push(i),i.enchantScope(),""}}},[p(o,String),a]);var h=["replace","append","prepend"];h.forEach(function(t){i.addChanger(t,function(){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return n.every(Boolean)?a.create(t,n.map(o.from)):u.create("datatype","A string given to this ("+t+":) macro was empty.")},function(n){for(var r,i=arguments.length,o=Array(i>1?i-1:0),a=1;i>a;a++)o[a-1]=arguments[a];var s=e(n.target).parents().filter("tw-collapsed").length>0;return s||(n.attr=[].concat(_toConsumableArray(n.attr),[{collapsing:!1}])),n.newTargets=n.newTargets||[],(r=n.newTargets).push.apply(r,_toConsumableArray(o.filter(function(e){return!n.newTargets.some(function(n){var r=n.target,i=n.append;return l(e,r)&&t===i})}).map(function(e){return{target:e,append:t}}))),n},d(p(o,String)))}),e(function(){t.storyElement.on("click.enchantment",function(){Array.from(e(this).parents(".enchantment-clickblock")).sort(function(e,t){return 8&e.compareDocumentPosition(t)?1:-1}).forEach(function(t){var n=e(t).data("enchantmentEvent");n&&n()})})});var m=[{name:"click",enchantDesc:{event:"click",once:!0,rerender:"",classList:"link enchantment-link",blockClassList:"enchantment-clickblock"}},{name:"mouseover",enchantDesc:{event:"mouseenter",once:!0,rerender:"",classList:"enchantment-mouseover"}},{name:"mouseout",enchantDesc:{event:"mouseleave",once:!0,rerender:"",classList:"enchantment-mouseout"}}];m.forEach(function(e){return i.addChanger.apply(i,[e.name].concat(_toConsumableArray(c(e.enchantDesc,e.name))))}),h.forEach(function(e){m.forEach(function(t){var n=Object.assign({},t.enchantDesc,{rerender:e}),r=t.name+"-"+e;i.addChanger.apply(i,[r].concat(_toConsumableArray(c(n,r))))})})}),define("macrolib/links",["jquery","macros","utils","utils/selectors","state","passages","engine","datatypes/changercommand","internaltypes/twineerror"],function(e,t,n,r,i,o,a,s,u){var c=t.TypeSignature.optional,l="Links can't have empty strings for their displayed text.";e(function(){return e(n.storyElement).on("click.passage-link",r.internalLink,function(){var t=e(this),n=t.parent().data("clickEvent");if(n)return void n(t);var r=t.attr("passage-name");return r?void a.goToPassage(r,!1):t.is("[undo]")?void a.goBack():void 0})}),[["link","link-replace"],["link-reveal"],["link-repeat"]].forEach(function(e){return t.addChanger(e,function(t,n){return n?s.create(e[0],[n]):u.create("macrocall",l)},function(t,n){t.innerSource||(t.innerSource=t.source),t.source="<tw-link tabindex=0>"+n+"</tw-link>",t.append="link"===e[0]?"replace":"append",t.data.clickEvent=function(n){t.source=t.innerSource,t.section.renderInto(t.innerSource+"",null,t),"link-reveal"===e[0]&&n.contents().unwrap()}},[String])}),t.add(["link-goto"],function(t,r,a){return r?{TwineScript_TypeName:"a (link-goto: "+n.toJSLiteral(r)+", "+n.toJSLiteral(a)+") command",TwineScript_ObjectName:"a (link-goto:) command",TwineScript_Print:function(){var s=t.evaluateTwineMarkup(n.unescape(a||r));if(s instanceof e)return s;if(!o.has(s))return'<tw-broken-link passage-name="'+n.escape(s)+'">'+(r||a)+"</tw-broken-link>";var u=i.passageNameVisited(s);return"<tw-link tabindex=0 "+(u>0?'class="visited" ':"")+'passage-name="'+n.escape(s)+'">'+(r||a)+"</tw-link>"}}:u.create("macrocall",l)},[String,c(String)])("link-undo",function(e,t){return t?{TwineScript_ObjectName:"a (link-undo:"+n.toJSLiteral(t)+") command",TwineScript_TypeName:"a (link-undo:) command",TwineScript_Print:function(){return i.pastLength<1?u.create("macrocall","I can't use (link-undo:) on the first turn."):"<tw-link tabindex=0 undo>"+t+"</tw-link>"}}:u.create("macrocall",l)},[String])}),define("repl",["utils","markup","twinescript/compiler","twinescript/environ"],function(e,t,n,r){window.REPL=function(e){var i=n(t.lex("(print:"+e+")"));console.log(i);var o=r({}).eval(i);return o.TwineScript_Print?o.TwineScript_Print():o},window.LEX=function(e){var n=t.lex(e);return 1===n.length?n[0]:n}}),require.config({paths:{jquery:"../node_modules/jquery/dist/jquery",almond:"../node_modules/almond/almond","es6-shim":"../node_modules/es6-shim/es6-shim",requestAnimationFrame:"../node_modules/requestanimationframe/app/requestAnimationFrame",jqueryplugins:"utils/jqueryplugins",markup:"./markup/markup",lexer:"./markup/lexer",patterns:"./markup/patterns"},deps:["jquery","es6-shim","jqueryplugins"]}),require(["jquery","debugmode","renderer","state","engine","passages","utils/selectors","macros","macrolib/values","macrolib/commands","macrolib/datastructures","macrolib/stylechangers","macrolib/enchantments","macrolib/links","repl"],function($,DebugMode,Renderer,State,Engine,Passages,Selectors){function _eval(text){return eval(text+"")}var _installHandlers=function(){var e=$(document.documentElement);e.on("keydown",function(e){13===e.which&&"0"===e.target.getAttribute("tabindex")&&$(e.target).trigger("click")}),Engine.options.debug&&DebugMode(),_installHandlers=null};!function(e){window.onerror=function(t,n,r,i,o){var a=o&&o.stack&&"\n"+o.stack.replace(/\([^\)]+\)/g,"")+"\n"||"("+t+")\n";alert("Sorry to interrupt, but this page's code has got itself in a mess. "+a+"(This is probably due to a bug in the Harlowe game engine.)"),window.onerror=e,"function"==typeof e&&e.apply(void 0,arguments)}}(window.onerror),$(function(){var e=$(Selectors.storyData);if(0!==e.length){var t=e.attr("options");t&&t.split(/\s/).forEach(function(e){Renderer.options[e]=Engine.options[e]=!0});var n=e.attr("startnode");return Renderer.options.ifid=Engine.options.ifid=e.attr("ifid"),n||(n=[].reduce.call($(Selectors.passageData),function(e,t){var n=t.getAttribute("pid");return e>n?n:e},1/0)),n=$(Selectors.passageData+"[pid="+n+"]").attr("name"),_installHandlers(),$(Selectors.script).each(function(e){try{_eval($(this).html())}catch(t){alert("There is a problem with this story's script (#"+(e+1)+"):\n\n"+t.message)}}),$(Selectors.stylesheet).each(function(e){$(document.head).append('<style data-title="Story stylesheet '+(e+1)+'">'+$(this).html())}),window.location.hash&&!window.location.hash.includes("stories")&&State.load(window.location.hash)?void Engine.showPassage(State.passage):void Engine.goToPassage(n)}})}),define("harlowe",function(){}),require(["harlowe"])}();</script>


</body>
</html>
